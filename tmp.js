!function () { "use strict"; var t = { response: null, getEndpointURL: function (t) { var e, s = "undefined" != typeof wp && wp.customize && wp.customize.settings && wp.customize.settings.url && wp.customize.settings.url.self; s ? (e = document.createElement("a")).href = wp.customize.settings.url.self : e = document.location, "string" == typeof t && t.match(/^https?:\/\//) && ((e = document.createElement("a")).href = t); var a = "relatedposts=1", o = document.querySelector("#jp-relatedposts"); if (!o) return !1; o.hasAttribute("data-exclude") && (a += "&relatedposts_exclude=" + o.getAttribute("data-exclude")), s && (a += "&jetpackrpcustomize=1"); var r = e.pathname; return "/" !== r[0] && (r = "/" + r), "" === e.search ? r + "?" + a : r + e.search + "&" + a }, getAnchor: function (t, e) { var s = t.title, a = document.createElement("a"); a.setAttribute("class", e), a.setAttribute("href", t.url), a.setAttribute("title", s), a.setAttribute("data-origin", t.url_meta.origin), a.setAttribute("data-position", t.url_meta.position), "" !== t.rel && a.setAttribute("rel", t.rel); var o = document.createElement("div"); o.appendChild(a); var r = o.innerHTML; return [r.substring(0, r.length - 4), "</a>"] }, generateMinimalHtml: function (t, e) { var s = this, a = ""; return t.forEach((function (t, o) { var r = s.getAnchor(t, "jp-relatedposts-post-a"), p = "jp-relatedposts-post jp-relatedposts-post" + o; t.classes.length > 0 && (p += " " + t.classes.join(" ")), a += '<p class="' + p + '" data-post-id="' + t.id + '" data-post-format="' + t.format + '">', a += '<span class="jp-relatedposts-post-title">' + r[0] + t.title + r[1] + "</span>", e.showDate && (a += '<time class="jp-relatedposts-post-date" datetime="' + t.date + '">' + t.date + "</time>"), e.showContext && (a += '<span class="jp-relatedposts-post-context">' + t.context + "</span>"), a += "</p>" })), '<div class="jp-relatedposts-items jp-relatedposts-items-minimal jp-relatedposts-' + e.layout + ' ">' + a + "</div>" }, generateVisualHtml: function (t, e) { var s = this, a = ""; return t.forEach((function (t, o) { var r = s.getAnchor(t, "jp-relatedposts-post-a"), p = "jp-relatedposts-post jp-relatedposts-post" + o; t.classes.length > 0 && (p += " " + t.classes.join(" ")), t.img.src ? p += " jp-relatedposts-post-thumbs" : p += " jp-relatedposts-post-nothumbs"; var i = document.createElement("p"); i.innerHTML = t.excerpt; var n = i.textContent; if (a += '<div class="' + p + '" data-post-id="' + t.id + '" data-post-format="' + t.format + '">', t.img.src) a += r[0] + '<img class="jp-relatedposts-post-img" loading="lazy" src="' + t.img.src + '" width="' + t.img.width + '" height="' + t.img.height + (t.img.srcset ? '" srcset="' + t.img.srcset : "") + (t.img.sizes ? '" sizes="' + t.img.sizes : "") + '" alt="' + t.img.alt_text + '" />' + r[1]; else { var l = s.getAnchor(t, "jp-relatedposts-post-a jp-relatedposts-post-aoverlay"); a += l[0] + l[1] } a += "<" + related_posts_js_options.post_heading + ' class="jp-relatedposts-post-title">' + r[0] + t.title + r[1] + "</" + related_posts_js_options.post_heading + ">", a += '<p class="jp-relatedposts-post-excerpt">' + n + "</p>", e.showDate && (a += '<time class="jp-relatedposts-post-date" datetime="' + t.date + '">' + t.date + "</time>"), e.showContext && (a += '<p class="jp-relatedposts-post-context">' + t.context + "</p>"), a += "</div>" })), '<div class="jp-relatedposts-items jp-relatedposts-items-visual jp-relatedposts-' + e.layout + ' ">' + a + "</div>" }, setVisualExcerptHeights: function () { var t = document.querySelectorAll("#jp-relatedposts .jp-relatedposts-post-nothumbs .jp-relatedposts-post-excerpt"); if (t.length) for (var e = getComputedStyle(t[0]), s = parseInt(e.fontSize, 10), a = parseInt(e.lineHeight, 10), o = 0; o < t.length; o++)t[o].style.maxHeight = 5 * a / s + "em" }, getTrackedUrl: function (t) { var e = "relatedposts_hit=1"; e += "&relatedposts_origin=" + t.getAttribute("data-origin"), e += "&relatedposts_position=" + t.getAttribute("data-position"); var s = t.pathname; return "/" !== s[0] && (s = "/" + s), "" === t.search ? s + "?" + e : s + t.search + "&" + e }, cleanupTrackedUrl: function () { if ("function" == typeof history.replaceState) { var t = document.location.search.replace(/\brelatedposts_[a-z]+=[0-9]*&?\b/gi, ""); "?" === t && (t = ""), document.location.search !== t && history.replaceState({}, document.title, document.location.pathname + t) } } }; function e() { t.setVisualExcerptHeights(); var e = document.querySelectorAll("#jp-relatedposts a.jp-relatedposts-post-a"); Array.prototype.forEach.call(e, (function (e) { document.addEventListener("click", (function () { e.href = t.getTrackedUrl(e) })) })) } function s() { t.cleanupTrackedUrl(); var s = t.getEndpointURL(); if (s) if (document.querySelectorAll("#jp-relatedposts .jp-relatedposts-post").length) e(); else { var a = document.querySelector("#jp-relatedposts"), o = new XMLHttpRequest; o.open("GET", s, !0), o.setRequestHeader("x-requested-with", "XMLHttpRequest"), o.onreadystatechange = function () { if (this.readyState === XMLHttpRequest.DONE && 200 === this.status) try { var s = JSON.parse(o.responseText); if (0 === s.items.length || 0 === a.length) return; t.response = s; var r, p, i = {}; "undefined" != typeof wp && wp.customize ? (p = wp.customize.instance("jetpack_relatedposts[show_thumbnails]").get(), i.showDate = wp.customize.instance("jetpack_relatedposts[show_date]").get(), i.showContext = wp.customize.instance("jetpack_relatedposts[show_context]").get(), i.layout = wp.customize.instance("jetpack_relatedposts[layout]").get()) : (p = s.show_thumbnails, i.showDate = s.show_date, i.showContext = s.show_context, i.layout = s.layout), r = p ? t.generateVisualHtml(s.items, i) : t.generateMinimalHtml(s.items, i); var n = document.createElement("div"); if (a.appendChild(n), n.outerHTML = r, i.showDate) { var l = a.querySelectorAll(".jp-relatedposts-post-date"); Array.prototype.forEach.call(l, (function (t) { t.style.display = "block" })) } a.style.display = "block", e() } catch { } }, o.send() } } function a() { "undefined" != typeof wp && wp.customize ? (wp.customize.selectiveRefresh && wp.customize.selectiveRefresh.bind("partial-content-rendered", (function (t) { "jetpack_relatedposts" === t.partial.id && s() })), wp.customize.bind("preview-ready", s)) : s() } "loading" !== document.readyState ? a() : document.addEventListener("DOMContentLoaded", a) }();
/*! jQuery Migrate v3.4.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */
"undefined" == typeof jQuery.migrateMute && (jQuery.migrateMute = !0), function (t) { "use strict"; "function" == typeof define && define.amd ? define(["jquery"], function (e) { return t(e, window) }) : "object" == typeof module && module.exports ? module.exports = t(require("jquery"), window) : t(jQuery, window) }(function (s, n) { "use strict"; function e(e) { return 0 <= function (e, t) { for (var r = /^(\d+)\.(\d+)\.(\d+)/, n = r.exec(e) || [], o = r.exec(t) || [], a = 1; a <= 3; a++) { if (+o[a] < +n[a]) return 1; if (+n[a] < +o[a]) return -1 } return 0 }(s.fn.jquery, e) } s.migrateVersion = "3.4.1"; var t = Object.create(null); s.migrateDisablePatches = function () { for (var e = 0; e < arguments.length; e++)t[arguments[e]] = !0 }, s.migrateEnablePatches = function () { for (var e = 0; e < arguments.length; e++)delete t[arguments[e]] }, s.migrateIsPatchEnabled = function (e) { return !t[e] }, n.console && n.console.log && (s && e("3.0.0") && !e("5.0.0") || n.console.log("JQMIGRATE: jQuery 3.x-4.x REQUIRED"), s.migrateWarnings && n.console.log("JQMIGRATE: Migrate plugin loaded multiple times"), n.console.log("JQMIGRATE: Migrate is installed" + (s.migrateMute ? "" : " with logging active") + ", version " + s.migrateVersion)); var o = {}; function u(e, t) { var r = n.console; !s.migrateIsPatchEnabled(e) || s.migrateDeduplicateWarnings && o[t] || (o[t] = !0, s.migrateWarnings.push(t + " [" + e + "]"), r && r.warn && !s.migrateMute && (r.warn("JQMIGRATE: " + t), s.migrateTrace && r.trace && r.trace())) } function r(e, t, r, n, o) { Object.defineProperty(e, t, { configurable: !0, enumerable: !0, get: function () { return u(n, o), r }, set: function (e) { u(n, o), r = e } }) } function a(e, t, r, n, o) { var a = e[t]; e[t] = function () { return o && u(n, o), (s.migrateIsPatchEnabled(n) ? r : a || s.noop).apply(this, arguments) } } function c(e, t, r, n, o) { if (!o) throw new Error("No warning message provided"); return a(e, t, r, n, o), 0 } function i(e, t, r, n) { return a(e, t, r, n), 0 } s.migrateDeduplicateWarnings = !0, s.migrateWarnings = [], void 0 === s.migrateTrace && (s.migrateTrace = !0), s.migrateReset = function () { o = {}, s.migrateWarnings.length = 0 }, "BackCompat" === n.document.compatMode && u("quirks", "jQuery is not compatible with Quirks Mode"); var d, l, p, f = {}, m = s.fn.init, y = s.find, h = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/, g = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g, v = /^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g; for (d in i(s.fn, "init", function (e) { var t = Array.prototype.slice.call(arguments); return s.migrateIsPatchEnabled("selector-empty-id") && "string" == typeof e && "#" === e && (u("selector-empty-id", "jQuery( '#' ) is not a valid selector"), t[0] = []), m.apply(this, t) }, "selector-empty-id"), s.fn.init.prototype = s.fn, i(s, "find", function (t) { var r = Array.prototype.slice.call(arguments); if ("string" == typeof t && h.test(t)) try { n.document.querySelector(t) } catch (e) { t = t.replace(g, function (e, t, r, n) { return "[" + t + r + '"' + n + '"]' }); try { n.document.querySelector(t), u("selector-hash", "Attribute selector with '#' must be quoted: " + r[0]), r[0] = t } catch (e) { u("selector-hash", "Attribute selector with '#' was not fixed: " + r[0]) } } return y.apply(this, r) }, "selector-hash"), y) Object.prototype.hasOwnProperty.call(y, d) && (s.find[d] = y[d]); c(s.fn, "size", function () { return this.length }, "size", "jQuery.fn.size() is deprecated and removed; use the .length property"), c(s, "parseJSON", function () { return JSON.parse.apply(null, arguments) }, "parseJSON", "jQuery.parseJSON is deprecated; use JSON.parse"), c(s, "holdReady", s.holdReady, "holdReady", "jQuery.holdReady is deprecated"), c(s, "unique", s.uniqueSort, "unique", "jQuery.unique is deprecated; use jQuery.uniqueSort"), r(s.expr, "filters", s.expr.pseudos, "expr-pre-pseudos", "jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"), r(s.expr, ":", s.expr.pseudos, "expr-pre-pseudos", "jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos"), e("3.1.1") && c(s, "trim", function (e) { return null == e ? "" : (e + "").replace(v, "$1") }, "trim", "jQuery.trim is deprecated; use String.prototype.trim"), e("3.2.0") && (c(s, "nodeName", function (e, t) { return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase() }, "nodeName", "jQuery.nodeName is deprecated"), c(s, "isArray", Array.isArray, "isArray", "jQuery.isArray is deprecated; use Array.isArray")), e("3.3.0") && (c(s, "isNumeric", function (e) { var t = typeof e; return ("number" == t || "string" == t) && !isNaN(e - parseFloat(e)) }, "isNumeric", "jQuery.isNumeric() is deprecated"), s.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (e, t) { f["[object " + t + "]"] = t.toLowerCase() }), c(s, "type", function (e) { return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? f[Object.prototype.toString.call(e)] || "object" : typeof e }, "type", "jQuery.type is deprecated"), c(s, "isFunction", function (e) { return "function" == typeof e }, "isFunction", "jQuery.isFunction() is deprecated"), c(s, "isWindow", function (e) { return null != e && e === e.window }, "isWindow", "jQuery.isWindow() is deprecated")), s.ajax && (l = s.ajax, p = /(=)\?(?=&|$)|\?\?/, i(s, "ajax", function () { var e = l.apply(this, arguments); return e.promise && (c(e, "success", e.done, "jqXHR-methods", "jQXHR.success is deprecated and removed"), c(e, "error", e.fail, "jqXHR-methods", "jQXHR.error is deprecated and removed"), c(e, "complete", e.always, "jqXHR-methods", "jQXHR.complete is deprecated and removed")), e }, "jqXHR-methods"), e("4.0.0") || s.ajaxPrefilter("+json", function (e) { !1 !== e.jsonp && (p.test(e.url) || "string" == typeof e.data && 0 === (e.contentType || "").indexOf("application/x-www-form-urlencoded") && p.test(e.data)) && u("jsonp-promotion", "JSON-to-JSONP auto-promotion is deprecated") })); var j = s.fn.removeAttr, b = s.fn.toggleClass, w = /\S+/g; function x(e) { return e.replace(/-([a-z])/g, function (e, t) { return t.toUpperCase() }) } i(s.fn, "removeAttr", function (e) { var r = this, n = !1; return s.each(e.match(w), function (e, t) { s.expr.match.bool.test(t) && r.each(function () { if (!1 !== s(this).prop(t)) return !(n = !0) }), n && (u("removeAttr-bool", "jQuery.fn.removeAttr no longer sets boolean properties: " + t), r.prop(t, !1)) }), j.apply(this, arguments) }, "removeAttr-bool"), i(s.fn, "toggleClass", function (t) { return void 0 !== t && "boolean" != typeof t ? b.apply(this, arguments) : (u("toggleClass-bool", "jQuery.fn.toggleClass( boolean ) is deprecated"), this.each(function () { var e = this.getAttribute && this.getAttribute("class") || ""; e && s.data(this, "__className__", e), this.setAttribute && this.setAttribute("class", !e && !1 !== t && s.data(this, "__className__") || "") })) }, "toggleClass-bool"); var Q, A, R = !1, C = /^[a-z]/, N = /^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/; s.swap && s.each(["height", "width", "reliableMarginRight"], function (e, t) { var r = s.cssHooks[t] && s.cssHooks[t].get; r && (s.cssHooks[t].get = function () { var e; return R = !0, e = r.apply(this, arguments), R = !1, e }) }), i(s, "swap", function (e, t, r, n) { var o, a, i = {}; for (a in R || u("swap", "jQuery.swap() is undocumented and deprecated"), t) i[a] = e.style[a], e.style[a] = t[a]; for (a in o = r.apply(e, n || []), t) e.style[a] = i[a]; return o }, "swap"), e("3.4.0") && "undefined" != typeof Proxy && (s.cssProps = new Proxy(s.cssProps || {}, { set: function () { return u("cssProps", "jQuery.cssProps is deprecated"), Reflect.set.apply(this, arguments) } })), e("4.0.0") ? (A = { animationIterationCount: !0, columnCount: !0, fillOpacity: !0, flexGrow: !0, flexShrink: !0, fontWeight: !0, gridArea: !0, gridColumn: !0, gridColumnEnd: !0, gridColumnStart: !0, gridRow: !0, gridRowEnd: !0, gridRowStart: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, "undefined" != typeof Proxy ? s.cssNumber = new Proxy(A, { get: function () { return u("css-number", "jQuery.cssNumber is deprecated"), Reflect.get.apply(this, arguments) }, set: function () { return u("css-number", "jQuery.cssNumber is deprecated"), Reflect.set.apply(this, arguments) } }) : s.cssNumber = A) : A = s.cssNumber, Q = s.fn.css, i(s.fn, "css", function (e, t) { var r, n, o = this; return e && "object" == typeof e && !Array.isArray(e) ? (s.each(e, function (e, t) { s.fn.css.call(o, e, t) }), this) : ("number" == typeof t && (r = x(e), n = r, C.test(n) && N.test(n[0].toUpperCase() + n.slice(1)) || A[r] || u("css-number", 'Number-typed values are deprecated for jQuery.fn.css( "' + e + '", value )')), Q.apply(this, arguments)) }, "css-number"); var S, P, k, H, E = s.data; i(s, "data", function (e, t, r) { var n, o, a; if (t && "object" == typeof t && 2 === arguments.length) { for (a in n = s.hasData(e) && E.call(this, e), o = {}, t) a !== x(a) ? (u("data-camelCase", "jQuery.data() always sets/gets camelCased names: " + a), n[a] = t[a]) : o[a] = t[a]; return E.call(this, e, o), t } return t && "string" == typeof t && t !== x(t) && (n = s.hasData(e) && E.call(this, e)) && t in n ? (u("data-camelCase", "jQuery.data() always sets/gets camelCased names: " + t), 2 < arguments.length && (n[t] = r), n[t]) : E.apply(this, arguments) }, "data-camelCase"), s.fx && (k = s.Tween.prototype.run, H = function (e) { return e }, i(s.Tween.prototype, "run", function () { 1 < s.easing[this.easing].length && (u("easing-one-arg", "'jQuery.easing." + this.easing.toString() + "' should use only one argument"), s.easing[this.easing] = H), k.apply(this, arguments) }, "easing-one-arg"), S = s.fx.interval, P = "jQuery.fx.interval is deprecated", n.requestAnimationFrame && Object.defineProperty(s.fx, "interval", { configurable: !0, enumerable: !0, get: function () { return n.document.hidden || u("fx-interval", P), s.migrateIsPatchEnabled("fx-interval") && void 0 === S ? 13 : S }, set: function (e) { u("fx-interval", P), S = e } })); var M = s.fn.load, q = s.event.add, O = s.event.fix; s.event.props = [], s.event.fixHooks = {}, r(s.event.props, "concat", s.event.props.concat, "event-old-patch", "jQuery.event.props.concat() is deprecated and removed"), i(s.event, "fix", function (e) { var t, r = e.type, n = this.fixHooks[r], o = s.event.props; if (o.length) { u("event-old-patch", "jQuery.event.props are deprecated and removed: " + o.join()); while (o.length) s.event.addProp(o.pop()) } if (n && !n._migrated_ && (n._migrated_ = !0, u("event-old-patch", "jQuery.event.fixHooks are deprecated and removed: " + r), (o = n.props) && o.length)) while (o.length) s.event.addProp(o.pop()); return t = O.call(this, e), n && n.filter ? n.filter(t, e) : t }, "event-old-patch"), i(s.event, "add", function (e, t) { return e === n && "load" === t && "complete" === n.document.readyState && u("load-after-event", "jQuery(window).on('load'...) called after load event occurred"), q.apply(this, arguments) }, "load-after-event"), s.each(["load", "unload", "error"], function (e, t) { i(s.fn, t, function () { var e = Array.prototype.slice.call(arguments, 0); return "load" === t && "string" == typeof e[0] ? M.apply(this, e) : (u("shorthand-removed-v3", "jQuery.fn." + t + "() is deprecated"), e.splice(0, 0, t), arguments.length ? this.on.apply(this, e) : (this.triggerHandler.apply(this, e), this)) }, "shorthand-removed-v3") }), s.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function (e, r) { c(s.fn, r, function (e, t) { return 0 < arguments.length ? this.on(r, null, e, t) : this.trigger(r) }, "shorthand-deprecated-v3", "jQuery.fn." + r + "() event shorthand is deprecated") }), s(function () { s(n.document).triggerHandler("ready") }), s.event.special.ready = { setup: function () { this === n.document && u("ready-event", "'ready' event is deprecated") } }, c(s.fn, "bind", function (e, t, r) { return this.on(e, null, t, r) }, "pre-on-methods", "jQuery.fn.bind() is deprecated"), c(s.fn, "unbind", function (e, t) { return this.off(e, null, t) }, "pre-on-methods", "jQuery.fn.unbind() is deprecated"), c(s.fn, "delegate", function (e, t, r, n) { return this.on(t, e, r, n) }, "pre-on-methods", "jQuery.fn.delegate() is deprecated"), c(s.fn, "undelegate", function (e, t, r) { return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", r) }, "pre-on-methods", "jQuery.fn.undelegate() is deprecated"), c(s.fn, "hover", function (e, t) { return this.on("mouseenter", e).on("mouseleave", t || e) }, "pre-on-methods", "jQuery.fn.hover() is deprecated"); function T(e) { var t = n.document.implementation.createHTMLDocument(""); return t.body.innerHTML = e, t.body && t.body.innerHTML } var F = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi; s.UNSAFE_restoreLegacyHtmlPrefilter = function () { s.migrateEnablePatches("self-closed-tags") }, i(s, "htmlPrefilter", function (e) { var t, r; return (r = (t = e).replace(F, "<$1></$2>")) !== t && T(t) !== T(r) && u("self-closed-tags", "HTML tags must be properly nested and closed: " + t), e.replace(F, "<$1></$2>") }, "self-closed-tags"), s.migrateDisablePatches("self-closed-tags"); var D, W, _, I = s.fn.offset; return i(s.fn, "offset", function () { var e = this[0]; return !e || e.nodeType && e.getBoundingClientRect ? I.apply(this, arguments) : (u("offset-valid-elem", "jQuery.fn.offset() requires a valid DOM element"), arguments.length ? this : void 0) }, "offset-valid-elem"), s.ajax && (D = s.param, i(s, "param", function (e, t) { var r = s.ajaxSettings && s.ajaxSettings.traditional; return void 0 === t && r && (u("param-ajax-traditional", "jQuery.param() no longer uses jQuery.ajaxSettings.traditional"), t = r), D.call(this, e, t) }, "param-ajax-traditional")), c(s.fn, "andSelf", s.fn.addBack, "andSelf", "jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"), s.Deferred && (W = s.Deferred, _ = [["resolve", "done", s.Callbacks("once memory"), s.Callbacks("once memory"), "resolved"], ["reject", "fail", s.Callbacks("once memory"), s.Callbacks("once memory"), "rejected"], ["notify", "progress", s.Callbacks("memory"), s.Callbacks("memory")]], i(s, "Deferred", function (e) { var a = W(), i = a.promise(); function t() { var o = arguments; return s.Deferred(function (n) { s.each(_, function (e, t) { var r = "function" == typeof o[e] && o[e]; a[t[1]](function () { var e = r && r.apply(this, arguments); e && "function" == typeof e.promise ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[t[0] + "With"](this === i ? n.promise() : this, r ? [e] : arguments) }) }), o = null }).promise() } return c(a, "pipe", t, "deferred-pipe", "deferred.pipe() is deprecated"), c(i, "pipe", t, "deferred-pipe", "deferred.pipe() is deprecated"), e && e.call(a, a), a }, "deferred-pipe"), s.Deferred.exceptionHook = W.exceptionHook), s });
(() => { (function (t) { "use strict"; var n = { audio: t(".wp-block-audio audio"), init: function () { this.audio.each(function (i, u) { u.hasAttribute("data-analytics-src") && u.addEventListener("play", function () { var e = u.dataset.analyticsSrc, s = u.dataset.fired; s || (u.setAttribute("data-fired", !0), ace.analytics.Tracking.trackEvent("wp_audio_play", { source: e })) }) }) } }; t(document).ready(function () { n.init() }) })(jQuery); (function (t) { t(document).ready(function () { var n = {}; let i = "US"; t.post(consenthub_settings.configurl, {}, function (u) { u.locale && (i = u.locale) }, "json"), n = { el: { submitButton: t("#consenthub_form_submit"), formWrapper: t("#consenthub-form-wrapper"), action: "atlassian_blog_process_consenthub", key: t("#consenthub_key").val(), successMsg: t("#consenthub_success_msg").val(), formUrl: consenthub_settings.formurl }, init: function () { n.bindAction() }, bindAction: function () { n.el.submitButton.click(n.formSubmit) }, formSubmit: function (u) { u.preventDefault(); let e = t("#consenthub_email").val(); if (e && n.isValidEmailAddress(e)) { let s = { email: e, site: "atlassian", locale: i, formUrl: n.el.formUrl, formId: "blogForm" }; n.el.submitButton.val("Submitting..."), n.el.submitButton.prop("disabled", !0), t.ajax({ type: "POST", url: consenthub_settings.submiturl, dataType: "json", headers: { "Content-Type": "application/json", Accept: "application/json", sslverify: !0 }, data: JSON.stringify(s), success: function () { n.el.formWrapper.html('<div class="subscribe-submission"><span class="subscribe-label">Thank you!</span><h3 class="form-description" style="text-align: center;">' + n.el.successMsg + "</h3></div>") }, error: function () { n.el.formWrapper.html('<div class="subscribe-submission"><h3 class="form-description" style="text-align: center;">' + consenthub_settings.fail_msg + "</h3></div>") } }) } else t("#consenthub_error_msg").addClass("alert alert-danger").html(consenthub_settings.error_msg) }, isValidEmailAddress: function (u) { return /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test(u) } }, n.init() }) })(jQuery); (function (t) { "use strict"; var n = { images: t(".is-style-img-download img"), init: function () { this.images.each(function () { t(this).closest(".related-post").length || n.addLink(t(this)) }) }, addLink: function (i) { var u = t("<div>"), e = t("<a>"), s = i.clone(), a; e.attr("href", i.attr("src")).attr("download", "").text("Download").addClass("d-none"), u.addClass("img-download-wrapper"), a = u.append(s).append(e), i.replaceWith(a) } }; t(document).ready(function () { n.init() }) })(jQuery); (function (t) { "use strict"; var n = { init: function () { document.querySelector("li.atl-policy-link-container") && document.querySelector("li.atl-policy-link-container > a").classList.add("atl-policy-link", "atl-policy-link-text") } }; t(document).ready(function () { n.init() }) })(jQuery); })();
!function () {
    (function () {
        function ba(g) { function p() { try { M.doScroll("left") } catch (ca) { q.setTimeout(p, 50); return } y("poll") } function y(p) { if ("readystatechange" != p.type || "complete" == A.readyState) ("load" == p.type ? q : A)[C](r + p.type, y, !1), !k && (k = !0) && g.call(q, p.type || p) } var X = A.addEventListener, k = !1, F = !0, x = X ? "addEventListener" : "attachEvent", C = X ? "removeEventListener" : "detachEvent", r = X ? "" : "on"; if ("complete" == A.readyState) g.call(q, "lazy"); else { if (A.createEventObject && M.doScroll) { try { F = !q.frameElement } catch (ca) { } F && p() } A[x](r + "DOMContentLoaded", y, !1); A[x](r + "readystatechange", y, !1); q[x](r + "load", y, !1) } } function V() { Y && ba(function () { var g = N.length; da(g ? function () { for (var p = 0; p < g; ++p)(function (g) { q.setTimeout(function () { q.exports[N[g]].apply(q, arguments) }, 0) })(p) } : void 0) }) } for (var q = window, A = document, M = A.documentElement, O = A.head || A.getElementsByTagName("head")[0] || M, C = "", G = A.getElementsByTagName("script"), k = G.length; 0 <= --k;) { var P = G[k], Z = P.src.match(/^[^?#]*\/run_prettify\.js(\?[^#]*)?(?:#.*)?$/); if (Z) { C = Z[1] || ""; P.parentNode.removeChild(P); break } } var Y = !0, I = [], Q = [], N = []; C.replace(/[?&]([^&=]+)=([^&]+)/g, function (g, p, y) { y = decodeURIComponent(y); p = decodeURIComponent(p); "autorun" == p ? Y = !/^[0fn]/i.test(y) : "lang" == p ? I.push(y) : "skin" == p ? Q.push(y) : "callback" == p && N.push(y) }); for (var T = q.codePrettifyLoaderBaseUrl, k = 0, C = I.length; k < C; ++k)(function () { var g = A.createElement("script"); g.onload = g.onerror = g.onreadystatechange = function () { !g || g.readyState && !/loaded|complete/.test(g.readyState) || (g.onerror = g.onload = g.onreadystatechange = null, --U, U || q.setTimeout(V, 0), g.parentNode && g.parentNode.removeChild(g), g = null) }; g.type = "text/javascript"; g.src = T + "/lang-" + encodeURIComponent(I[k]) + ".js"; O.insertBefore(g, O.firstChild) })(I[k]); for (var U = I.length, G = [], k = 0, C = Q.length; k < C; ++k)G.push(T + "/skins/" + encodeURIComponent(Q[k]) + ".css"); G.push(T + "/prettify.css"); (function (g) { function p(k) { if (k !== y) { var q = A.createElement("link"); q.rel = "stylesheet"; q.type = "text/css"; k + 1 < y && (q.error = q.onerror = function () { p(k + 1) }); q.href = g[k]; O.appendChild(q) } } var y = g.length; p(0) })(G); var da = function () {
            "undefined" !== typeof window && (window.PR_SHOULD_USE_CONTINUATION = !0); var g; (function () {
                function p(a) { function d(e) { var a = e.charCodeAt(0); if (92 !== a) return a; var c = e.charAt(1); return (a = k[c]) ? a : "0" <= c && "7" >= c ? parseInt(e.substring(1), 8) : "u" === c || "x" === c ? parseInt(e.substring(2), 16) : e.charCodeAt(1) } function f(e) { if (32 > e) return (16 > e ? "\\x0" : "\\x") + e.toString(16); e = String.fromCharCode(e); return "\\" === e || "-" === e || "]" === e || "^" === e ? "\\" + e : e } function c(e) { var c = e.substring(1, e.length - 1).match(RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]", "g")); e = []; var a = "^" === c[0], b = ["["]; a && b.push("^"); for (var a = a ? 1 : 0, h = c.length; a < h; ++a) { var l = c[a]; if (/\\[bdsw]/i.test(l)) b.push(l); else { var l = d(l), n; a + 2 < h && "-" === c[a + 1] ? (n = d(c[a + 2]), a += 2) : n = l; e.push([l, n]); 65 > n || 122 < l || (65 > n || 90 < l || e.push([Math.max(65, l) | 32, Math.min(n, 90) | 32]), 97 > n || 122 < l || e.push([Math.max(97, l) & -33, Math.min(n, 122) & -33])) } } e.sort(function (e, a) { return e[0] - a[0] || a[1] - e[1] }); c = []; h = []; for (a = 0; a < e.length; ++a)l = e[a], l[0] <= h[1] + 1 ? h[1] = Math.max(h[1], l[1]) : c.push(h = l); for (a = 0; a < c.length; ++a)l = c[a], b.push(f(l[0])), l[1] > l[0] && (l[1] + 1 > l[0] && b.push("-"), b.push(f(l[1]))); b.push("]"); return b.join("") } function g(e) { for (var a = e.source.match(RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)", "g")), b = a.length, d = [], h = 0, l = 0; h < b; ++h) { var n = a[h]; "(" === n ? ++l : "\\" === n.charAt(0) && (n = +n.substring(1)) && (n <= l ? d[n] = -1 : a[h] = f(n)) } for (h = 1; h < d.length; ++h)-1 === d[h] && (d[h] = ++p); for (l = h = 0; h < b; ++h)n = a[h], "(" === n ? (++l, d[l] || (a[h] = "(?:")) : "\\" === n.charAt(0) && (n = +n.substring(1)) && n <= l && (a[h] = "\\" + d[n]); for (h = 0; h < b; ++h)"^" === a[h] && "^" !== a[h + 1] && (a[h] = ""); if (e.ignoreCase && B) for (h = 0; h < b; ++h)n = a[h], e = n.charAt(0), 2 <= n.length && "[" === e ? a[h] = c(n) : "\\" !== e && (a[h] = n.replace(/[a-zA-Z]/g, function (a) { a = a.charCodeAt(0); return "[" + String.fromCharCode(a & -33, a | 32) + "]" })); return a.join("") } for (var p = 0, B = !1, m = !1, J = 0, b = a.length; J < b; ++J) { var t = a[J]; if (t.ignoreCase) m = !0; else if (/[a-z]/i.test(t.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi, ""))) { B = !0; m = !1; break } } for (var k = { b: 8, t: 9, n: 10, v: 11, f: 12, r: 13 }, u = [], J = 0, b = a.length; J < b; ++J) { t = a[J]; if (t.global || t.multiline) throw Error("" + t); u.push("(?:" + g(t) + ")") } return new RegExp(u.join("|"), m ? "gi" : "g") } function q(a, d) { function f(a) { var b = a.nodeType; if (1 == b) { if (!c.test(a.className)) { for (b = a.firstChild; b; b = b.nextSibling)f(b); b = a.nodeName.toLowerCase(); if ("br" === b || "li" === b) g[m] = "\n", B[m << 1] = p++, B[m++ << 1 | 1] = a } } else if (3 == b || 4 == b) b = a.nodeValue, b.length && (b = d ? b.replace(/\r\n?/g, "\n") : b.replace(/[ \t\r\n]+/g, " "), g[m] = b, B[m << 1] = p, p += b.length, B[m++ << 1 | 1] = a) } var c = /(?:^|\s)nocode(?:\s|$)/, g = [], p = 0, B = [], m = 0; f(a); return { a: g.join("").replace(/\n$/, ""), c: B } } function k(a, d, f, c, g) { f && (a = { h: a, l: 1, j: null, m: null, a: f, c: null, i: d, g: null }, c(a), g.push.apply(g, a.g)) } function A(a) { for (var d = void 0, f = a.firstChild; f; f = f.nextSibling)var c = f.nodeType, d = 1 === c ? d ? a : f : 3 === c ? T.test(f.nodeValue) ? a : d : d; return d === a ? void 0 : d } function F(a, d) {
                    function f(a) {
                        for (var m = a.i, p = a.h, b = [m, "pln"], t = 0, B = a.a.match(g) || [], u = {}, e = 0, r = B.length; e < r; ++e) {
                            var E = B[e], w = u[E], h = void 0, l; if ("string" === typeof w) l = !1; else { var n = c[E.charAt(0)]; if (n) h = E.match(n[1]), w = n[0]; else { for (l = 0; l < q; ++l)if (n = d[l], h = E.match(n[1])) { w = n[0]; break } h || (w = "pln") } !(l = 5 <= w.length && "lang-" === w.substring(0, 5)) || h && "string" === typeof h[1] || (l = !1, w = "src"); l || (u[E] = w) } n = t; t += E.length; if (l) { l = h[1]; var D = E.indexOf(l), H = D + l.length; h[2] && (H = E.length - h[2].length, D = H - l.length); w = w.substring(5); k(p, m + n, E.substring(0, D), f, b); k(p, m + n + D, l, G(w, l), b); k(p, m + n + H, E.substring(H), f, b) } else b.push(m +
                                n, w)
                        } a.g = b
                    } var c = {}, g; (function () { for (var f = a.concat(d), m = [], k = {}, b = 0, t = f.length; b < t; ++b) { var q = f[b], u = q[3]; if (u) for (var e = u.length; 0 <= --e;)c[u.charAt(e)] = q; q = q[1]; u = "" + q; k.hasOwnProperty(u) || (m.push(q), k[u] = null) } m.push(/[\0-\uffff]/); g = p(m) })(); var q = d.length; return f
                } function x(a) {
                    var d = [], f = []; a.tripleQuotedStrings ? d.push(["str", /^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/, null, "'\""]) : a.multiLineStrings ? d.push(["str", /^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/, null, "'\"`"]) : d.push(["str", /^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/, null, "\"'"]); a.verbatimStrings && f.push(["str", /^@\"(?:[^\"]|\"\")*(?:\"|$)/, null]); var c = a.hashComments; c && (a.cStyleComments ? (1 < c ? d.push(["com", /^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/, null, "#"]) : d.push(["com", /^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\r\n]*)/, null, "#"]), f.push(["str", /^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/, null])) : d.push(["com", /^#[^\r\n]*/, null, "#"])); a.cStyleComments && (f.push(["com", /^\/\/[^\r\n]*/, null]), f.push(["com", /^\/\*[\s\S]*?(?:\*\/|$)/, null])); if (c = a.regexLiterals) {
                        var g = (c = 1 < c ? "" : "\n\r") ? "." : "[\\S\\s]"; f.push(["lang-regex", RegExp("^(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*(" +
                            ("/(?=[^/*" + c + "])(?:[^/\\x5B\\x5C" + c + "]|\\x5C" + g + "|\\x5B(?:[^\\x5C\\x5D" + c + "]|\\x5C" + g + ")*(?:\\x5D|$))+/") + ")")])
                    } (c = a.types) && f.push(["typ", c]); c = ("" + a.keywords).replace(/^ | $/g, ""); c.length && f.push(["kwd", new RegExp("^(?:" + c.replace(/[\s,]+/g, "|") + ")\\b"), null]); d.push(["pln", /^\s+/, null, " \r\n\t\u00a0"]); c = "^.[^\\s\\w.$@'\"`/\\\\]*"; a.regexLiterals && (c += "(?!s*/)"); f.push(["lit", /^@[a-z_$][a-z_$@0-9]*/i, null], ["typ", /^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/, null], ["pln", /^[a-z_$][a-z_$@0-9]*/i, null], ["lit", /^(?:0x[a-f0-9]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+\-]?\d+)?)[a-z]*/i, null, "0123456789"], ["pln", /^\\[\s\S]?/, null], ["pun", new RegExp(c), null]); return F(d, f)
                } function C(a, d, f) {
                    function c(a) {
                        var b = a.nodeType; if (1 == b && !p.test(a.className)) if ("br" === a.nodeName.toLowerCase()) g(a), a.parentNode && a.parentNode.removeChild(a); else for (a = a.firstChild; a; a = a.nextSibling)c(a); else if ((3 == b || 4 == b) && f) {
                            var e = a.nodeValue, d = e.match(q); d && (b = e.substring(0, d.index), a.nodeValue = b, (e = e.substring(d.index +
                                d[0].length)) && a.parentNode.insertBefore(m.createTextNode(e), a.nextSibling), g(a), b || a.parentNode.removeChild(a))
                        }
                    } function g(a) { function c(a, b) { var e = b ? a.cloneNode(!1) : a, n = a.parentNode; if (n) { var n = c(n, 1), d = a.nextSibling; n.appendChild(e); for (var f = d; f; f = d)d = f.nextSibling, n.appendChild(f) } return e } for (; !a.nextSibling;)if (a = a.parentNode, !a) return; a = c(a.nextSibling, 0); for (var e; (e = a.parentNode) && 1 === e.nodeType;)a = e; b.push(a) } for (var p = /(?:^|\s)nocode(?:\s|$)/, q = /\r\n?|\n/, m = a.ownerDocument, k = m.createElement("li"); a.firstChild;)k.appendChild(a.firstChild); for (var b = [k], t = 0; t < b.length; ++t)c(b[t]); d === (d | 0) && b[0].setAttribute("value", d); var r = m.createElement("ol"); r.className = "linenums"; d = Math.max(0, d - 1 | 0) || 0; for (var t = 0, u = b.length; t < u; ++t)k = b[t], k.className = "L" + (t + d) % 10, k.firstChild || k.appendChild(m.createTextNode("\u00a0")), r.appendChild(k); a.appendChild(r)
                } function r(a, d) { for (var f = d.length; 0 <= --f;) { var c = d[f]; W.hasOwnProperty(c) ? R.console && console.warn("cannot override language handler %s", c) : W[c] = a } } function G(a, d) { a && W.hasOwnProperty(a) || (a = /^\s*</.test(d) ? "default-markup" : "default-code"); return W[a] } function I(a) { var d = a.j; try { var f = q(a.h, a.l), c = f.a; a.a = c; a.c = f.c; a.i = 0; G(d, c)(a); var g = /\bMSIE\s(\d+)/.exec(navigator.userAgent), g = g && 8 >= +g[1], d = /\n/g, p = a.a, k = p.length, f = 0, m = a.c, r = m.length, c = 0, b = a.g, t = b.length, x = 0; b[t] = k; var u, e; for (e = u = 0; e < t;)b[e] !== b[e + 2] ? (b[u++] = b[e++], b[u++] = b[e++]) : e += 2; t = u; for (e = u = 0; e < t;) { for (var y = b[e], A = b[e + 1], w = e + 2; w + 2 <= t && b[w + 1] === A;)w += 2; b[u++] = y; b[u++] = A; e = w } b.length = u; var h = a.h; a = ""; h && (a = h.style.display, h.style.display = "none"); try { for (; c < r;) { var l = m[c + 2] || k, n = b[x + 2] || k, w = Math.min(l, n), D = m[c + 1], H; if (1 !== D.nodeType && (H = p.substring(f, w))) { g && (H = H.replace(d, "\r")); D.nodeValue = H; var aa = D.ownerDocument, v = aa.createElement("span"); v.className = b[x + 1]; var C = D.parentNode; C.replaceChild(v, D); v.appendChild(D); f < l && (m[c + 1] = D = aa.createTextNode(p.substring(w, l)), C.insertBefore(D, v.nextSibling)) } f = w; f >= l && (c += 2); f >= n && (x += 2) } } finally { h && (h.style.display = a) } } catch (z) { R.console && console.log(z && z.stack || z) } } var R = "undefined" !== typeof window ? window : {}, K = ["break,continue,do,else,for,if,return,while"], L = [[K, "auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,restrict,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"], "catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"], S = [L, "alignas,alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,noexcept,noreturn,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"], M = [L, "abstract,assert,boolean,byte,extends,finally,final,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"], N = [L, "abstract,add,alias,as,ascending,async,await,base,bool,by,byte,checked,decimal,delegate,descending,dynamic,event,finally,fixed,foreach,from,get,global,group,implicit,in,interface,internal,into,is,join,let,lock,null,object,out,override,orderby,params,partial,readonly,ref,remove,sbyte,sealed,select,set,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,value,var,virtual,where,yield"], L = [L, "abstract,async,await,constructor,debugger,enum,eval,export,from,function,get,import,implements,instanceof,interface,let,null,of,set,undefined,var,with,yield,Infinity,NaN"], O = [K, "and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"], P = [K, "alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"], K = [K, "case,done,elif,esac,eval,fi,function,in,local,set,then,until"], Q = /^(DIR|FILE|array|vector|(de|priority_)?queue|(forward_)?list|stack|(const_)?(reverse_)?iterator|(unordered_)?(multi)?(set|map)|bitset|u?(int|float)\d*)\b/, T = /\S/, U = x({ keywords: [S, N, M, L, "caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END", O, P, K], hashComments: !0, cStyleComments: !0, multiLineStrings: !0, regexLiterals: !0 }), W = {}; r(U, ["default-code"]); r(F([], [["pln", /^[^<?]+/], ["dec", /^<!\w[^>]*(?:>|$)/], ["com", /^<\!--[\s\S]*?(?:-\->|$)/], ["lang-", /^<\?([\s\S]+?)(?:\?>|$)/], ["lang-", /^<%([\s\S]+?)(?:%>|$)/], ["pun", /^(?:<[%?]|[%?]>)/], ["lang-", /^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i], ["lang-js", /^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i], ["lang-css", /^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i], ["lang-in.tag", /^(<\/?[a-z][^<>]*>)/i]]), "default-markup htm html mxml xhtml xml xsl".split(" ")); r(F([["pln", /^[\s]+/, null, " \t\r\n"], ["atv", /^(?:\"[^\"]*\"?|\'[^\']*\'?)/, null, "\"'"]], [["tag", /^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i], ["atn", /^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i], ["lang-uq.val", /^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/], ["pun", /^[=<>\/]+/], ["lang-js", /^on\w+\s*=\s*\"([^\"]+)\"/i], ["lang-js", /^on\w+\s*=\s*\'([^\']+)\'/i], ["lang-js", /^on\w+\s*=\s*([^\"\'>\s]+)/i], ["lang-css", /^style\s*=\s*\"([^\"]+)\"/i], ["lang-css", /^style\s*=\s*\'([^\']+)\'/i], ["lang-css", /^style\s*=\s*([^\"\'>\s]+)/i]]), ["in.tag"]); r(F([], [["atv", /^[\s\S]+/]]), ["uq.val"]); r(x({ keywords: S, hashComments: !0, cStyleComments: !0, types: Q }), "c cc cpp cxx cyc m".split(" ")); r(x({ keywords: "null,true,false" }), ["json"]); r(x({ keywords: N, hashComments: !0, cStyleComments: !0, verbatimStrings: !0, types: Q }), ["cs"]); r(x({ keywords: M, cStyleComments: !0 }), ["java"]); r(x({ keywords: K, hashComments: !0, multiLineStrings: !0 }), ["bash", "bsh", "csh", "sh"]); r(x({ keywords: O, hashComments: !0, multiLineStrings: !0, tripleQuotedStrings: !0 }), ["cv", "py", "python"]); r(x({ keywords: "caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END", hashComments: !0, multiLineStrings: !0, regexLiterals: 2 }), ["perl", "pl", "pm"]); r(x({ keywords: P, hashComments: !0, multiLineStrings: !0, regexLiterals: !0 }), ["rb", "ruby"]); r(x({ keywords: L, cStyleComments: !0, regexLiterals: !0 }), ["javascript", "js", "ts", "typescript"]); r(x({ keywords: "all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes", hashComments: 3, cStyleComments: !0, multilineStrings: !0, tripleQuotedStrings: !0, regexLiterals: !0 }), ["coffee"]); r(F([], [["str", /^[\s\S]+/]]), ["regex"]); var V = R.PR = { createSimpleLexer: F, registerLangHandler: r, sourceDecorator: x, PR_ATTRIB_NAME: "atn", PR_ATTRIB_VALUE: "atv", PR_COMMENT: "com", PR_DECLARATION: "dec", PR_KEYWORD: "kwd", PR_LITERAL: "lit", PR_NOCODE: "nocode", PR_PLAIN: "pln", PR_PUNCTUATION: "pun", PR_SOURCE: "src", PR_STRING: "str", PR_TAG: "tag", PR_TYPE: "typ", prettyPrintOne: function (a, d, f) { f = f || !1; d = d || null; var c = document.createElement("div"); c.innerHTML = "<pre>" + a + "</pre>"; c = c.firstChild; f && C(c, f, !0); I({ j: d, m: f, h: c, l: 1, a: null, i: null, c: null, g: null }); return c.innerHTML }, prettyPrint: g = function (a, d) { function f() { for (var c = R.PR_SHOULD_USE_CONTINUATION ? b.now() + 250 : Infinity; t < p.length && b.now() < c; t++) { for (var d = p[t], k = h, q = d; q = q.previousSibling;) { var m = q.nodeType, v = (7 === m || 8 === m) && q.nodeValue; if (v ? !/^\??prettify\b/.test(v) : 3 !== m || /\S/.test(q.nodeValue)) break; if (v) { k = {}; v.replace(/\b(\w+)=([\w:.%+-]+)/g, function (a, b, c) { k[b] = c }); break } } q = d.className; if (!e.test(q)) { m = !1; for (v = d.parentNode; v; v = v.parentNode)if (w.test(v.tagName) && v.className && u.test(v.className)) { m = !0; break } if (!m) { d.className += " prettyprinted"; m = k.lang; if (!m) { var m = q.match(r), B; !m && (B = A(d)) && y.test(B.tagName) && (m = B.className.match(r)); m && (m = m[1]) } if (x.test(d.tagName)) v = 1; else var v = d.currentStyle, z = g.defaultView, v = (v = v ? v.whiteSpace : z && z.getComputedStyle ? z.getComputedStyle(d, null).getPropertyValue("white-space") : 0) && "pre" === v.substring(0, 3); z = k.linenums; (z = "true" === z || +z) || (z = (z = q.match(/\blinenums\b(?::(\d+))?/)) ? z[1] && z[1].length ? +z[1] : !0 : !1); z && C(d, z, v); I({ j: m, h: d, m: z, l: v, a: null, i: null, c: null, g: null }) } } } t < p.length ? R.setTimeout(f, 250) : "function" === typeof a && a() } for (var c = d || document.body, g = c.ownerDocument || document, c = [c.getElementsByTagName("pre"), c.getElementsByTagName("code"), c.getElementsByTagName("xmp")], p = [], k = 0; k < c.length; ++k)for (var m = 0, q = c[k].length; m < q; ++m)p.push(c[k][m]); var c = null, b = Date; b.now || (b = { now: function () { return +new Date } }); var t = 0, r = /\blang(?:uage)?-([\w.]+)(?!\S)/, u = /\bprettyprint\b/, e = /\bprettyprinted\b/, x = /pre|xmp/i, y = /^code$/i, w = /^(?:pre|code|xmp)$/i, h = {}; f() } }, S = R.define; "function" === typeof S && S.amd && S("google-code-prettify", [], function () { return V })
            })(); return g
        }(); U || q.setTimeout(V, 0)
    })();
}();
(() => {
    Theme = window.Theme || {}; (function (t) { "use strict"; Theme.Banner = { banner: t("#atlassian-banner-message"), banner_close: t(".atlassian-banner-message--close"), header: t("#masthead"), init: function () { Theme.Banner.banner.length && (Theme.Banner.banner_close.click(function () { Theme.Banner.hide(), Theme.Banner.set_cookie() }), Theme.Banner.user_closed() || Theme.Banner.show()) }, set_cookie: function () { var e = atlassian_banner_cookie + "=true;expires=", r = new Date, n = 1; r.setMonth(r.getMonth() + n), document.cookie = e + r.toUTCString() }, show: function () { Theme.Banner.banner.show(), Theme.Banner.toggle_header() }, hide: function () { Theme.Banner.banner.hide(), Theme.Banner.toggle_header() }, toggle_header: function () { Theme.Banner.header.toggleClass("with-banner") }, user_closed: function () { var e = document.cookie.split(";"); return !!e.filter(function (r) { return r.indexOf(atlassian_banner_cookie + "=true") >= 0 }).length } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.Carousels = { el: { collections: t(".group-collections-carousel") }, init: function () { typeof Theme.Carousels.el.collections < "u" && Theme.Carousels.el.collections !== null && Theme.Carousels.el.collections.owlCarousel({ loop: !0, dots: !1, nav: !0, navText: ['<span class="nav-arrow nav-arrow-prev"><span class="sr-only">Previous Slide</span></span>', '<span class="nav-arrow nav-arrow-next"><span class="sr-only">Next Slide</span></span>'], responsive: { 0: { items: 1, margin: 15, stagePadding: 50, nav: !1 }, 576: { items: 2, margin: 15 }, 992: { items: 3, margin: 15 } } }) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.Header = { el: { main_navigation: t(".main-navigation"), nav_parent: t(".site-header__menu-toggle"), search_wrapper: t(".search-wrapper"), search_parent: t(".site__search") }, init: function () { this.bind_menu_toggle(), this.bind_search_toggle(), this.toggle_sub_menu() }, bind_menu_toggle: function () { t(".menu-toggle").on("click", function (e) { e.preventDefault(), Theme.Header.toggle_menu() }) }, toggle_menu: function () { Theme.Header.el.search_parent.hasClass("open") && (Theme.Header.el.search_parent.toggleClass("open"), Theme.Header.el.search_wrapper.slideToggle()), Theme.Header.el.nav_parent.toggleClass("open"), Theme.Header.el.main_navigation.slideToggle() }, bind_search_toggle: function () { t(".search-toggle").on("click", function (e) { e.preventDefault(), Theme.Header.toggle_search() }) }, toggle_search: function () { Theme.Header.el.nav_parent.hasClass("open") && (Theme.Header.el.nav_parent.toggleClass("open"), Theme.Header.el.toggleClass("opened"), Theme.Header.el.main_navigation.slideToggle()), Theme.Header.el.search_parent.toggleClass("open"), Theme.Header.el.search_wrapper.slideToggle() }, toggle_sub_menu: function () { t(".menu-item .sub-menu").prev("a").on("click", function (e) { e.preventDefault(), t(this).hasClass("open") ? (t(this).removeClass("open"), t(this).parent().find(".sub-menu-slider-button").removeClass("open-slider-button")) : (t(".menu-item .sub-menu").prev("a").removeClass("open"), t(this).addClass("open"), t(this).parent().find(".sub-menu-slider-button").addClass("open-slider-button")) }), t(".menu-item .sub-menu").prev("a").on("mouseover", function (e) { e.preventDefault(), t(this).hasClass("open") ? (t(this).removeClass("open"), t(this).parent().find(".sub-menu-slider-button").removeClass("open-slider-button")) : (t(".menu-item .sub-menu").prev("a").removeClass("open"), t(this).addClass("open"), t(this).parent().find(".sub-menu-slider-button").addClass("open-slider-button")) }), t(".menu-item .sub-menu").prev("a").on("mouseout", function (e) { e.preventDefault(), t(this).hasClass("open") && (t(this).removeClass("open"), t(this).parent().find(".sub-menu-slider-button").removeClass("open-slider-button")) }), t(".sub-menu").on("mouseover", function (e) { e.preventDefault(), t(this).parent().find(".nav-menu-item-title").addClass("open"), t(this).parent().find(".sub-menu-slider-button").addClass("open-slider-button") }), t(".sub-menu").on("mouseout", function (e) { e.preventDefault(), t(this).parent().find(".nav-menu-item-title").removeClass("open"), t(this).parent().find(".sub-menu-slider-button").removeClass("open-slider-button") }) }, toggle_top_menu: function () { var e = document.querySelector(".top-bar"), r = document.querySelector(".top-bar__toggle"); r.addEventListener("click", function () { e.classList.contains("opened") ? e.classList.remove("opened") : e.classList.add("opened") }) }, toggle_subtopic_item_hover: function () { t(".menu-item-has-children .sub-menu a").on("click", function (e) { var r = t(this); e.preventDefault(), r.parent().toggleClass("hovered") }) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.IC = { sections: [], waypoints: [], init: function () { var e = document.querySelectorAll(".inview"); e.length && e.forEach(r => { var n = new Waypoint.Inview({ element: r, enter: function (s) { r.setAttribute("data-view", "entering " + s) }, entered: function (s) { r.setAttribute("data-view", "entered " + s) }, exit: function (s) { r.setAttribute("data-view", "exiting " + s) }, exited: function (s) { r.setAttribute("data-view", "exited " + s) } }) }) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.LoadMore = { init: function () { t("button.button__load-more").click(function () { Theme.LoadMore.onLoadMore(t(this)) }) }, onLoadMore: function (e) { var r = {}, n = e.data("count"), s = e.data("current-page"), a = e.data("loading"), o = e.data("exclude-product-news"), l = e.text(), p = "", y = ""; home_url_base !== "undefined" && (p = home_url_base.url + "wp-json/", y = p + "atlassianblogs/v1/loadmore", s++, e.data("current-page", s), typeof a > "u" && (a = l), e.text(a), e.attr("disabled", !0), typeof o > "u" ? o = !1 : o = !0, r = { container: e.data("container"), columnClass: e.data("column-class"), articleClass: e.data("article-class") }, t.get(y, { posts_per_page: n, current_page: s, exclude_product_news: o }).done(function (h) { r.strings = h.strings, Theme.LoadMore.render(h.items, r), e.attr("disabled", !1), e.text(l) }).fail(function () { e.addClass("d-none") })) }, render: function (e, r) { e.forEach(function (n) { Theme.LoadMore.renderItem(n, r) }) }, renderItem: function (e, r) { var n = document.querySelector(r.container), s = document.createElement("div"), a = document.createElement("article"), o = "card h-100 post type-post " + r.articleClass ? r.articleClass : "card-300x480", l = Theme.LoadMore.getImage(e), p = Theme.LoadMore.getBody(e, r), y = Theme.LoadMore.getFooter(e, r); a.className = o, s.className = "grid-column " + r.columnClass ? r.columnClass : "col-xl-6", r.container === ".homepage-loadmore-section .section-posts-row" && (a = r.container), l && (a.appendChild(l), a.className = o + " has-post-thumbnail"), a.appendChild(p), a.appendChild(y), s.appendChild(a), n.appendChild(s) }, getImage: function (e) { if (!e.thumbnail) return !1; var r = document.createElement("div"), n = document.createElement("a"), s = document.createElement("img"); return r.className = "card-image", n.href = e.link, s.src = e.thumbnail, s.className = "card-img-top wp-post-image", s.width = "600", s.height = "480", n.appendChild(s), r.appendChild(n), r }, getBody: function (e, r) { var n = document.createElement("div"), s = document.createElement("span"), a = document.createElement("a"), o = document.createElement("p"); if (a.rel = "bookmark", r.container !== ".pre-footer-posts-row .section-posts-row") { var l = document.createElement("h4"), o = document.createElement("p"); a.appendChild(document.createTextNode(e.title)), a.href = e.link, n.className = "card-body", l.appendChild(a), l.className = "entry-title card-title", o.appendChild(document.createTextNode(e.excerpt)) } else { var p = document.createElement("a"), l = document.createElement("div"), o = document.createElement("h4"), y = document.createElement("a"); p.href = e.category_link, s.className = "entry-category post-category", p.appendChild(document.createTextNode(e.category_name)), l.appendChild(p), n.className = "card-body", l.className = "entry-category post-category", y.href = e.link, y.rel = "bookmark", y.appendChild(document.createTextNode(e.title)), o.className = "entry-title card-title", o.appendChild(y) } return n.appendChild(l), n.appendChild(o), n }, getFooter: function (e, r) { var n = document.createElement("div"), s = document.createElement("div"), a = Theme.LoadMore.getAuthor(e, r), o = Theme.LoadMore.getCategory(e, r); return n.className = "card-footer", s.className = "row post_by_in no-gutters", s.appendChild(a), s.appendChild(o), n.appendChild(s), n }, getAuthor: function (e, r) { var n = document.createElement("div"), s = document.createElement("span"), a = [], o = r.strings.by + " "; return n.className = "col", s.className = "author post-author vcard", e.author.forEach(function (l) { a.push(l.display_name) }), s.appendChild(document.createTextNode(o + a.join(", "))), n.appendChild(s), n }, getCategory: function (e, r) { var n = document.createElement("div"), s = document.createElement("span"), a = document.createElement("a"), o = r.strings.in + " "; return n.className = "col", s.className = "post-category", a.href = e.category_link, a.appendChild(document.createTextNode(e.category_name)), s.appendChild(document.createTextNode(o)), s.appendChild(a), n.appendChild(s), n } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.MenuSliders = { el: { collections: t(".mega-menu-sliders") }, init: function () { Theme.MenuSliders.el.collections.tns({ container: ".mega-menu-sliders", items: 3, slideBy: "page", autoplay: !0 }) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.ModalForm = { init: function () { this.onLaunchModal() }, onLaunchModal: function () { t(document).ready(function () { var e = t("#atlassian-modal"); e.on("show.bs.modal", function (r) { Theme.ModalForm.initializeModalForm(r), Theme.ModalForm.toggleInert() }), e.on("shown.bs.modal", function () { t("#atlassian-modal").find("#consenthub_email").length && t("#atlassian-modal").find("#consenthub_email").focus() }), e.on("hide.bs.modal", function () { Theme.ModalForm.toggleInert() }), Theme.ModalForm.trapFocus() }) }, initializeModalForm: function (e) { var r = e.relatedTarget, n = { key: r.dataset.consenthubKey, msg: r.dataset.consenthubMsg, label: r.dataset.formLabel, description: r.dataset.formDescription }, s = { key: t("#atlassian-modal").find("#consenthub_key"), msg: t("#atlassian-modal").find("#consenthub_success_msg") }, a = { label: t("#atlassian-modal").find(".subscribe-label"), description: t("#atlassian-modal").find(".form-description") }, o = { key: "atlassian.atlassianBlog", msg: "We know your inbox is protected space, so we promise to send only the good stuff, twice a month.", label: "Subscribe to Work Life", description: "Advice, stories, and expertise about work life today." }; Object.keys(n).forEach(function (l) { n[l] || (n[l] = o[l]), s[l] && s[l].val().trim() === "" && s[l].val(n[l]), a[l] && a[l].text().trim() === "" && a[l].text(n[l]) }) }, toggleInert: function () { var e = t("#page"); e.hasClass("inert") ? (e.removeClass("inert"), e.removeAttr("inert")) : (e.addClass("inert"), e.attr("inert", "")) }, trapFocus: function () { var e = t("#page"), r = t("#atlassian-modal"), n = r.find('a[href]:not([disabled]), button:not([disabled]), input[type="submit"]:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'), s, a, o = 1; n.length && (s = n[0], a = n[n.length - o]), t("body").keydown(function (l) { var p = e.hasClass("inert"), y = 9, h = t(":focus"); p && l.which === y && (l.shiftKey ? h[0] === s && (l.preventDefault(), a.focus()) : h[0] === a && (l.preventDefault(), s.focus())) }) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.ModalVideo = { init: function () { this.onLaunchModal() }, onLaunchModal: function () { t(document).ready(function () { t("#atlassian-modal-video").on("show.bs.modal", function (e) { var r = t(this), n = e.relatedTarget; r.find(".modal-title").text(n.dataset.videoKey), r.find(".modal-body iframe").attr("src", n.dataset.videoUrl) }) }) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.Podcast = { sections: [], waypoints: [], init: function () { Theme.Podcast.sections = t(".single-podcast-section"), Theme.Podcast.sections.length && (Theme.Podcast.waypoints = Theme.Podcast.sections.waypoint({ handler: function (e) { Theme.Podcast.toggleActive(this.element.id, e) }, offset: "50px" }), t(".single-podcast-main").waypoint({ handler: function (e) { var r = "single-podcast-nav-sidebar-fixed"; e === "down" ? t(".single-podcast-nav-sidebar").addClass(r) : t(".single-podcast-nav-sidebar-fixed").removeClass(r) } }), t(".single-podcast-nav-handle button").click(function () { t(".single-podcast-nav").toggleClass("single-podcast-nav-active"); var e = t(this).attr("aria-expanded"); e === "true" ? t(this).attr("aria-expanded", "false") : t(this).attr("aria-expanded", "true") }), t(".single-podcast-nav-item a").click(function () { t(".single-podcast-nav").removeClass("single-podcast-nav-active") })) }, toggleActive: function (e, r) { var n = "single-podcast-nav-item-active", s; t(".single-podcast-nav-item").removeClass(n), r === "down" ? t("#single-podcast-nav-" + e).addClass(n) : (s = Theme.Podcast.getPreviousSection(e), t("#single-podcast-nav-" + s).addClass(n)) }, getPreviousSection: function (e) { var r = e, n = e; return Theme.Podcast.sections.each(function () { var s = t(this).attr("id"); s === e && (n = r), r = s }), n } } })(jQuery); Theme = window.Theme || {}; (function (t) {
        "use strict"; Theme.Post = {
            init: function () { this.show_post_header(), this.reading_time_bar(), this.add_social_pop_up(), this.remove_no_follow(), this.tweet_text() }, show_post_header: function () { var e = t(".post-hero"), r = t(".post-header-scrolled"); t(window).scroll(function () { t(window).scrollTop() > e.outerHeight() ? r.addClass("scrolled") : r.removeClass("scrolled") }) },

            reading_time_bar: function () {
                var e = t(".post-progress"), r = t(window).height(),
                    n = t(document).height(),
                    s = n - r; e.attr("max", s),
                        t(document).on("scroll", function () {
                            var a = t(window).scrollTop();
                            e.attr("value", a)
                        })
            },
            add_social_pop_up: function () { t(".social-popup").click(function (e) { e.preventDefault(), window.open(t(this).attr("href"), "_blank", "width=600,height=400") }) },



            remove_no_follow: function () { t(".entry-content .external-link").each(function () { t(this).removeAttr("rel") }) }, tweet_text: function () { t(".entry-content").mouseup(function (e) { if (!t(e.target).hasClass("inline-tweet-link")) { var r = window.getSelection(), n = r.toString(), s = document.createElement("a"), a = r.getRangeAt(0).cloneRange(), o = 25; t(".inline-tweet-link").each(function () { t(this).replaceWith(this.childNodes) }), s.classList.add("inline-tweet-link"), s.href = "https://twitter.com/intent/tweet?source=webclient&amp;via=atlassian&amp;text=" + n + "&amp;url=" + window.current.url, s.target = "_blank", n.length > o && r.rangeCount && (a.surroundContents(s), r.removeAllRanges(), r.addRange(a)) } }) }
        }
    })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.QuizSlider = { init: function () { var e = document.getElementById("quiz-card-element"), r = document.querySelectorAll(".quiz-card-button"), n = function (s) { e.classList = "quiz-card__list quiz-card__list-set-0" + s, r[s].classList.add("quiz-card-button-active") }; r.forEach((s, a) => { s.addEventListener("click", o => { [...s.parentElement.children].forEach(l => l.classList.remove("quiz-card-button-active")), n(a) }) }) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.RemoveElementGaps = { container: t(".page-the-state-of-teams-2022 .trends .wp-block-columns:nth-of-type(2)"), column: t(".page-the-state-of-teams-2022 .trends .wp-block-columns:nth-of-type(2) > .wp-block-column:first-of-type"), element: t(".page-the-state-of-teams-2022 .trends .wp-block-columns:nth-of-type(3) > .wp-block-column:first-of-type"), init: function () { Theme.RemoveElementGaps.container.length && Theme.RemoveElementGaps.column.length && Theme.RemoveElementGaps.element.length && (Theme.RemoveElementGaps.check_window_width(), t(window).resize(function () { Theme.RemoveElementGaps.check_window_width() })) }, check_window_width: function () { var e = t(window).width(); e >= 782 ? Theme.RemoveElementGaps.element.css("margin-top", "-" + (Theme.RemoveElementGaps.container.outerHeight() - Theme.RemoveElementGaps.column.outerHeight()) + "px") : Theme.RemoveElementGaps.element.css("margin-top", "0px") } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; var e = window.matchMedia("(prefers-reduced-motion: reduce)"); Theme.ScrollActivate = { init: function () { var r = t(window).height(), n = t(".scroll-element-change"); e.matches === !0 && n.each(function () { t(this).addClass("scroll-element-change-active"), Theme.ScrollActivate.percent_count_reduced_motion(t(this)) }), t(window).scroll(function () { var s = t(this).scrollTop(); n.each(function () { var a = t(this).offset().top; s >= a - r && !t(this).hasClass("scroll-element-change-active") && (t(this).addClass("scroll-element-change-active"), Theme.ScrollActivate.percent_count(t(this))) }) }) }, percent_count: function () { t(".scroll-element-change-active .charts-pies-percentage").each(function () { var r = t(this), n = t(this).attr("data-value"), s = 0, a = 20, o = setInterval(function () { t(r).text(s + "%"), s >= n && clearInterval(o), s++ }, a) }) }, percent_count_reduced_motion: function () { t(".scroll-element-change-active .charts-pies-percentage").each(function () { var r = t(this), n = t(this).attr("data-value"); t(r).text(n + "%") }) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.ScrollProgress = { init: function () { var e = t(window).height(); t(window).scroll(function () { var r = t(this).scrollTop(); t(".theme-track-scroll").each(function () { var n = t("#main").offset().top, s = t("#main").outerHeight(), a = t(this).outerHeight(), o = (r + a - n) / s * 100; t(this).css("--page-progress", o + "%") }) }) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.Searchurl = { init: function () { this.updateSearchUrl() }, updateSearchUrl: function () { var e = t(".search-form"), r = window.search_url_base.url; e.submit(function () { var n = t(this).find(".search-input"), s = n.val().split(" ").join("+"); n.remove(), e.attr("action", r + "/" + s) }) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.Segment = { defaults: { eventType: "Track", eventContainer: "", eventColumn: "", eventComponent: "", wordpressComponentId: "", event: "clicked", inputValue: "", parentLabel: "", label: "", productKey: "", productVersion: "", prouctEdition: "", productPlatform: "", schemaVersion: 1 }, events: [{ selector: ".atlassian-banner-message a", eventContainer: "bannerMessage", eventColumn: "", eventComponent: "link", wordpressComponentId: function (e) { var r = e.attr("href"); return t.md5(r) }, label: function (e) { return e.text() } }, { selector: ".entry-content a", eventContainer: "postContent", eventColumn: "", eventComponent: "link", wordpressComponentId: function (e) { var r = e.attr("href"); return t.md5(r) }, label: function (e) { return e.text() } }, { selector: ".entry-content button", eventContainer: "postContent", eventColumn: "", eventComponent: "button", wordpressComponentId: function (e) { var r = e.attr("class"); return t.md5(r) }, label: function (e) { return e.text() } }, { selector: ".search-form", eventContainer: "searchForm", eventComponent: "form", wordpressComponentId: function () { var e = t.md5("search-form"); return e }, event: "submitted", inputValue: function (e) { var r = e.find(".search-field").val(); return r }, label: function () { return "Search" } }], init: function () { Theme.Segment.events.forEach(function (e) { var r = t(e.selector); typeof e.event < "u" ? e.event === "submitted" && r.submit(function (n) { Theme.Segment.track(t(n.currentTarget), e) }) : r.click(function (n) { Theme.Segment.track(t(n.currentTarget), e) }) }), t("[data-event-container]").click(function (e) { var r = t(e.currentTarget); Theme.Segment.trackWithData(r) }) }, track: function (e, r) { var n = Object.assign({}, Theme.Segment.defaults); n.eventContainer = r.eventContainer.trim(), n.eventColumn = r.eventColumn.trim(), n.eventComponent = r.eventComponent.trim(), n.wordpressComponentId = r.wordpressComponentId(e).trim(), n.label = r.label(e).trim(), typeof r.event < "u" && (n.event = r.event), typeof r.inputValue < "u" && (n.inputValue = r.inputValue(e)), window.analytics.track(n.eventComponent + " Clicked", n) }, trackWithData: function (e) { var r = Object.assign({}, Theme.Segment.defaults); r.eventContainer = e.data("event-container") || "worklife", r.eventColumn = e.data("event-column") || "", r.eventComponent = e.data("event-component") || "link", r.label = e.data("label") || "", r.wordpressComponentId = e.data("uuid") || "", r.event = e.data("event") || "clicked", r.schemaVersion = e.data("schema-version") || Theme.Segment.defaults.schemaVersion, window.analytics.track(r.eventComponent + " Clicked", r) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.SliderCarousel = { init: function () { t(".atl-carousel").each(function () { t(this).find(".atl-carousel-button").each(function (e) { t(this).click(function () { for (let r = 0; r < 3; r++)t(this).parent().parent().removeClass("atl-carousel-set-" + r); t(this).parent().parent().addClass("atl-carousel-set-" + e) }) }) }) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.SubmenuSliders = { init: function () { var e = t(".menu-item-has-slider"), r = 0, n = "", s = 3, a = 4, o = 1, l = 4; e.each(function () { t(this).hasClass("menu-slider-count-3") ? r = s : t(this).hasClass("menu-slider-count-4") && (r = a), t(this).hasClass("menu-slider-type-li") ? n = "li" : n = "a", t(this).hasClass("slide-of-four") && (o = l), t(this).find(".sub-menu").append("<div class=sub-menu-slider-button-container />"); var p = t(this).find("ul > *").length, y = p, h, d = r, f = 1, g = 1, m = 2, c = t(this).find(".sub-menu-slider-button-container"); for (c.append('<button class="sub-menu-slider-button sub-menu-slider-button-active" slide-count=' + y + " slider-button-slide-amount=" + r + " slider-sub-type=" + n + " slider-quad-number=" + o + " slider-index=0 />"), o !== g && (y = r * m), h = f; h < Math.ceil(p / d / o); h++)c.append("<button class=sub-menu-slider-button slide-count=" + y + " slider-button-slide-amount=" + r + " slider-sub-type=" + n + " slider-quad-number=" + o + " slider-index=" + h + " />") }), this.move_slider() }, calculatePosition: function (e) { var r = e.attr("slide-count"), n = e.index(), s = e.attr("slider-button-slide-amount"), a = e.attr("slider-sub-type"), o = e.attr("slider-quad-number"), l = 1, p = (r - s) * n * o - l, y = t(".sub-menu ul > " + a + ":nth-child(" + p + ")").position().left, h = 16, d = -Math.floor(y - h); return n === 0 ? 0 : d }, calculatePositionNew: function (e, r) { var n = t(".sub-menu__list-wrapper").width(), s = r || parseInt(e.attr("slider-index")) ? parseInt(e.attr("slider-index")) : 1, a = e.attr("slider-sub-type"), o = t(".sub-menu ul > " + a), l = parseInt(o.outerWidth()) + parseInt(o.css("marginRight")), p = n % l, y = (n - p) * s * -1; return s === 0 ? 0 : y }, move_slider: function () { t(".sub-menu ul").css({ transform: "translateX(0px)", transition: "transform 0.5s ease", willChange: "transform" }), t(".sub-menu-slider-button").click(function (e) { e.preventDefault(); var r = Theme.SubmenuSliders.calculatePositionNew(t(this), !0); t(this).parents(".menu-item-has-slider").find(".sub-menu ul").css({ transform: "translateX(" + r + "px)", transition: "transform 0.5s ease", willChange: "transform" }), t(this).siblings().removeClass("sub-menu-slider-button-active"), t(this).addClass("sub-menu-slider-button-active") }), t(".slider-item").each(function () { let e = t(this).parents(".sub-menu__list-wrapper").siblings(".sub-menu-slider-button-container"), r = parseInt(e.find("button").attr("slider-button-slide-amount")), n = parseInt(t(this).index()), s = Math.floor(n / r), a = Theme.SubmenuSliders.calculatePositionNew(e.find("button"), !1); t(this).is("li") ? t(this).children().each(function () { t(this).focus(function () { e.parents(".menu-item-has-slider").find(".sub-menu ul").css({ transform: "translateX(" + a * s + "px)", transition: "transform 0.5s ease", willChange: "transform" }), e.each(function () { t(".sub-menu-slider-button-active").removeClass("sub-menu-slider-button-active"), t('.sub-menu-slider-button[slider-index="' + s + '"]').addClass("sub-menu-slider-button-active") }) }) }) : t(this).is("a") && t(this).focus(function () { e.parents(".menu-item-has-slider").find(".sub-menu ul").css({ transform: "translateX(" + a * s + "px)", transition: "transform 0.5s ease", willChange: "transform" }), e.each(function () { t(".sub-menu-slider-button-active").removeClass("sub-menu-slider-button-active"), t('.sub-menu-slider-button[slider-index="' + s + '"]').addClass("sub-menu-slider-button-active") }) }) }) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.Video = { init: function () { this.add_thumbnail_click_event(), this.add_autoplay_controls() }, add_thumbnail_click_event: function () { t(".featured-video .overlay a").click(function (e) { e.preventDefault(); var r = t(this).closest(".featured-video").find("iframe"), n = t(this).closest(".overlay"); r[0].src += "&autoplay=1", n.addClass("hidden-overlay") }) }, add_autoplay_controls: function () { t(".video-control-button").click(function () { var e = t(this).closest(".card-image--autoplay-video"), r = e.find("video"), n = r.get(0), s = t(this).data("action"); s === "play" && (n.play(), e.addClass("playing")), s === "pause" && (n.pause(), e.removeClass("playing")) }) } } })(jQuery); Theme = window.Theme || {}; (function (t) { "use strict"; Theme.Animations = { init: function () { if (document.querySelector(".page-state-of-teams-2024")) { var e = window.matchMedia("(prefers-reduced-motion: reduce)") === !0 || window.matchMedia("(prefers-reduced-motion: reduce)").matches === !0; e || (Theme.Animations.stickyCards(), Theme.Animations.notifications(), document.querySelector(".page-state-of-teams-2024") && Theme.Animations.countUp()), Theme.Animations.scrollDirection(), Theme.Animations.tabIndex(".tabindex"), Theme.Animations.scrollBar(".page-state-of-teams-2024 .state-of-teams-2024-page-nav"), Theme.Animations.activeToggle(".page-state-of-teams-2024 .menu-toggler", ".menu-toggler", "active"), Theme.Animations.blockSliderToggle(".page-state-of-teams-2024 .section__about .group__nav .wp-block-image", ".group__block-slider"), Theme.Animations.blockFadeSlider(), Theme.Animations.wrapDetailsSummary() } }, notifications: function () { var e = t(window).height(), r = t("#wpadminbar").length ? t("#wpadminbar").outerHeight() : 0, n = t(".page-state-of-teams-2024 .theme-track-scroll").length ? t(".page-state-of-teams-2024 .theme-track-scroll").outerHeight() : 0, s = t(".page-state-of-teams-2024 .group__notifications"); if (s.length) { var a = s.offset().top - r - n, o = Math.round(a - e), l = Math.round(e + o + s.outerHeight()), p = s.find("figure"), y = []; p.each(function () { y.push(t(this)[0].offsetTop) }); var h = [2, 9], d = [3, 7, 10, 14], f = [0, 4, 8, 13] } t(window).scroll(function () { var g = t(this).scrollTop(); if (s) { var m = g / l; s.css("--inview-progress", m + "%"), m < 1 && p.each(function (c) { var u = t(this); if (f.includes(c)) var v = g / 1.125; else if (d.includes(c)) var v = g / 2; else if (h.includes(c)) var v = g / 4; else var v = g / 3; var b = y[c] - v; u.css("top", b) }) } }) }, scrollDirection: function () { var e = 0; t(window).scroll(function () { var r = window.pageYOffset || document.documentElement.scrollTop; r > e ? t("body").removeClass("up").addClass("down") : t("body").removeClass("down").addClass("up"), e = r <= 0 ? 0 : r }) }, scrollBar: function (e) { t(e).length && t(e).find("li").each(function () { t(this).click(function (l) { var p = t(this).find("a").attr("href"); if (t(e).attr("id", "section-active-" + p.slice(1)), t(e).addClass("clicked"), t(e).find("li.active").removeClass("active"), t(this).addClass("active"), t(this).find("span.title").length) { var y = t(this).find("span.title")[0].innerText; t(".page-nav .current-section-title").text(y) } setTimeout(() => { t(e).removeClass("clicked"), t(".menu-toggler").removeClass("active") }, 1e3) }) }); for (var r = t("#wpadminbar").length ? t("#wpadminbar").outerHeight() : 0, n = t(".theme-track-scroll").length ? t(".theme-track-scroll").outerHeight() : 0, s = [t("#introduction"), t("#the-problem"), t("#the-solution"), t("#insights-and-tips"), t("#about-the-research")], a = [], o = 0; o < s.length; o++)s[o].length && a.push(Math.round(s[o][0].offsetTop - n)); t(window).scrollTop() === 0 && t(e).length && !t(e).hasClass("clicked") && (t(e).attr("id", "section-active-" + s[0][0].id), t(e).find("li").eq(0).addClass("active")), t(window).scroll(function () { if (a.length && !t(e).hasClass("clicked")) { var l = Math.round(t(this).scrollTop()); if (l < a[1]) { t(e).attr("id", "section-active-" + s[1][0].id) && (t(e).attr("id", ""), t(e).find("li.active").removeClass("active")), t(e).attr("id", "section-active-" + s[0][0].id), t(e).find("li").eq(0).addClass("active"); var p = t(".page-nav li span.title")[0].innerText; t(".page-nav .current-section-title").text(p) } for (var y = 1; y < a.length; y++)if (l >= a[y] && l < a[y + 1]) { y > 0 && t(e).attr("id", "section-active-" + s[y - 1][0].id) && (t(e).attr("id", ""), t(e).find("li.active").removeClass("active")), y < a.length - 1 && t(e).attr("id", "section-active-" + s[y + 1][0].id) && (t(e).attr("id", ""), t(e).find("li.active").removeClass("active")), t(e).attr("id", "section-active-" + s[y][0].id), t(e).find("li").eq(y).addClass("active"); var p = t(".page-nav li span.title")[y].innerText; t(".page-nav .current-section-title").text(p) } if (l >= a[a.length - 1]) { t(e).attr("id", "section-active-" + s[a.length - 2][0].id) && (t(e).attr("id", ""), t(e).find("li.active").removeClass("active")), t(e).attr("id", "section-active-" + s[a.length - 1][0].id), t(e).find("li").eq(a.length - 1).addClass("active"); var p = t(".page-nav li span.title")[a.length - 1].innerText; t(".page-nav .current-section-title").text(p) } } }) }, countUp: function () { var e = t(window).height(), r = t("#wpadminbar").length ? t("#wpadminbar").outerHeight() : 0, n = t(".theme-track-scroll").length ? t(".theme-track-scroll").outerHeight() : 0, s = { speed: 300, number: 200, before: "", after: "", commaIndex: 3, triggerElement: t(".section__counter h2"), elements: t(".section__counter h2 span"), activated: !1, start: !1, step: 1, stepsCompleted: 0, randomInterval: "", 0: { speed: 100, number: 25, step: 1, start: 10, before: "", after: ",", current: 1 }, 1: { speed: 16, number: 999, step: 4, start: 600, before: "", after: ",", current: 500 }, 2: { speed: 24, number: 999, step: 4, start: 600, before: "", after: ",", current: 600 }, 3: { speed: 28, number: 999, step: 4, start: 600, before: "", after: "", current: 600, stepCount: 0 } }; function a(h, d) { var f = typeof h == "number" ? Math.round(h).toString() : h, g = f.length > 1 ? f.substring(-1, f.length - 1) : "", m = f.length > 1 ? f.substring(f.length - 1, f.length) : f, c; return d % 4 === 0 ? c = "colored-number yellow" : d % 4 === 1 ? c = "colored-number blue" : d % 4 === 2 ? c = "colored-number purple" : d % 4 === 3 && (c = "colored-number green"), g + '<span class="' + c + '">' + m + "</span>" } function o(h, d) { var f = s[d].stepCount ? s[d].stepCount : 0, g = setInterval(function () { s[d].current += s[d].step, f++, s[d].current > s[d].number ? (s.stepsCompleted++, clearInterval(g), s[d].number === 999 && t(h).html(s[d].before + "000" + s[d].after), s.stepsCompleted === 4 && (clearInterval(s.randomInterval), s.elements.removeClass("number-colored-yellow number-colored-blue number-colored-purple number-colored-green"), t(h).closest(".wp-block-heading").find("span:first").html("25,"))) : t(h).html(s[d].before + s[d].current + s[d].after) }, s[d].speed) } function l() { var h = Math.floor(Math.random() * 4), d = Math.floor(Math.random() * 4), f, g = s.elements.eq(d); h === 0 ? f = "number-colored-yellow" : h === 1 ? f = "number-colored-blue" : h === 2 ? f = "number-colored-purple" : h === 3 && (f = "number-colored-green"), s.elements.removeClass("number-colored-yellow number-colored-blue number-colored-purple number-colored-green"), g.addClass(f) } function p() { var h = t(window).scrollTop(), d = s.triggerElement.offset().top, f = d - e, g = f + e + s.triggerElement.height() - r - n; h > f && h <= g && s[0].current === 1 && (s[0].current = 2, s.elements.each(function (m) { o(t(this), m) }), s.randomInterval = setInterval(() => { l() }, 250)) } if (t(window).scroll(function () { s.activated || p() }), s.activated || p(), s.start) { var y = s.elements; y.length && y.each(function (h) { var d = t(this); d.html(s[h].current), o(d, h) }) } }, countUpOriginal: function () { var e = t(window).height(), r = t("#wpadminbar").length ? t("#wpadminbar").outerHeight() : 0, n = t(".theme-track-scroll").length ? t(".theme-track-scroll").outerHeight() : 0, s = { speed: 250, number: 25e9, after: "", before: "", commaIndex: 3, triggerClass: "section__counter", activated: !1, start: !1, step: 6.6 }, a = t(".section__counter h2:not(.inview)"); current = 0, stepCount = 0, a.length && a.html(s.before + "0" + s.after); function o(h) { var f = Math.round(h).toString().split(""), g = f.length % 3 === 0 ? f.length / 3 - 1 : Math.floor(f.length / 3); if (f.length >= 4) { for (i = 1; i < g + 1; i++) { var m = -3 * i - (i - 1); f.splice(m, 0, ",") } return f.join("") } else return Math.round(h) } function l(h, d) { var f = typeof h == "number" ? Math.round(h).toString() : h, g = f.length > 1 ? f.substring(-1, f.length - 1) : "", m = f.length > 1 ? f.substring(f.length - 1, f.length) : f; return g + '<span class="' + d + '">' + m + "</span>" } function p() { var h = setInterval(function () { current *= s.step, stepCount++, current > s.number ? (a.html(l(o(s.number), "colored-number")), clearInterval(h)) : a.html(l(o(current), "colored-number step-" + stepCount)) }, s.speed) } function y() { var h = t(window).scrollTop(), d = a.offset().top, f = d - e, g = f + e + a.height() - r - n; h > f && h <= g ? current === 0 && (current = 1, p()) : (a.html("0"), current = 0, stepCount = 0) } t(window).scroll(function () { !s.activated && a.length && y() }), !s.activated && a.length && y(), s.start && a.length && p() }, tabIndex: function (e) { t(e).length && t(e).each(function () { t(this).attr("tabindex", "0") }) }, activeToggle: function (e, r, n) { t(e).length && t(r).length && t(e).click(function () { t(r).toggleClass(n) }) }, blockSliderToggle: function (e, r) { var n, s, a, o, l, p, y = 0; function h() { let d = t(".group__block-slider").width(); if (n = t(".group__block-slider > .wp-block-group__inner-container").width() - 20, s = t(".group__block-slider > .wp-block-group__inner-container > .wp-block-columns").width(), a = d - s, l = t(".group__block-slider > .wp-block-group__inner-container > .wp-block-columns > .wp-block-column")[0].clientWidth + 20, a >= 0) o = s - a + 20, m = Math.floor(n / d); else { o = l; var f = Math.floor(n / d), g = Math.floor(d / l), m = f * g } if (t(e).length && t(r).length) { var c = t(".section__about .group__nav .wp-block-image.next"), u = t(".section__about .group__nav .wp-block-image.prev"); c.click(function () { u.removeClass("disable"), y < m && (y++, t(".group__block-slider > .wp-block-group__inner-container").css("left", -1 * o * y + "px"), y === m && c.addClass("disable")) }), u.click(function () { c.removeClass("disable"), a >= 0 && y > 0 && (y--, t(".group__block-slider > .wp-block-group__inner-container").css("left", o * y + "px"), u.addClass("disable")), a < 0 && y > 0 && (y--, t(".group__block-slider > .wp-block-group__inner-container").css("left", -1 * (o * y) + "px"), y < 1 && u.addClass("disable")) }) } } e.length && h() }, blockFadeSlider: function () { t(".group__slider-logos figure").length && t(".group__slider-logos figure").each(function (e) { t(this).click(function () { t(".group__slider-logos .active").removeClass("active"), t(this).parent().addClass("active"), t(".group__slider .wp-block-media-text.active").length && t(".group__slider .wp-block-media-text.active").fadeOut(300).promise().done(function () { t(".group__slider .wp-block-media-text.active").removeClass("active"), t(".group__slider .wp-block-media-text").eq(e).fadeIn(300).promise().done(function () { t(this).addClass("active") }) }) }) }) }, wrapDetailsSummary: function () { t("details summary").length && t("details summary").each(function () { var e = t(this).html(); t(this).html("<span>" + e + "</span>") }) }, stickyCards: function () { var e = t(".page-state-of-teams-2024 .section__cards-intro .wp-block-spacer"); if (e.length) { var r = t(window).height(), n = t("#wpadminbar").length ? t("#wpadminbar").outerHeight() : 0, s = t(".theme-track-scroll").length ? t(".theme-track-scroll").outerHeight() : 0, a = Math.round(e[0].offsetTop) - r + n, o = Math.round(e.outerHeight()), l = Math.round(e[0].offsetTop) + n, p = l - r, y = l - r + o, h = l, d = l + o, f = p + 120 + 440, g = h + 120; e.css("--wideWidth", Math.round(t(".alignwide").width()) + "px"), t(".sticky-columns-left").css("--wideWidth", Math.round(t(".alignwide").width()) + "px"), t(".sticky-columns-left").css("--cardWidth", Math.round((t(".alignwide").width() - 32) / 3) + "px"), t(window).resize(function () { e.css("--wideWidth", Math.round(t(".alignwide").width()) + "px"), t(".lefty").css("--wideWidth", Math.round(t(".alignwide").width()) + "px"), t(".lefty").css("--cardWidth", Math.round((t(".alignwide").width() - 32) / 3) + "px") }), t(window).scroll(function () { var m = t(this).scrollTop(); m < a ? (e.removeClass("below"), e.addClass("above")) : (e.removeClass("above"), e.addClass("below")), m < p, m >= p && m < f && e.removeClass("fan"), m >= f && m < g && (e.removeClass("collapse-cards"), e.addClass("fan")), m >= g && (e.removeClass("fan"), e.addClass("collapse-cards")) }) } t(".page-state-of-teams-2024 .sticky-cards").length && setTimeout(() => { var m = r - 220, c = t(".sticky-cards .section-1").outerHeight() + m; t(".sticky-cards .div-1").css("height", c), t(".sticky-cards .div-2").css("height", c + t(".sticky-cards .section-2").outerHeight()) }, 1500) } } })(jQuery); Theme = window.Theme || {}; (function (t) {
        "use strict"; Theme.AtlassianxAtlassian = {
            init: function () { if (document.querySelector(".page-atlassian-x-atlassian") || document.querySelector(".page-atlassian-for-atlassian")) { var e = window.matchMedia("(prefers-reduced-motion: reduce)") === !0 || window.matchMedia("(prefers-reduced-motion: reduce)").matches === !0; Theme.AtlassianxAtlassian.loomBar(), Theme.AtlassianxAtlassian.rainbowTooltip(), Theme.AtlassianxAtlassian.rovoMessage(), Theme.AtlassianxAtlassian.tabIndex(".tabindex"), Theme.AtlassianxAtlassian.lazyLoadLottie(), Theme.AtlassianxAtlassian.videoHeight(), Theme.AtlassianxAtlassian.videoSpeed(), Theme.AtlassianxAtlassian.videoPlay(), Theme.AtlassianxAtlassian.contactButton(), e || (Theme.AtlassianxAtlassian.statusDropdown(), Theme.AtlassianxAtlassian.gradient()); let r = document.querySelectorAll(".globeLottieLoop"); r.length > 0 && r.forEach(n => { n.addEventListener("load", s => { let a = s.target, o = document.querySelector(".intro"), l = document.querySelector(".second-section"); o.style.backgroundColor = "#1868DB", l.style.backgroundColor = "#1868DB", a.style.opacity = "1" }) }) } }, loomBar: function () {
                let e = `
				<svg xmlns="http://www.w3.org/2000/svg" width="29" height="14" viewBox="0 0 29 14" fill="none">
					<path d="M23.2644 4.48837C23.503 4.44632 25.4142 1.76799 24.4038 2.07073C24.0233 2.13379 23.8341 2.35243 24.0018 2.64886C23.4751 2.27255 23.6449 3.29637 23.2837 3.35944C23.0386 2.97682 23.0709 4.2445 22.8602 3.80302C20.003 5.93265 18.0531 13.8898 22.3528 6.03776C21.5961 6.50027 22.0476 5.81073 22.3937 5.60891C22.4087 6.39096 23.2042 4.91935 23.2751 4.57457C22.9269 4.93196 23.2128 4.0637 23.2622 4.48837H23.2644Z" fill="#FCA700"/>
					<path d="M2.30352 9.27263C2.38092 9.92224 2.009 9.52071 1.9746 9.20326C2.57226 9.26844 1.79402 8.5116 1.50594 8.40438C1.57043 8.49898 1.44358 8.64825 1.29954 8.46115C1.78971 8.28455 -0.0591639 5.94049 0.0504788 7.64545C0.0848765 7.6833 0.403056 7.46254 0.34716 7.58237C-0.177405 7.86619 0.446058 7.97342 0.56645 8.047C0.325666 8.232 0.628794 8.15422 0.551399 8.25723C0.125727 8.38547 1.1555 8.54735 0.719081 8.65667C0.671784 9.56276 2.18959 10.0925 2.0821 10.8409C2.85174 10.6959 3.46015 13 3.94171 11.5494C3.56549 10.6454 3.19786 9.95167 2.30352 9.27263Z" fill="#FCA700"/>
					<path d="M4.12666 0.622481C3.23662 1.01981 4.72216 2.46621 4.78021 3.13053C4.78451 3.98617 7.97275 10.7156 8.20708 8.13401C7.2246 6.10529 6.78172 4.27417 5.27252 1.96164C5.05539 1.56851 4.60393 0.172589 4.12666 0.622481Z" fill="#FCA700"/>
					<path d="M24.7866 12.2429C24.8575 13.1574 23.6407 12.9114 23.645 13.7061C23.8192 15.0999 29.5206 11.1055 28.5489 10.3025C27.618 9.72223 25.466 12.2807 24.7866 12.2429Z" fill="#FCA700"/>
				</svg>`; document.querySelectorAll(".emoji-btn").forEach(a => { a.addEventListener("click", () => { let o = a.querySelector(".emoji-float"); o && o.remove(); let l = document.createElement("span"); l.className = "emoji-float", l.innerHTML = `${e}<span>${a.textContent}</span>`, a.appendChild(l), l.addEventListener("animationend", () => { l.remove() }) }) }); let r = document.getElementById("comment-btn"), n = document.getElementById("lottie-container"), s = document.getElementById("comment-lottie"); !r || !n || !s || (r.addEventListener("click", () => { r.disabled = !0, n.style.opacity = "1", s.stop(), s.play() }), s.addEventListener("complete", () => { r.disabled = !1 }))
            }, statusDropdown: function () { let e = document.getElementById("statusDropdown"), r = document.getElementById("statusToggle"), n = r.querySelector("span"), s = e.querySelectorAll(".status-option"), a = r.querySelector(".status-lightning"), o = l => { r.classList.remove("wiggle", "fast-wiggle"), l === "pending" ? r.classList.add("wiggle") : l === "at-risk" && r.classList.add("fast-wiggle") }; r.addEventListener("click", () => { e.classList.toggle("open") }), s.forEach(l => { l.addEventListener("click", () => { let p = l.textContent, y = l.classList[1]; n.textContent = p, r.className = `status-toggle ${y} animate`, o(y), e.classList.remove("open"), y === "on-track" && (r.classList.add("animate-glow"), setTimeout(() => { r.classList.remove("animate-glow") }, 400)), setTimeout(() => { r.classList.remove("animate") }, 300) }) }), document.addEventListener("click", l => { e.contains(l.target) || e.classList.remove("open") }) }, rainbowTooltip: function () { let e = document.getElementById("axa-gradient-tooltip"), r = document.querySelectorAll("#track-work mark.has-inline-color"), n = !1; !r.length || !e || (r.forEach(s => { s.addEventListener("click", a => { a.stopPropagation(); let o = s.getBoundingClientRect(); n ? (e.style.display = "none", n = !1) : (e.style.top = `${o.bottom + window.scrollY + 8}px`, window.innerWidth <= 768 ? e.style.left = "20px" : e.style.left = `${o.left + window.scrollX}px`, e.style.display = "flex", n = !0) }) }), document.addEventListener("click", s => { e.contains(s.target) || (e.style.display = "none", n = !1) }), document.addEventListener("click", s => { !e.contains(s.target) && !Array.from(r).includes(s.target) && (e.style.display = "none", n = !1) })) }, rovoMessage: function () { let e = document.querySelector(".rovo-message-wrapper"), r = e.querySelector(".static-icon"), n = e.querySelector(".lottie-icon"); if (!e || !r || !n) return; let s = null, a = null; e.addEventListener("click", () => { if (!(r.style.display !== "none")) { s && (clearTimeout(s), s = null), r.style.display = "inline-flex", n.style.display = "none"; return } r.style.display = "none", n.style.display = "inline-flex"; let l = () => { let p = n.querySelector("lottie-player"); p && typeof p.play == "function" ? (p.stop(), p.play(), a && p.removeEventListener("complete", a), a = () => { s = setTimeout(() => { r.style.display = "inline-flex", n.style.display = "none", s = null }, 2e3) }, p.addEventListener("complete", a, { once: !0 })) : requestAnimationFrame(l) }; requestAnimationFrame(l) }) }, tabIndex: function (e) { t(e).length && t(e).each(function () { t(this).attr("tabindex", "0") }) }, lazyLoadLottie: function () { let e = document.querySelectorAll("lottie-player-lazy"), r; function n() { r && r.disconnect(), r = new IntersectionObserver(s => { s.forEach(a => { if (a.isIntersecting) { let o = t("<lottie-player></lottie-player>"); for (let l = 0; l < a.target.attributes.length; l++) { let p = a.target.attributes[l], y = p.name, h = p.value; h || (h = !0), o.attr(y, h) } a.target.replaceWith(o[0]) } }) }, { threshold: 1, rootMargin: "0px" }), e.forEach(s => { r.observe(s) }) } n() }, gradient: function () { let e = document.querySelector("#gradient"); if (!e) return; let r = e.offsetTop + 300, n = e.offsetTop + e.offsetHeight; window.addEventListener("scroll", () => { let s = window.scrollY; s >= r && s < n && e.classList.add("show-gradient") }) }, videoHeight: function () { t(window).load(function () { t(".column--sticky").css("--stickyHeight", t(".column--sticky .wp-block-video").outerHeight() + "px") }) }, videoSpeed: function () { document.querySelectorAll(".column--sticky video").forEach(e => { e.playbackRate = .75 }) }, videoPlay: function () { let e = document.querySelectorAll(".playVideo"), r = document.querySelectorAll("video"); if (e.length === 0) return; let n = { rootMargin: "200px 0px 0px 0px", threshold: 1 }, s = o => { o.forEach(l => { if (l.isIntersecting) { let y = "https://atlassianblog.wpengine.com/wp-content/uploads/2025/04/" + l.target.getAttribute("id") + ".mov", h = Array.from(r).find(d => { let f = d.getAttribute("src"); return f && f.includes(y) }); h && (h.pause(), h.currentTime = 0, h.play()) } }) }, a = new IntersectionObserver(s, n); e.forEach(o => { a.observe(o) }) }, contactButton: function () { let e = document.querySelector("#contact"), r = document.querySelector(".pre-footer"); t(window).load(function () { let n = document.querySelector("#wpadminbar") ? 32 : 0, s = e.offsetTop - window.innerHeight + e.offsetHeight + n, a = r.offsetTop - window.innerHeight + n; window.addEventListener("scroll", () => { let o = window.scrollY; o >= s && o < a ? (e.classList.contains("snooze") && e.classList.remove("snooze"), e.classList.add("active")) : o >= a ? e.classList.add("snooze") : e.classList.contains("active") && e.classList.remove("active") }) }) }
        }
    })(jQuery); function _i(t) { var e, r, n, s = 2; for (typeof Symbol < "u" && (r = Symbol.asyncIterator, n = Symbol.iterator); s--;) { if (r && (e = t[r]) != null) return e.call(t); if (n && (e = t[n]) != null) return new Yt(e.call(t)); r = "@@asyncIterator", n = "@@iterator" } throw new TypeError("Object is not async iterable") } function Yt(t) { function e(r) { if (Object(r) !== r) return Promise.reject(new TypeError(r + " is not an object.")); var n = r.done; return Promise.resolve(r.value).then(function (s) { return { value: s, done: n } }) } return Yt = function (r) { this.s = r, this.n = r.next }, Yt.prototype = { s: null, n: null, next: function () { return e(this.n.apply(this.s, arguments)) }, return: function (r) { var n = this.s.return; return n === void 0 ? Promise.resolve({ value: r, done: !0 }) : e(n.apply(this.s, arguments)) }, throw: function (r) { var n = this.s.return; return n === void 0 ? Promise.reject(r) : e(n.apply(this.s, arguments)) } }, new Yt(t) } var ne; function Ei(t, e, r, n) { ne || (ne = typeof Symbol == "function" && Symbol.for && Symbol.for("react.element") || 60103); var s = t && t.defaultProps, a = arguments.length - 3; if (e || a === 0 || (e = { children: void 0 }), a === 1) e.children = n; else if (a > 1) { for (var o = new Array(a), l = 0; l < a; l++)o[l] = arguments[l + 3]; e.children = o } if (e && s) for (var p in s) e[p] === void 0 && (e[p] = s[p]); else e || (e = s || {}); return { $$typeof: ne, type: t, key: r === void 0 ? null : "" + r, ref: null, props: e, _owner: null } } function xe(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function Tt(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? xe(Object(r), !0).forEach(function (n) { me(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : xe(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function Pe(t) { return Pe = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Pe(t) } function Ce() { Ce = function (s, a) { return new r(s, void 0, a) }; var t = RegExp.prototype, e = new WeakMap; function r(s, a, o) { var l = new RegExp(s, a); return e.set(l, o || e.get(s)), _t(l, r.prototype) } function n(s, a) { var o = e.get(a); return Object.keys(o).reduce(function (l, p) { return l[p] = s[o[p]], l }, Object.create(null)) } return _r(r, RegExp), r.prototype.exec = function (s) { var a = t.exec.call(this, s); return a && (a.groups = n(a, this)), a }, r.prototype[Symbol.replace] = function (s, a) { if (typeof a == "string") { var o = e.get(this); return t[Symbol.replace].call(this, s, a.replace(/\$<([^>]+)>/g, function (p, y) { return "$" + o[y] })) } if (typeof a == "function") { var l = this; return t[Symbol.replace].call(this, s, function () { var p = arguments; return typeof p[p.length - 1] != "object" && (p = [].slice.call(p)).push(n(p, l)), a.apply(this, p) }) } return t[Symbol.replace].call(this, s, a) }, Ce.apply(this, arguments) } function $e(t) { this.wrapped = t } function Bt(t) { var e, r; function n(a, o) { try { var l = t[a](o), p = l.value, y = p instanceof $e; Promise.resolve(y ? p.wrapped : p).then(function (h) { y ? n(a === "return" ? "return" : "next", h) : s(l.done ? "return" : "normal", h) }, function (h) { n("throw", h) }) } catch (h) { s("throw", h) } } function s(a, o) { switch (a) { case "return": e.resolve({ value: o, done: !0 }); break; case "throw": e.reject(o); break; default: e.resolve({ value: o, done: !1 }) }(e = e.next) ? n(e.key, e.arg) : r = null } this._invoke = function (a, o) { return new Promise(function (l, p) { var y = { key: a, arg: o, resolve: l, reject: p, next: null }; r ? r = r.next = y : (e = r = y, n(a, o)) }) }, typeof t.return != "function" && (this.return = void 0) } function Si(t) { return function () { return new Bt(t.apply(this, arguments)) } } function xi(t) { return new $e(t) } function Pi(t, e) { var r = {}, n = !1; function s(a, o) { return n = !0, o = new Promise(function (l) { l(t[a](o)) }), { done: !1, value: e(o) } } return r[typeof Symbol < "u" && Symbol.iterator || "@@iterator"] = function () { return this }, r.next = function (a) { return n ? (n = !1, a) : s("next", a) }, typeof t.throw == "function" && (r.throw = function (a) { if (n) throw n = !1, a; return s("throw", a) }), typeof t.return == "function" && (r.return = function (a) { return n ? (n = !1, a) : s("return", a) }), r } function we(t, e, r, n, s, a, o) { try { var l = t[a](o), p = l.value } catch (y) { return void r(y) } l.done ? e(p) : Promise.resolve(p).then(n, s) } function re(t) { return function () { var e = this, r = arguments; return new Promise(function (n, s) { var a = t.apply(e, r); function o(p) { we(a, n, s, o, l, "next", p) } function l(p) { we(a, n, s, o, l, "throw", p) } o(void 0) }) } } function Ci(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function ke(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } function wi(t, e, r) { return e && ke(t.prototype, e), r && ke(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function ki(t, e) { for (var r in e) (a = e[r]).configurable = a.enumerable = !0, "value" in a && (a.writable = !0), Object.defineProperty(t, r, a); if (Object.getOwnPropertySymbols) for (var n = Object.getOwnPropertySymbols(e), s = 0; s < n.length; s++) { var a, o = n[s]; (a = e[o]).configurable = a.enumerable = !0, "value" in a && (a.writable = !0), Object.defineProperty(t, o, a) } return t } function Ti(t, e) { for (var r = Object.getOwnPropertyNames(e), n = 0; n < r.length; n++) { var s = r[n], a = Object.getOwnPropertyDescriptor(e, s); a && a.configurable && t[s] === void 0 && Object.defineProperty(t, s, a) } return t } function me(t, e, r) { return e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function Te() { return Te = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Te.apply(this, arguments) } function Ai(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? Object(arguments[e]) : {}, n = Object.keys(r); typeof Object.getOwnPropertySymbols == "function" && n.push.apply(n, Object.getOwnPropertySymbols(r).filter(function (s) { return Object.getOwnPropertyDescriptor(r, s).enumerable })), n.forEach(function (s) { me(t, s, r[s]) }) } return t } function _r(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _t(t, e) } function Mi(t, e) { t.prototype = Object.create(e.prototype), t.prototype.constructor = t, _t(t, e) } function At(t) { return At = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, At(t) } function _t(t, e) { return _t = Object.setPrototypeOf || function (r, n) { return r.__proto__ = n, r }, _t(t, e) } function tr() { if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham) return !1; if (typeof Proxy == "function") return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch { return !1 } } function ce(t, e, r) { return ce = tr() ? Reflect.construct : function (n, s, a) { var o = [null]; o.push.apply(o, s); var l = new (Function.bind.apply(n, o)); return a && _t(l, a.prototype), l }, ce.apply(null, arguments) } function Er(t) { return Function.toString.call(t).indexOf("[native code]") !== -1 } function Ae(t) { var e = typeof Map == "function" ? new Map : void 0; return Ae = function (r) { if (r === null || !Er(r)) return r; if (typeof r != "function") throw new TypeError("Super expression must either be null or a function"); if (e !== void 0) { if (e.has(r)) return e.get(r); e.set(r, n) } function n() { return ce(r, arguments, At(this).constructor) } return n.prototype = Object.create(r.prototype, { constructor: { value: n, enumerable: !1, writable: !0, configurable: !0 } }), _t(n, r) }, Ae(t) } function Di(t, e) { return e != null && typeof Symbol < "u" && e[Symbol.hasInstance] ? !!e[Symbol.hasInstance](t) : t instanceof e } function Fi(t) { return t && t.__esModule ? t : { default: t } } function er(t) { if (typeof WeakMap != "function") return null; var e = new WeakMap, r = new WeakMap; return (er = function (n) { return n ? r : e })(t) } function Ii(t, e) { if (!e && t && t.__esModule) return t; if (t === null || typeof t != "object" && typeof t != "function") return { default: t }; var r = er(e); if (r && r.has(t)) return r.get(t); var n = {}, s = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var a in t) if (a !== "default" && Object.prototype.hasOwnProperty.call(t, a)) { var o = s ? Object.getOwnPropertyDescriptor(t, a) : null; o && (o.get || o.set) ? Object.defineProperty(n, a, o) : n[a] = t[a] } return n.default = t, r && r.set(t, n), n } function Li(t, e) { if (t !== e) throw new TypeError("Cannot instantiate an arrow function") } function Vi(t) { if (t == null) throw new TypeError("Cannot destructure undefined") } function Sr(t, e) { if (t == null) return {}; var r, n, s = {}, a = Object.keys(t); for (n = 0; n < a.length; n++)r = a[n], e.indexOf(r) >= 0 || (s[r] = t[r]); return s } function Bi(t, e) { if (t == null) return {}; var r, n, s = Sr(t, e); if (Object.getOwnPropertySymbols) { var a = Object.getOwnPropertySymbols(t); for (n = 0; n < a.length; n++)r = a[n], e.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(t, r) && (s[r] = t[r]) } return s } function xr(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function Pr(t, e) { if (e && (typeof e == "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return xr(t) } function Ri(t) { var e = tr(); return function () { var r, n = At(t); if (e) { var s = At(this).constructor; r = Reflect.construct(n, arguments, s) } else r = n.apply(this, arguments); return Pr(this, r) } } function rr(t, e) { for (; !Object.prototype.hasOwnProperty.call(t, e) && (t = At(t)) !== null;); return t } function Me() { return Me = typeof Reflect < "u" && Reflect.get ? Reflect.get : function (t, e, r) { var n = rr(t, e); if (n) { var s = Object.getOwnPropertyDescriptor(n, e); return s.get ? s.get.call(arguments.length < 3 ? t : r) : s.value } }, Me.apply(this, arguments) } function fe(t, e, r, n) { return fe = typeof Reflect < "u" && Reflect.set ? Reflect.set : function (s, a, o, l) { var p, y = rr(s, a); if (y) { if ((p = Object.getOwnPropertyDescriptor(y, a)).set) return p.set.call(l, o), !0; if (!p.writable) return !1 } if (p = Object.getOwnPropertyDescriptor(l, a)) { if (!p.writable) return !1; p.value = o, Object.defineProperty(l, a, p) } else me(l, a, o); return !0 }, fe(t, e, r, n) } function Oi(t, e, r, n, s) { if (!fe(t, e, r, n || t) && s) throw new Error("failed to set property"); return r } function wt(t, e) { return e || (e = t.slice(0)), Object.freeze(Object.defineProperties(t, { raw: { value: Object.freeze(e) } })) } function zi(t, e) { return e || (e = t.slice(0)), t.raw = e, t } function Ni(t) { throw new TypeError('"' + t + '" is read-only') } function Gi(t) { throw new TypeError('"' + t + '" is write-only') } function ji(t) { throw new Error('Class "' + t + '" cannot be referenced in computed property keys.') } function Cr() { } function wr(t) { throw new ReferenceError(t + " is not defined - temporal dead zone") } function Hi(t, e) { return t === Cr ? wr(e) : t } function qi(t, e) { return ye(t) || Ar(t, e) || It(t, e) || ge() } function Wi(t, e) { return ye(t) || Mr(t, e) || It(t, e) || ge() } function kr(t) { return ye(t) || ir(t) || It(t) || ge() } function Ui(t) { return Tr(t) || ir(t) || It(t) || Dr() } function Tr(t) { if (Array.isArray(t)) return Xt(t) } function ye(t) { if (Array.isArray(t)) return t } function Yi(t, e, r) { if (e && !Array.isArray(e) && typeof e.length == "number") { var n = e.length; return Xt(e, r !== void 0 && r < n ? r : n) } return t(e, r) } function ir(t) { if (typeof Symbol < "u" && t[Symbol.iterator] != null || t["@@iterator"] != null) return Array.from(t) } function Ar(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, a = [], o = !0, l = !1; try { for (r = r.call(t); !(o = (n = r.next()).done) && (a.push(n.value), !e || a.length !== e); o = !0); } catch (p) { l = !0, s = p } finally { try { o || r.return == null || r.return() } finally { if (l) throw s } } return a } } function Mr(t, e) { var r = t && (typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]); if (r != null) { var n = []; for (r = r.call(t), _step; !(_step = r.next()).done && (n.push(_step.value), !e || n.length !== e);); return n } } function It(t, e) { if (t) { if (typeof t == "string") return Xt(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); return r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set" ? Array.from(t) : r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? Xt(t, e) : void 0 } } function Xt(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function Dr() {
        throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
    } function ge() {
        throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
    } function Xi(t, e) {
        var r = typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (!r) {
            if (Array.isArray(t) || (r = It(t)) || e && t && typeof t.length == "number") { r && (t = r); var n = 0, s = function () { }; return { s, n: function () { return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] } }, e: function (p) { throw p }, f: s } } throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
        } var a, o = !0, l = !1; return { s: function () { r = r.call(t) }, n: function () { var p = r.next(); return o = p.done, p }, e: function (p) { l = !0, a = p }, f: function () { try { o || r.return == null || r.return() } finally { if (l) throw a } } }
    } function Zi(t, e) {
        var r = typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r) return (r = r.call(t)).next.bind(r); if (Array.isArray(t) || (r = It(t)) || e && t && typeof t.length == "number") { r && (t = r); var n = 0; return function () { return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] } } } throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
    } function Ji(t) { return function () { var e = t.apply(this, arguments); return e.next(), e } } function Fr(t, e) { if (typeof t != "object" || t === null) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e || "default"); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function nr(t) { var e = Fr(t, "string"); return typeof e == "symbol" ? e : String(e) } function Qi(t, e) { throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.") } function Ki(t, e, r, n) { r && Object.defineProperty(t, e, { enumerable: r.enumerable, configurable: r.configurable, writable: r.writable, value: r.initializer ? r.initializer.call(n) : void 0 }) } function $i(t, e, r, n, s) { var a = {}; return Object.keys(n).forEach(function (o) { a[o] = n[o] }), a.enumerable = !!a.enumerable, a.configurable = !!a.configurable, ("value" in a || a.initializer) && (a.writable = !0), a = r.slice().reverse().reduce(function (o, l) { return l(t, e, o) || o }, a), s && a.initializer !== void 0 && (a.value = a.initializer ? a.initializer.call(s) : void 0, a.initializer = void 0), a.initializer === void 0 && (Object.defineProperty(t, e, a), a = null), a } Bt.prototype[typeof Symbol == "function" && Symbol.asyncIterator || "@@asyncIterator"] = function () { return this }, Bt.prototype.next = function (t) { return this._invoke("next", t) }, Bt.prototype.throw = function (t) { return this._invoke("throw", t) }, Bt.prototype.return = function (t) { return this._invoke("return", t) }; var Ir = 0; function tn(t) { return "__private_" + Ir++ + "_" + t } function en(t, e) { if (!Object.prototype.hasOwnProperty.call(t, e)) throw new TypeError("attempted to use private field on non-instance"); return t } function rn(t, e) { return sr(t, ve(t, e, "get")) } function nn(t, e, r) { return ar(t, ve(t, e, "set"), r), r } function sn(t, e) { return or(t, ve(t, e, "set")) } function ve(t, e, r) { if (!e.has(t)) throw new TypeError("attempted to " + r + " private field on non-instance"); return e.get(t) } function an(t, e, r) { return ie(t, e), be(r, "get"), sr(t, r) } function on(t, e, r, n) { return ie(t, e), be(r, "set"), ar(t, r, n), n } function ln(t, e, r) { return ie(t, e), r } function hn() { throw new TypeError("attempted to set read only static private field") } function sr(t, e) { return e.get ? e.get.call(t) : e.value } function ar(t, e, r) { if (e.set) e.set.call(t, r); else { if (!e.writable) throw new TypeError("attempted to set read only private field"); e.value = r } } function or(t, e) { if (e.set) return "__destrObj" in e || (e.__destrObj = { set value(r) { e.set.call(t, r) } }), e.__destrObj; if (!e.writable) throw new TypeError("attempted to set read only private field"); return e } function pn(t, e, r) { return ie(t, e), be(r, "set"), or(t, r) } function ie(t, e) { if (t !== e) throw new TypeError("Private static access of wrong provenance") } function be(t, e) { if (t === void 0) throw new TypeError("attempted to " + e + " private static field before its declaration") } function cn(t, e, r, n) { var s = lr(); if (n) for (var a = 0; a < n.length; a++)s = n[a](s); var o = e(function (p) { s.initializeInstanceElements(p, l.elements) }, r), l = s.decorateClass(Br(o.d.map(Lr)), t); return s.initializeClassElements(o.F, l.elements), s.runClassFinishers(o.F, l.finishers) } function lr() { lr = function () { return t }; var t = { elementsDefinitionOrder: [["method"], ["field"]], initializeInstanceElements: function (e, r) { ["method", "field"].forEach(function (n) { r.forEach(function (s) { s.kind === n && s.placement === "own" && this.defineClassElement(e, s) }, this) }, this) }, initializeClassElements: function (e, r) { var n = e.prototype;["method", "field"].forEach(function (s) { r.forEach(function (a) { var o = a.placement; if (a.kind === s && (o === "static" || o === "prototype")) { var l = o === "static" ? e : n; this.defineClassElement(l, a) } }, this) }, this) }, defineClassElement: function (e, r) { var n = r.descriptor; if (r.kind === "field") { var s = r.initializer; n = { enumerable: n.enumerable, writable: n.writable, configurable: n.configurable, value: s === void 0 ? void 0 : s.call(e) } } Object.defineProperty(e, r.key, n) }, decorateClass: function (e, r) { var n = [], s = [], a = { static: [], prototype: [], own: [] }; if (e.forEach(function (l) { this.addElementPlacement(l, a) }, this), e.forEach(function (l) { if (!Rt(l)) return n.push(l); var p = this.decorateElement(l, a); n.push(p.element), n.push.apply(n, p.extras), s.push.apply(s, p.finishers) }, this), !r) return { elements: n, finishers: s }; var o = this.decorateConstructor(n, r); return s.push.apply(s, o.finishers), o.finishers = s, o }, addElementPlacement: function (e, r, n) { var s = r[e.placement]; if (!n && s.indexOf(e.key) !== -1) throw new TypeError("Duplicated element (" + e.key + ")"); s.push(e.key) }, decorateElement: function (e, r) { for (var n = [], s = [], a = e.decorators, o = a.length - 1; o >= 0; o--) { var l = r[e.placement]; l.splice(l.indexOf(e.key), 1); var p = this.fromElementDescriptor(e), y = this.toElementFinisherExtras((0, a[o])(p) || p); e = y.element, this.addElementPlacement(e, r), y.finisher && s.push(y.finisher); var h = y.extras; if (h) { for (var d = 0; d < h.length; d++)this.addElementPlacement(h[d], r); n.push.apply(n, h) } } return { element: e, finishers: s, extras: n } }, decorateConstructor: function (e, r) { for (var n = [], s = r.length - 1; s >= 0; s--) { var a = this.fromClassDescriptor(e), o = this.toClassDescriptor((0, r[s])(a) || a); if (o.finisher !== void 0 && n.push(o.finisher), o.elements !== void 0) { e = o.elements; for (var l = 0; l < e.length - 1; l++)for (var p = l + 1; p < e.length; p++)if (e[l].key === e[p].key && e[l].placement === e[p].placement) throw new TypeError("Duplicated element (" + e[l].key + ")") } } return { elements: e, finishers: n } }, fromElementDescriptor: function (e) { var r = { kind: e.kind, key: e.key, placement: e.placement, descriptor: e.descriptor }; return Object.defineProperty(r, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), e.kind === "field" && (r.initializer = e.initializer), r }, toElementDescriptors: function (e) { if (e !== void 0) return kr(e).map(function (r) { var n = this.toElementDescriptor(r); return this.disallowProperty(r, "finisher", "An element descriptor"), this.disallowProperty(r, "extras", "An element descriptor"), n }, this) }, toElementDescriptor: function (e) { var r = String(e.kind); if (r !== "method" && r !== "field") throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "` + r + '"'); var n = nr(e.key), s = String(e.placement); if (s !== "static" && s !== "prototype" && s !== "own") throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "` + s + '"'); var a = e.descriptor; this.disallowProperty(e, "elements", "An element descriptor"); var o = { kind: r, key: n, placement: s, descriptor: Object.assign({}, a) }; return r !== "field" ? this.disallowProperty(e, "initializer", "A method descriptor") : (this.disallowProperty(a, "get", "The property descriptor of a field descriptor"), this.disallowProperty(a, "set", "The property descriptor of a field descriptor"), this.disallowProperty(a, "value", "The property descriptor of a field descriptor"), o.initializer = e.initializer), o }, toElementFinisherExtras: function (e) { return { element: this.toElementDescriptor(e), finisher: Fe(e, "finisher"), extras: this.toElementDescriptors(e.extras) } }, fromClassDescriptor: function (e) { var r = { kind: "class", elements: e.map(this.fromElementDescriptor, this) }; return Object.defineProperty(r, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), r }, toClassDescriptor: function (e) { var r = String(e.kind); if (r !== "class") throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "` + r + '"'); this.disallowProperty(e, "key", "A class descriptor"), this.disallowProperty(e, "placement", "A class descriptor"), this.disallowProperty(e, "descriptor", "A class descriptor"), this.disallowProperty(e, "initializer", "A class descriptor"), this.disallowProperty(e, "extras", "A class descriptor"); var n = Fe(e, "finisher"); return { elements: this.toElementDescriptors(e.elements), finisher: n } }, runClassFinishers: function (e, r) { for (var n = 0; n < r.length; n++) { var s = (0, r[n])(e); if (s !== void 0) { if (typeof s != "function") throw new TypeError("Finishers must return a constructor."); e = s } } return e }, disallowProperty: function (e, r, n) { if (e[r] !== void 0) throw new TypeError(n + " can't have a ." + r + " property.") } }; return t } function Lr(t) { var e, r = nr(t.key); t.kind === "method" ? e = { value: t.value, writable: !0, configurable: !0, enumerable: !1 } : t.kind === "get" ? e = { get: t.value, configurable: !0, enumerable: !1 } : t.kind === "set" ? e = { set: t.value, configurable: !0, enumerable: !1 } : t.kind === "field" && (e = { configurable: !0, writable: !0, enumerable: !0 }); var n = { kind: t.kind === "field" ? "field" : "method", key: r, placement: t.static ? "static" : t.kind === "field" ? "own" : "prototype", descriptor: e }; return t.decorators && (n.decorators = t.decorators), t.kind === "field" && (n.initializer = t.value), n } function Vr(t, e) { t.descriptor.get !== void 0 ? e.descriptor.get = t.descriptor.get : e.descriptor.set = t.descriptor.set } function Br(t) { for (var e = [], r = function (o) { return o.kind === "method" && o.key === a.key && o.placement === a.placement }, n = 0; n < t.length; n++) { var s, a = t[n]; if (a.kind === "method" && (s = e.find(r))) if (De(a.descriptor) || De(s.descriptor)) { if (Rt(a) || Rt(s)) throw new ReferenceError("Duplicated methods (" + a.key + ") can't be decorated."); s.descriptor = a.descriptor } else { if (Rt(a)) { if (Rt(s)) throw new ReferenceError("Decorators can't be placed on different accessors with for the same property (" + a.key + ")."); s.decorators = a.decorators } Vr(a, s) } else e.push(a) } return e } function Rt(t) { return t.decorators && t.decorators.length } function De(t) { return t !== void 0 && !(t.value === void 0 && t.writable === void 0) } function Fe(t, e) { var r = t[e]; if (r !== void 0 && typeof r != "function") throw new TypeError("Expected '" + e + "' to be a function"); return r } function fn(t, e, r) { if (!e.has(t)) throw new TypeError("attempted to get private field on non-instance"); return r } function hr(t, e) { if (e.has(t)) throw new TypeError("Cannot initialize the same private elements twice on an object") } function un(t, e, r) { hr(t, e), e.set(t, r) } function dn(t, e) { hr(t, e), e.add(t) } function mn() { throw new TypeError("attempted to reassign private method") } var ue = function (t, e) { return ue = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (r, n) { r.__proto__ = n } || function (r, n) { for (var s in n) Object.prototype.hasOwnProperty.call(n, s) && (r[s] = n[s]) }, ue(t, e) }; function yn(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null"); function r() { this.constructor = t } ue(t, e), t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r) } var Ie = function () { return Ie = Object.assign || function (t) { for (var e, r = 1, n = arguments.length; r < n; r++)for (var s in e = arguments[r]) Object.prototype.hasOwnProperty.call(e, s) && (t[s] = e[s]); return t }, Ie.apply(this, arguments) }; function gn(t, e) { var r = {}; for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && e.indexOf(n) < 0 && (r[n] = t[n]); if (t != null && typeof Object.getOwnPropertySymbols == "function") { var s = 0; for (n = Object.getOwnPropertySymbols(t); s < n.length; s++)e.indexOf(n[s]) < 0 && Object.prototype.propertyIsEnumerable.call(t, n[s]) && (r[n[s]] = t[n[s]]) } return r } function W(t, e, r, n) { var s, a = arguments.length, o = a < 3 ? e : n === null ? n = Object.getOwnPropertyDescriptor(e, r) : n; if (typeof Reflect == "object" && typeof Reflect.decorate == "function") o = Reflect.decorate(t, e, r, n); else for (var l = t.length - 1; l >= 0; l--)(s = t[l]) && (o = (a < 3 ? s(o) : a > 3 ? s(e, r, o) : s(e, r)) || o); return a > 3 && o && Object.defineProperty(e, r, o), o } function vn(t, e) { return function (r, n) { e(r, n, t) } } function bn(t, e) { if (typeof Reflect == "object" && typeof Reflect.metadata == "function") return Reflect.metadata(t, e) } function _n(t, e, r, n) { return new (r || (r = Promise))(function (s, a) { function o(y) { try { p(n.next(y)) } catch (h) { a(h) } } function l(y) { try { p(n.throw(y)) } catch (h) { a(h) } } function p(y) { var h; y.done ? s(y.value) : (h = y.value, h instanceof r ? h : new r(function (d) { d(h) })).then(o, l) } p((n = n.apply(t, e || [])).next()) }) } function En(t, e) { var r, n, s, a, o = { label: 0, sent: function () { if (1 & s[0]) throw s[1]; return s[1] }, trys: [], ops: [] }; return a = { next: l(0), throw: l(1), return: l(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function () { return this }), a; function l(p) { return function (y) { return function (h) { if (r) throw new TypeError("Generator is already executing."); for (; o;)try { if (r = 1, n && (s = 2 & h[0] ? n.return : h[0] ? n.throw || ((s = n.return) && s.call(n), 0) : n.next) && !(s = s.call(n, h[1])).done) return s; switch (n = 0, s && (h = [2 & h[0], s.value]), h[0]) { case 0: case 1: s = h; break; case 4: return o.label++, { value: h[1], done: !1 }; case 5: o.label++, n = h[1], h = [0]; continue; case 7: h = o.ops.pop(), o.trys.pop(); continue; default: if (s = o.trys, !((s = s.length > 0 && s[s.length - 1]) || h[0] !== 6 && h[0] !== 2)) { o = 0; continue } if (h[0] === 3 && (!s || h[1] > s[0] && h[1] < s[3])) { o.label = h[1]; break } if (h[0] === 6 && o.label < s[1]) { o.label = s[1], s = h; break } if (s && o.label < s[2]) { o.label = s[2], o.ops.push(h); break } s[2] && o.ops.pop(), o.trys.pop(); continue }h = e.call(t, o) } catch (d) { h = [6, d], n = 0 } finally { r = s = 0 } if (5 & h[0]) throw h[1]; return { value: h[0] ? h[1] : void 0, done: !0 } }([p, y]) } } } var pr = Object.create ? function (t, e, r, n) { n === void 0 && (n = r), Object.defineProperty(t, n, { enumerable: !0, get: function () { return e[r] } }) } : function (t, e, r, n) { n === void 0 && (n = r), t[n] = e[r] }; function Sn(t, e) { for (var r in t) r === "default" || Object.prototype.hasOwnProperty.call(e, r) || pr(e, t, r) } function Le(t) { var e = typeof Symbol == "function" && Symbol.iterator, r = e && t[e], n = 0; if (r) return r.call(t); if (t && typeof t.length == "number") return { next: function () { return t && n >= t.length && (t = void 0), { value: t && t[n++], done: !t } } }; throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.") } function Rr(t, e) { var r = typeof Symbol == "function" && t[Symbol.iterator]; if (!r) return t; var n, s, a = r.call(t), o = []; try { for (; (e === void 0 || e-- > 0) && !(n = a.next()).done;)o.push(n.value) } catch (l) { s = { error: l } } finally { try { n && !n.done && (r = a.return) && r.call(a) } finally { if (s) throw s.error } } return o } function xn() { for (var t = [], e = 0; e < arguments.length; e++)t = t.concat(Rr(arguments[e])); return t } function Pn() { for (var t = 0, e = 0, r = arguments.length; e < r; e++)t += arguments[e].length; var n = Array(t), s = 0; for (e = 0; e < r; e++)for (var a = arguments[e], o = 0, l = a.length; o < l; o++, s++)n[s] = a[o]; return n } function Cn(t, e, r) { if (r || arguments.length === 2) for (var n, s = 0, a = e.length; s < a; s++)!n && s in e || (n || (n = Array.prototype.slice.call(e, 0, s)), n[s] = e[s]); return t.concat(n || Array.prototype.slice.call(e)) } function Zt(t) { return this instanceof Zt ? (this.v = t, this) : new Zt(t) } function wn(t, e, r) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var n, s = r.apply(t, e || []), a = []; return n = {}, o("next"), o("throw"), o("return"), n[Symbol.asyncIterator] = function () { return this }, n; function o(d) { s[d] && (n[d] = function (f) { return new Promise(function (g, m) { a.push([d, f, g, m]) > 1 || l(d, f) }) }) } function l(d, f) { try { (function (g) { g.value instanceof Zt ? Promise.resolve(g.value.v).then(p, y) : h(a[0][2], g) })(s[d](f)) } catch (g) { h(a[0][3], g) } } function p(d) { l("next", d) } function y(d) { l("throw", d) } function h(d, f) { d(f), a.shift(), a.length && l(a[0][0], a[0][1]) } } function kn(t) { var e, r; return e = {}, n("next"), n("throw", function (s) { throw s }), n("return"), e[Symbol.iterator] = function () { return this }, e; function n(s, a) { e[s] = t[s] ? function (o) { return (r = !r) ? { value: Zt(t[s](o)), done: s === "return" } : a ? a(o) : o } : a } } function Tn(t) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var e, r = t[Symbol.asyncIterator]; return r ? r.call(t) : (t = typeof Le == "function" ? Le(t) : t[Symbol.iterator](), e = {}, n("next"), n("throw"), n("return"), e[Symbol.asyncIterator] = function () { return this }, e); function n(s) { e[s] = t[s] && function (a) { return new Promise(function (o, l) { (function (p, y, h, d) { Promise.resolve(d).then(function (f) { p({ value: f, done: h }) }, y) })(o, l, (a = t[s](a)).done, a.value) }) } } } function An(t, e) { return Object.defineProperty ? Object.defineProperty(t, "raw", { value: e }) : t.raw = e, t } var Or = Object.create ? function (t, e) { Object.defineProperty(t, "default", { enumerable: !0, value: e }) } : function (t, e) { t.default = e }; function Mn(t) { if (t && t.__esModule) return t; var e = {}; if (t != null) for (var r in t) r !== "default" && Object.prototype.hasOwnProperty.call(t, r) && pr(e, t, r); return Or(e, t), e } function Dn(t) { return t && t.__esModule ? t : { default: t } } function Fn(t, e, r, n) { if (r === "a" && !n) throw new TypeError("Private accessor was defined without a getter"); if (typeof e == "function" ? t !== e || !n : !e.has(t)) throw new TypeError("Cannot read private member from an object whose class did not declare it"); return r === "m" ? n : r === "a" ? n.call(t) : n ? n.value : e.get(t) } function In(t, e, r, n, s) { if (n === "m") throw new TypeError("Private method is not writable"); if (n === "a" && !s) throw new TypeError("Private accessor was defined without a setter"); if (typeof e == "function" ? t !== e || !s : !e.has(t)) throw new TypeError("Cannot write private member to an object whose class did not declare it"); return n === "a" ? s.call(t, r) : s ? s.value = r : e.set(t, r), r; } var _e = window.ShadowRoot && (window.ShadyCSS === void 0 || window.ShadyCSS.nativeShadow) && "adoptedStyleSheets" in Document.prototype && "replace" in CSSStyleSheet.prototype, Ee = Symbol(), Ve = new Map, Jt = class { constructor(e, r) { if (this._$cssResult$ = !0, r !== Ee) throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead."); this.cssText = e } get styleSheet() { var e = Ve.get(this.cssText); return _e && e === void 0 && (Ve.set(this.cssText, e = new CSSStyleSheet), e.replaceSync(this.cssText)), e } toString() { return this.cssText } }, zr = t => new Jt(typeof t == "string" ? t : t + "", Ee), Nr = function (t) { for (var e = arguments.length, r = new Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++)r[n - 1] = arguments[n]; var s = t.length === 1 ? t[0] : r.reduce((a, o, l) => a + (p => { if (p._$cssResult$ === !0) return p.cssText; if (typeof p == "number") return p; throw Error("Value passed to 'css' function must be a 'css' function result: " + p + ". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.") })(o) + t[l + 1], t[0]); return new Jt(s, Ee) }, Gr = (t, e) => { _e ? t.adoptedStyleSheets = e.map(r => r instanceof CSSStyleSheet ? r : r.styleSheet) : e.forEach(r => { var n = document.createElement("style"), s = window.litNonce; s !== void 0 && n.setAttribute("nonce", s), n.textContent = r.cssText, t.appendChild(n) }) }, Be = _e ? t => t : t => t instanceof CSSStyleSheet ? (e => { var r = ""; for (var n of e.cssRules) r += n.cssText; return zr(r) })(t) : t, se, Re = window.trustedTypes, jr = Re ? Re.emptyScript : "", Oe = window.reactiveElementPolyfillSupport, de = { toAttribute(t, e) { switch (e) { case Boolean: t = t ? jr : null; break; case Object: case Array: t = t == null ? t : JSON.stringify(t) }return t }, fromAttribute(t, e) { var r = t; switch (e) { case Boolean: r = t !== null; break; case Number: r = t === null ? null : Number(t); break; case Object: case Array: try { r = JSON.parse(t) } catch { r = null } }return r } }, cr = (t, e) => e !== t && (e == e || t == t), ae = { attribute: !0, type: String, converter: de, reflect: !1, hasChanged: cr }, oe, pt = class extends HTMLElement { constructor() { super(), this._$Et = new Map, this.isUpdatePending = !1, this.hasUpdated = !1, this._$Ei = null, this.o() } static addInitializer(e) { var r; (r = this.l) !== null && r !== void 0 || (this.l = []), this.l.push(e) } static get observedAttributes() { this.finalize(); var e = []; return this.elementProperties.forEach((r, n) => { var s = this._$Eh(n, r); s !== void 0 && (this._$Eu.set(s, n), e.push(s)) }), e } static createProperty(e) { var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : ae; if (r.state && (r.attribute = !1), this.finalize(), this.elementProperties.set(e, r), !r.noAccessor && !this.prototype.hasOwnProperty(e)) { var n = typeof e == "symbol" ? Symbol() : "__" + e, s = this.getPropertyDescriptor(e, n, r); s !== void 0 && Object.defineProperty(this.prototype, e, s) } } static getPropertyDescriptor(e, r, n) { return { get() { return this[r] }, set(s) { var a = this[e]; this[r] = s, this.requestUpdate(e, a, n) }, configurable: !0, enumerable: !0 } } static getPropertyOptions(e) { return this.elementProperties.get(e) || ae } static finalize() { if (this.hasOwnProperty("finalized")) return !1; this.finalized = !0; var e = Object.getPrototypeOf(this); if (e.finalize(), this.elementProperties = new Map(e.elementProperties), this._$Eu = new Map, this.hasOwnProperty("properties")) { var r = this.properties, n = [...Object.getOwnPropertyNames(r), ...Object.getOwnPropertySymbols(r)]; for (var s of n) this.createProperty(s, r[s]) } return this.elementStyles = this.finalizeStyles(this.styles), !0 } static finalizeStyles(e) { var r = []; if (Array.isArray(e)) { var n = new Set(e.flat(1 / 0).reverse()); for (var s of n) r.unshift(Be(s)) } else e !== void 0 && r.push(Be(e)); return r } static _$Eh(e, r) { var n = r.attribute; return n === !1 ? void 0 : typeof n == "string" ? n : typeof e == "string" ? e.toLowerCase() : void 0 } o() { var e; this._$Ep = new Promise(r => this.enableUpdating = r), this._$AL = new Map, this._$Em(), this.requestUpdate(), (e = this.constructor.l) === null || e === void 0 || e.forEach(r => r(this)) } addController(e) { var r, n; ((r = this._$Eg) !== null && r !== void 0 ? r : this._$Eg = []).push(e), this.renderRoot !== void 0 && this.isConnected && ((n = e.hostConnected) === null || n === void 0 || n.call(e)) } removeController(e) { var r; (r = this._$Eg) === null || r === void 0 || r.splice(this._$Eg.indexOf(e) >>> 0, 1) } _$Em() { this.constructor.elementProperties.forEach((e, r) => { this.hasOwnProperty(r) && (this._$Et.set(r, this[r]), delete this[r]) }) } createRenderRoot() { var e, r = (e = this.shadowRoot) !== null && e !== void 0 ? e : this.attachShadow(this.constructor.shadowRootOptions); return Gr(r, this.constructor.elementStyles), r } connectedCallback() { var e; this.renderRoot === void 0 && (this.renderRoot = this.createRenderRoot()), this.enableUpdating(!0), (e = this._$Eg) === null || e === void 0 || e.forEach(r => { var n; return (n = r.hostConnected) === null || n === void 0 ? void 0 : n.call(r) }) } enableUpdating(e) { } disconnectedCallback() { var e; (e = this._$Eg) === null || e === void 0 || e.forEach(r => { var n; return (n = r.hostDisconnected) === null || n === void 0 ? void 0 : n.call(r) }) } attributeChangedCallback(e, r, n) { this._$AK(e, n) } _$ES(e, r) { var n, s, a = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : ae, o = this.constructor._$Eh(e, a); if (o !== void 0 && a.reflect === !0) { var l = ((s = (n = a.converter) === null || n === void 0 ? void 0 : n.toAttribute) !== null && s !== void 0 ? s : de.toAttribute)(r, a.type); this._$Ei = e, l == null ? this.removeAttribute(o) : this.setAttribute(o, l), this._$Ei = null } } _$AK(e, r) { var n, s, a, o = this.constructor, l = o._$Eu.get(e); if (l !== void 0 && this._$Ei !== l) { var p = o.getPropertyOptions(l), y = p.converter, h = (a = (s = (n = y) === null || n === void 0 ? void 0 : n.fromAttribute) !== null && s !== void 0 ? s : typeof y == "function" ? y : null) !== null && a !== void 0 ? a : de.fromAttribute; this._$Ei = l, this[l] = h(r, p.type), this._$Ei = null } } requestUpdate(e, r, n) { var s = !0; e !== void 0 && (((n = n || this.constructor.getPropertyOptions(e)).hasChanged || cr)(this[e], r) ? (this._$AL.has(e) || this._$AL.set(e, r), n.reflect === !0 && this._$Ei !== e && (this._$E_ === void 0 && (this._$E_ = new Map), this._$E_.set(e, n))) : s = !1), !this.isUpdatePending && s && (this._$Ep = this._$EC()) } _$EC() { var e = this; return re(function* () { e.isUpdatePending = !0; try { yield e._$Ep } catch (n) { Promise.reject(n) } var r = e.scheduleUpdate(); return r != null && (yield r), !e.isUpdatePending })() } scheduleUpdate() { return this.performUpdate() } performUpdate() { var e; if (this.isUpdatePending) { this.hasUpdated, this._$Et && (this._$Et.forEach((s, a) => this[a] = s), this._$Et = void 0); var r = !1, n = this._$AL; try { (r = this.shouldUpdate(n)) ? (this.willUpdate(n), (e = this._$Eg) === null || e === void 0 || e.forEach(s => { var a; return (a = s.hostUpdate) === null || a === void 0 ? void 0 : a.call(s) }), this.update(n)) : this._$EU() } catch (s) { throw r = !1, this._$EU(), s } r && this._$AE(n) } } willUpdate(e) { } _$AE(e) { var r; (r = this._$Eg) === null || r === void 0 || r.forEach(n => { var s; return (s = n.hostUpdated) === null || s === void 0 ? void 0 : s.call(n) }), this.hasUpdated || (this.hasUpdated = !0, this.firstUpdated(e)), this.updated(e) } _$EU() { this._$AL = new Map, this.isUpdatePending = !1 } get updateComplete() { return this.getUpdateComplete() } getUpdateComplete() { return this._$Ep } shouldUpdate(e) { return !0 } update(e) { this._$E_ !== void 0 && (this._$E_.forEach((r, n) => this._$ES(n, this[n], r)), this._$E_ = void 0), this._$EU() } updated(e) { } firstUpdated(e) { } }; pt.finalized = !0, pt.elementProperties = new Map, pt.elementStyles = [], pt.shadowRootOptions = { mode: "open" }, Oe?.({ ReactiveElement: pt }), ((se = globalThis.reactiveElementVersions) !== null && se !== void 0 ? se : globalThis.reactiveElementVersions = []).push("1.2.1"); var Mt = globalThis.trustedTypes, ze = Mt ? Mt.createPolicy("lit-html", { createHTML: t => t }) : void 0, ct = "lit$".concat((Math.random() + "").slice(9), "$"), Se = "?" + ct, Hr = "<".concat(Se, ">"), Dt = document, zt = function () { var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : ""; return Dt.createComment(t) }, Nt = t => t === null || typeof t != "object" && typeof t != "function", fr = Array.isArray, ur = t => { var e; return fr(t) || typeof ((e = t) === null || e === void 0 ? void 0 : e[Symbol.iterator]) == "function" }, Vt = /<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g, Ne = /-->/g, Ge = />/g, vt = />|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g, je = /'/g, He = /"/g, dr = /^(?:script|style|textarea)$/i, mr = t => function (e) { for (var r = arguments.length, n = new Array(r > 1 ? r - 1 : 0), s = 1; s < r; s++)n[s - 1] = arguments[s]; return { _$litType$: t, strings: e, values: n } }, Ut = mr(1), Ln = mr(2), Ft = Symbol.for("lit-noChange"), K = Symbol.for("lit-nothing"), qe = new WeakMap, qr = (t, e, r) => { var n, s, a = (n = r?.renderBefore) !== null && n !== void 0 ? n : e, o = a._$litPart$; if (o === void 0) { var l = (s = r?.renderBefore) !== null && s !== void 0 ? s : null; a._$litPart$ = o = new mt(e.insertBefore(zt(), l), l, void 0, r ?? {}) } return o._$AI(t), o }, kt = Dt.createTreeWalker(Dt, 129, null, !1), yr = (t, e) => { for (var r, n = t.length - 1, s = [], a = e === 2 ? "<svg>" : "", o = Vt, l = 0; l < n; l++) { for (var p = t[l], y = void 0, h = void 0, d = -1, f = 0; f < p.length && (o.lastIndex = f, (h = o.exec(p)) !== null);)f = o.lastIndex, o === Vt ? h[1] === "!--" ? o = Ne : h[1] !== void 0 ? o = Ge : h[2] !== void 0 ? (dr.test(h[2]) && (r = RegExp("</" + h[2], "g")), o = vt) : h[3] !== void 0 && (o = vt) : o === vt ? h[0] === ">" ? (o = r ?? Vt, d = -1) : h[1] === void 0 ? d = -2 : (d = o.lastIndex - h[2].length, y = h[1], o = h[3] === void 0 ? vt : h[3] === '"' ? He : je) : o === He || o === je ? o = vt : o === Ne || o === Ge ? o = Vt : (o = vt, r = void 0); var g = o === vt && t[l + 1].startsWith("/>") ? " " : ""; a += o === Vt ? p + Hr : d >= 0 ? (s.push(y), p.slice(0, d) + "$lit$" + p.slice(d) + ct + g) : p + ct + (d === -2 ? (s.push(void 0), l) : g) } var m = a + (t[n] || "<?>") + (e === 2 ? "</svg>" : ""); if (!Array.isArray(t) || !t.hasOwnProperty("raw")) throw Error("invalid template strings array"); return [ze !== void 0 ? ze.createHTML(m) : m, s] }, Et = class { constructor(e, r) { var n, { strings: s, _$litType$: a } = e; this.parts = []; var o = 0, l = 0, p = s.length - 1, y = this.parts, [h, d] = yr(s, a); if (this.el = Et.createElement(h, r), kt.currentNode = this.el.content, a === 2) { var f = this.el.content, g = f.firstChild; g.remove(), f.append(...g.childNodes) } for (; (n = kt.nextNode()) !== null && y.length < p;) { if (n.nodeType === 1) { if (n.hasAttributes()) { var m = []; for (var c of n.getAttributeNames()) if (c.endsWith("$lit$") || c.startsWith(ct)) { var u = d[l++]; if (m.push(c), u !== void 0) { var v = n.getAttribute(u.toLowerCase() + "$lit$").split(ct), b = /([.?@])?(.*)/.exec(u); y.push({ type: 1, index: o, name: b[2], strings: v, ctor: b[1] === "." ? Kt : b[1] === "?" ? $t : b[1] === "@" ? te : xt }) } else y.push({ type: 6, index: o }) } for (var E of m) n.removeAttribute(E) } if (dr.test(n.tagName)) { var _ = n.textContent.split(ct), x = _.length - 1; if (x > 0) { n.textContent = Mt ? Mt.emptyScript : ""; for (var T = 0; T < x; T++)n.append(_[T], zt()), kt.nextNode(), y.push({ type: 2, index: ++o }); n.append(_[x], zt()) } } } else if (n.nodeType === 8) if (n.data === Se) y.push({ type: 2, index: o }); else for (var w = -1; (w = n.data.indexOf(ct, w + 1)) !== -1;)y.push({ type: 7, index: o }), w += ct.length - 1; o++ } } static createElement(e, r) { var n = Dt.createElement("template"); return n.innerHTML = e, n } }; function St(t, e) { var r, n, s, a, o = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : t, l = arguments.length > 3 ? arguments[3] : void 0; if (e === Ft) return e; var p = l !== void 0 ? (r = o._$Cl) === null || r === void 0 ? void 0 : r[l] : o._$Cu, y = Nt(e) ? void 0 : e._$litDirective$; return p?.constructor !== y && ((n = p?._$AO) === null || n === void 0 || n.call(p, !1), y === void 0 ? p = void 0 : (p = new y(t))._$AT(t, o, l), l !== void 0 ? ((s = (a = o)._$Cl) !== null && s !== void 0 ? s : a._$Cl = [])[l] = p : o._$Cu = p), p !== void 0 && (e = St(t, p._$AS(t, e.values), p, l)), e } var Qt = class { constructor(e, r) { this.v = [], this._$AN = void 0, this._$AD = e, this._$AM = r } get parentNode() { return this._$AM.parentNode } get _$AU() { return this._$AM._$AU } p(e) { var r, { el: { content: n }, parts: s } = this._$AD, a = ((r = e?.creationScope) !== null && r !== void 0 ? r : Dt).importNode(n, !0); kt.currentNode = a; for (var o = kt.nextNode(), l = 0, p = 0, y = s[0]; y !== void 0;) { if (l === y.index) { var h = void 0; y.type === 2 ? h = new mt(o, o.nextSibling, this, e) : y.type === 1 ? h = new y.ctor(o, y.name, y.strings, this, e) : y.type === 6 && (h = new ee(o, this, e)), this.v.push(h), y = s[++p] } l !== y?.index && (o = kt.nextNode(), l++) } return a } m(e) { var r = 0; for (var n of this.v) n !== void 0 && (n.strings !== void 0 ? (n._$AI(e, n, r), r += n.strings.length - 2) : n._$AI(e[r])), r++ } }, mt = class { constructor(e, r, n, s) { var a; this.type = 2, this._$AH = K, this._$AN = void 0, this._$AA = e, this._$AB = r, this._$AM = n, this.options = s, this._$Cg = (a = s?.isConnected) === null || a === void 0 || a } get _$AU() { var e, r; return (r = (e = this._$AM) === null || e === void 0 ? void 0 : e._$AU) !== null && r !== void 0 ? r : this._$Cg } get parentNode() { var e = this._$AA.parentNode, r = this._$AM; return r !== void 0 && e.nodeType === 11 && (e = r.parentNode), e } get startNode() { return this._$AA } get endNode() { return this._$AB } _$AI(e) { e = St(this, e, arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this), Nt(e) ? e === K || e == null || e === "" ? (this._$AH !== K && this._$AR(), this._$AH = K) : e !== this._$AH && e !== Ft && this.$(e) : e._$litType$ !== void 0 ? this.T(e) : e.nodeType !== void 0 ? this.S(e) : ur(e) ? this.A(e) : this.$(e) } M(e) { var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this._$AB; return this._$AA.parentNode.insertBefore(e, r) } S(e) { this._$AH !== e && (this._$AR(), this._$AH = this.M(e)) } $(e) { this._$AH !== K && Nt(this._$AH) ? this._$AA.nextSibling.data = e : this.S(Dt.createTextNode(e)), this._$AH = e } T(e) { var r, { values: n, _$litType$: s } = e, a = typeof s == "number" ? this._$AC(e) : (s.el === void 0 && (s.el = Et.createElement(s.h, this.options)), s); if (((r = this._$AH) === null || r === void 0 ? void 0 : r._$AD) === a) this._$AH.m(n); else { var o = new Qt(a, this), l = o.p(this.options); o.m(n), this.S(l), this._$AH = o } } _$AC(e) { var r = qe.get(e.strings); return r === void 0 && qe.set(e.strings, r = new Et(e)), r } A(e) { fr(this._$AH) || (this._$AH = [], this._$AR()); var r, n = this._$AH, s = 0; for (var a of e) s === n.length ? n.push(r = new mt(this.M(zt()), this.M(zt()), this, this.options)) : r = n[s], r._$AI(a), s++; s < n.length && (this._$AR(r && r._$AB.nextSibling, s), n.length = s) } _$AR() { var e, r = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this._$AA.nextSibling, n = arguments.length > 1 ? arguments[1] : void 0; for ((e = this._$AP) === null || e === void 0 || e.call(this, !1, !0, n); r && r !== this._$AB;) { var s = r.nextSibling; r.remove(), r = s } } setConnected(e) { var r; this._$AM === void 0 && (this._$Cg = e, (r = this._$AP) === null || r === void 0 || r.call(this, e)) } }, xt = class { constructor(e, r, n, s, a) { this.type = 1, this._$AH = K, this._$AN = void 0, this.element = e, this.name = r, this._$AM = s, this.options = a, n.length > 2 || n[0] !== "" || n[1] !== "" ? (this._$AH = Array(n.length - 1).fill(new String), this.strings = n) : this._$AH = K } get tagName() { return this.element.tagName } get _$AU() { return this._$AM._$AU } _$AI(e) { var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this, n = arguments.length > 2 ? arguments[2] : void 0, s = arguments.length > 3 ? arguments[3] : void 0, a = this.strings, o = !1; if (a === void 0) e = St(this, e, r, 0), (o = !Nt(e) || e !== this._$AH && e !== Ft) && (this._$AH = e); else { var l, p, y = e; for (e = a[0], l = 0; l < a.length - 1; l++)(p = St(this, y[n + l], r, l)) === Ft && (p = this._$AH[l]), o || (o = !Nt(p) || p !== this._$AH[l]), p === K ? e = K : e !== K && (e += (p ?? "") + a[l + 1]), this._$AH[l] = p } o && !s && this.k(e) } k(e) { e === K ? this.element.removeAttribute(this.name) : this.element.setAttribute(this.name, e ?? "") } }, Kt = class extends xt { constructor() { super(...arguments), this.type = 3 } k(e) { this.element[this.name] = e === K ? void 0 : e } }, Wr = Mt ? Mt.emptyScript : "", $t = class extends xt { constructor() { super(...arguments), this.type = 4 } k(e) { e && e !== K ? this.element.setAttribute(this.name, Wr) : this.element.removeAttribute(this.name) } }, te = class extends xt { constructor(e, r, n, s, a) { super(e, r, n, s, a), this.type = 5 } _$AI(e) { var r; if ((e = (r = St(this, e, arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this, 0)) !== null && r !== void 0 ? r : K) !== Ft) { var n = this._$AH, s = e === K && n !== K || e.capture !== n.capture || e.once !== n.once || e.passive !== n.passive, a = e !== K && (n === K || s); s && this.element.removeEventListener(this.name, this, n), a && this.element.addEventListener(this.name, this, e), this._$AH = e } } handleEvent(e) { var r, n; typeof this._$AH == "function" ? this._$AH.call((n = (r = this.options) === null || r === void 0 ? void 0 : r.host) !== null && n !== void 0 ? n : this.element, e) : this._$AH.handleEvent(e) } }, ee = class { constructor(e, r, n) { this.element = e, this.type = 6, this._$AN = void 0, this._$AM = r, this.options = n } get _$AU() { return this._$AM._$AU } _$AI(e) { St(this, e) } }, Vn = { P: "$lit$", V: ct, L: Se, I: 1, N: yr, R: Qt, D: ur, j: St, H: mt, O: xt, F: $t, B: te, W: Kt, Z: ee }, We = window.litHtmlPolyfillSupport, le, he; We?.(Et, mt), ((oe = globalThis.litHtmlVersions) !== null && oe !== void 0 ? oe : globalThis.litHtmlVersions = []).push("2.1.2"); var Bn = pt, bt = class extends pt { constructor() { super(...arguments), this.renderOptions = { host: this }, this._$Dt = void 0 } createRenderRoot() { var e, r, n = super.createRenderRoot(); return (e = (r = this.renderOptions).renderBefore) !== null && e !== void 0 || (r.renderBefore = n.firstChild), n } update(e) { var r = this.render(); this.hasUpdated || (this.renderOptions.isConnected = this.isConnected), super.update(e), this._$Dt = qr(r, this.renderRoot, this.renderOptions) } connectedCallback() { var e; super.connectedCallback(), (e = this._$Dt) === null || e === void 0 || e.setConnected(!0) } disconnectedCallback() { var e; super.disconnectedCallback(), (e = this._$Dt) === null || e === void 0 || e.setConnected(!1) } render() { return Ft } }; bt.finalized = !0, bt._$litElement$ = !0, (le = globalThis.litElementHydrateSupport) === null || le === void 0 || le.call(globalThis, { LitElement: bt }); var Ue = globalThis.litElementPolyfillSupport; Ue?.({ LitElement: bt }); var Rn = { _$AK: (t, e, r) => { t._$AK(e, r) }, _$AL: t => t._$AL }; ((he = globalThis.litElementVersions) !== null && he !== void 0 ? he : globalThis.litElementVersions = []).push("3.1.2"); var Ur = t => e => typeof e == "function" ? ((r, n) => (window.customElements.define(r, n), n))(t, e) : ((r, n) => { var { kind: s, elements: a } = n; return { kind: s, elements: a, finisher(o) { window.customElements.define(r, o) } } })(t, e), Yr = (t, e) => e.kind === "method" && e.descriptor && !("value" in e.descriptor) ? Tt(Tt({}, e), {}, { finisher(r) { r.createProperty(e.key, t) } }) : { kind: "field", key: Symbol(), placement: "own", descriptor: {}, originalKey: e.key, initializer() { typeof e.initializer == "function" && (this[e.key] = e.initializer.call(this)) }, finisher(r) { r.createProperty(e.key, t) } }; function Y(t) { return (e, r) => r !== void 0 ? ((n, s, a) => { s.constructor.createProperty(a, n) })(t, e, r) : Yr(t, e) } function On(t) { return Y(Tt(Tt({}, t), {}, { state: !0 })) } var zn = (t, e, r) => { Object.defineProperty(e, r, t) }, Nn = (t, e) => ({ kind: "method", placement: "prototype", key: e.key, descriptor: t }), Lt = t => { var { finisher: e, descriptor: r } = t; return (n, s) => { var a; if (s === void 0) { var o = (a = n.originalKey) !== null && a !== void 0 ? a : n.key, l = r != null ? { kind: "method", placement: "prototype", key: o, descriptor: r(n.key) } : Tt(Tt({}, n), {}, { key: o }); return e != null && (l.finisher = function (y) { e(y, o) }), l } var p = n.constructor; r !== void 0 && Object.defineProperty(n, s, r(s)), e?.(p, s) } }, pe; function Gn(t) { return Lt({ finisher: (e, r) => { Object.assign(e.prototype[r], t) } }) } function Xr(t, e) { return Lt({ descriptor: r => { var n = { get() { var a, o; return (o = (a = this.renderRoot) === null || a === void 0 ? void 0 : a.querySelector(t)) !== null && o !== void 0 ? o : null }, enumerable: !0, configurable: !0 }; if (e) { var s = typeof r == "symbol" ? Symbol() : "__" + r; n.get = function () { var a, o; return this[s] === void 0 && (this[s] = (o = (a = this.renderRoot) === null || a === void 0 ? void 0 : a.querySelector(t)) !== null && o !== void 0 ? o : null), this[s] } } return n } }) } function jn(t) { return Lt({ descriptor: e => ({ get() { var r, n; return (n = (r = this.renderRoot) === null || r === void 0 ? void 0 : r.querySelectorAll(t)) !== null && n !== void 0 ? n : [] }, enumerable: !0, configurable: !0 }) }) } function Hn(t) { return Lt({ descriptor: e => ({ get() { var r = this; return re(function* () { var n; return yield r.updateComplete, (n = r.renderRoot) === null || n === void 0 ? void 0 : n.querySelector(t) })() }, enumerable: !0, configurable: !0 }) }) } var Zr = ((pe = window.HTMLSlotElement) === null || pe === void 0 ? void 0 : pe.prototype.assignedElements) != null ? (t, e) => t.assignedElements(e) : (t, e) => t.assignedNodes(e).filter(r => r.nodeType === Node.ELEMENT_NODE); function Jr(t) { var { slot: e, selector: r } = t ?? {}; return Lt({ descriptor: n => ({ get() { var s, a = "slot" + (e ? "[name=".concat(e, "]") : ":not([name])"), o = (s = this.renderRoot) === null || s === void 0 ? void 0 : s.querySelector(a), l = o != null ? Zr(o, t) : []; return r ? l.filter(p => p.matches(r)) : l }, enumerable: !0, configurable: !0 }) }) } function qn(t, e, r) { var n, s = t; return typeof t == "object" ? (s = t.slot, n = t) : n = { flatten: e }, r ? Jr({ slot: s, flatten: e, selector: r }) : Lt({ descriptor: a => ({ get() { var o, l, p = "slot" + (s ? "[name=".concat(s, "]") : ":not([name])"), y = (o = this.renderRoot) === null || o === void 0 ? void 0 : o.querySelector(p); return (l = y?.assignedNodes(n)) !== null && l !== void 0 ? l : [] }, enumerable: !0, configurable: !0 }) }) } var Wn = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}; function Un(t) { return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t } function Yn(t) { return t && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t } function Xn(t) { return t && Object.prototype.hasOwnProperty.call(t, "default") && Object.keys(t).length === 1 ? t.default : t } function Zn(t) { if (t.__esModule) return t; var e = Object.defineProperty({}, "__esModule", { value: !0 }); return Object.keys(t).forEach(function (r) { var n = Object.getOwnPropertyDescriptor(t, r); Object.defineProperty(e, r, n.get ? n : { enumerable: !0, get: function () { return t[r] } }) }), e } function Jn(t) { throw new Error('Could not dynamically require "' + t + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.') } var Gt = { exports: {} }; (function (module, exports) {
        var factory; typeof navigator < "u" && (factory = function () {
            var svgNS = "http://www.w3.org/2000/svg", locationHref = "", _useWebWorker = !1, initialDefaultFrame = -999999, setWebWorker = function (t) { _useWebWorker = !!t }, getWebWorker = function () { return _useWebWorker }, setLocationHref = function (t) { locationHref = t }, getLocationHref = function () { return locationHref }; function createTag(t) { return document.createElement(t) } function extendPrototype(t, e) { var r, n, s = t.length; for (r = 0; r < s; r += 1)for (var a in n = t[r].prototype) Object.prototype.hasOwnProperty.call(n, a) && (e.prototype[a] = n[a]) } function getDescriptor(t, e) { return Object.getOwnPropertyDescriptor(t, e) } function createProxyFunction(t) { function e() { } return e.prototype = t, e } var audioControllerFactory = function () { function t(e) { this.audios = [], this.audioFactory = e, this._volume = 1, this._isMuted = !1 } return t.prototype = { addAudio: function (e) { this.audios.push(e) }, pause: function () { var e, r = this.audios.length; for (e = 0; e < r; e += 1)this.audios[e].pause() }, resume: function () { var e, r = this.audios.length; for (e = 0; e < r; e += 1)this.audios[e].resume() }, setRate: function (e) { var r, n = this.audios.length; for (r = 0; r < n; r += 1)this.audios[r].setRate(e) }, createAudio: function (e) { return this.audioFactory ? this.audioFactory(e) : window.Howl ? new window.Howl({ src: [e] }) : { isPlaying: !1, play: function () { this.isPlaying = !0 }, seek: function () { this.isPlaying = !1 }, playing: function () { }, rate: function () { }, setVolume: function () { } } }, setAudioFactory: function (e) { this.audioFactory = e }, setVolume: function (e) { this._volume = e, this._updateVolume() }, mute: function () { this._isMuted = !0, this._updateVolume() }, unmute: function () { this._isMuted = !1, this._updateVolume() }, getVolume: function () { return this._volume }, _updateVolume: function () { var e, r = this.audios.length; for (e = 0; e < r; e += 1)this.audios[e].volume(this._volume * (this._isMuted ? 0 : 1)) } }, function () { return new t } }(), createTypedArray = function () { function t(e, r) { var n, s = 0, a = []; switch (e) { case "int16": case "uint8c": n = 1; break; default: n = 1.1 }for (s = 0; s < r; s += 1)a.push(n); return a } return typeof Uint8ClampedArray == "function" && typeof Float32Array == "function" ? function (e, r) { return e === "float32" ? new Float32Array(r) : e === "int16" ? new Int16Array(r) : e === "uint8c" ? new Uint8ClampedArray(r) : t(e, r) } : t }(); function createSizedArray(t) { return Array.apply(null, { length: t }) } function _typeof$6(t) { return _typeof$6 = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, _typeof$6(t) } var subframeEnabled = !0, expressionsPlugin = null, expressionsInterfaces = null, idPrefix$1 = "", isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent), _shouldRoundValues = !1, bmPow = Math.pow, bmSqrt = Math.sqrt, bmFloor = Math.floor, bmMax = Math.max, bmMin = Math.min, BMMath = {}; function ProjectInterface$1() { return {} } (function () { var t, e = ["abs", "acos", "acosh", "asin", "asinh", "atan", "atanh", "atan2", "ceil", "cbrt", "expm1", "clz32", "cos", "cosh", "exp", "floor", "fround", "hypot", "imul", "log", "log1p", "log2", "log10", "max", "min", "pow", "random", "round", "sign", "sin", "sinh", "sqrt", "tan", "tanh", "trunc", "E", "LN10", "LN2", "LOG10E", "LOG2E", "PI", "SQRT1_2", "SQRT2"], r = e.length; for (t = 0; t < r; t += 1)BMMath[e[t]] = Math[e[t]] })(), BMMath.random = Math.random, BMMath.abs = function (t) { if (_typeof$6(t) === "object" && t.length) { var e, r = createSizedArray(t.length), n = t.length; for (e = 0; e < n; e += 1)r[e] = Math.abs(t[e]); return r } return Math.abs(t) }; var defaultCurveSegments = 150, degToRads = Math.PI / 180, roundCorner = .5519; function roundValues(t) { _shouldRoundValues = !!t } function bmRnd(t) { return _shouldRoundValues ? Math.round(t) : t } function styleDiv(t) { t.style.position = "absolute", t.style.top = 0, t.style.left = 0, t.style.display = "block", t.style.transformOrigin = "0 0", t.style.webkitTransformOrigin = "0 0", t.style.backfaceVisibility = "visible", t.style.webkitBackfaceVisibility = "visible", t.style.transformStyle = "preserve-3d", t.style.webkitTransformStyle = "preserve-3d", t.style.mozTransformStyle = "preserve-3d" } function BMEnterFrameEvent(t, e, r, n) { this.type = t, this.currentTime = e, this.totalTime = r, this.direction = n < 0 ? -1 : 1 } function BMCompleteEvent(t, e) { this.type = t, this.direction = e < 0 ? -1 : 1 } function BMCompleteLoopEvent(t, e, r, n) { this.type = t, this.currentLoop = r, this.totalLoops = e, this.direction = n < 0 ? -1 : 1 } function BMSegmentStartEvent(t, e, r) { this.type = t, this.firstFrame = e, this.totalFrames = r } function BMDestroyEvent(t, e) { this.type = t, this.target = e } function BMRenderFrameErrorEvent(t, e) { this.type = "renderFrameError", this.nativeError = t, this.currentTime = e } function BMConfigErrorEvent(t) { this.type = "configError", this.nativeError = t } function BMAnimationConfigErrorEvent(t, e) { this.type = t, this.nativeError = e } var createElementID = (_count = 0, function () { return idPrefix$1 + "__lottie_element_" + (_count += 1) }), _count; function HSVtoRGB(t, e, r) { var n, s, a, o, l, p, y, h; switch (p = r * (1 - e), y = r * (1 - (l = 6 * t - (o = Math.floor(6 * t))) * e), h = r * (1 - (1 - l) * e), o % 6) { case 0: n = r, s = h, a = p; break; case 1: n = y, s = r, a = p; break; case 2: n = p, s = r, a = h; break; case 3: n = p, s = y, a = r; break; case 4: n = h, s = p, a = r; break; case 5: n = r, s = p, a = y }return [n, s, a] } function RGBtoHSV(t, e, r) { var n, s = Math.max(t, e, r), a = Math.min(t, e, r), o = s - a, l = s === 0 ? 0 : o / s, p = s / 255; switch (s) { case a: n = 0; break; case t: n = e - r + o * (e < r ? 6 : 0), n /= 6 * o; break; case e: n = r - t + 2 * o, n /= 6 * o; break; case r: n = t - e + 4 * o, n /= 6 * o }return [n, l, p] } function addSaturationToRGB(t, e) { var r = RGBtoHSV(255 * t[0], 255 * t[1], 255 * t[2]); return r[1] += e, r[1] > 1 ? r[1] = 1 : r[1] <= 0 && (r[1] = 0), HSVtoRGB(r[0], r[1], r[2]) } function addBrightnessToRGB(t, e) { var r = RGBtoHSV(255 * t[0], 255 * t[1], 255 * t[2]); return r[2] += e, r[2] > 1 ? r[2] = 1 : r[2] < 0 && (r[2] = 0), HSVtoRGB(r[0], r[1], r[2]) } function addHueToRGB(t, e) { var r = RGBtoHSV(255 * t[0], 255 * t[1], 255 * t[2]); return r[0] += e / 360, r[0] > 1 ? r[0] -= 1 : r[0] < 0 && (r[0] += 1), HSVtoRGB(r[0], r[1], r[2]) } var rgbToHex = function () { var t, e, r = []; for (t = 0; t < 256; t += 1)e = t.toString(16), r[t] = e.length === 1 ? "0" + e : e; return function (n, s, a) { return n < 0 && (n = 0), s < 0 && (s = 0), a < 0 && (a = 0), "#" + r[n] + r[s] + r[a] } }(), setSubframeEnabled = function (t) { subframeEnabled = !!t }, getSubframeEnabled = function () { return subframeEnabled }, setExpressionsPlugin = function (t) { expressionsPlugin = t }, getExpressionsPlugin = function () { return expressionsPlugin }, setExpressionInterfaces = function (t) { expressionsInterfaces = t }, getExpressionInterfaces = function () { return expressionsInterfaces }, setDefaultCurveSegments = function (t) { defaultCurveSegments = t }, getDefaultCurveSegments = function () { return defaultCurveSegments }, setIdPrefix = function (t) { idPrefix$1 = t }, getIdPrefix = function () { return idPrefix$1 }; function createNS(t) { return document.createElementNS(svgNS, t) } function _typeof$5(t) { return _typeof$5 = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, _typeof$5(t) } var dataManager = function () { var t, e, r = 1, n = [], s = { onmessage: function () { }, postMessage: function (p) { t({ data: p }) } }, a = { postMessage: function (p) { s.onmessage({ data: p }) } }; function o() { e || (e = function (p) { if (window.Worker && window.Blob && getWebWorker()) { var y = new Blob(["var _workerSelf = self; self.onmessage = ", p.toString()], { type: "text/javascript" }), h = URL.createObjectURL(y); return new Worker(h) } return t = p, s }(function (p) { if (a.dataManager || (a.dataManager = function () { function h(w, C) { var A, k, P, I, F, D, V = w.length; for (k = 0; k < V; k += 1)if ("ks" in (A = w[k]) && !A.completed) { if (A.completed = !0, A.hasMask) { var B = A.masksProperties; for (I = B.length, P = 0; P < I; P += 1)if (B[P].pt.k.i) g(B[P].pt.k); else for (D = B[P].pt.k.length, F = 0; F < D; F += 1)B[P].pt.k[F].s && g(B[P].pt.k[F].s[0]), B[P].pt.k[F].e && g(B[P].pt.k[F].e[0]) } A.ty === 0 ? (A.layers = d(A.refId, C), h(A.layers, C)) : A.ty === 4 ? f(A.shapes) : A.ty === 5 && x(A) } } function d(w, C) { var A = function (k, P) { for (var I = 0, F = P.length; I < F;) { if (P[I].id === k) return P[I]; I += 1 } return null }(w, C); return A ? A.layers.__used ? JSON.parse(JSON.stringify(A.layers)) : (A.layers.__used = !0, A.layers) : null } function f(w) { var C, A, k; for (C = w.length - 1; C >= 0; C -= 1)if (w[C].ty === "sh") if (w[C].ks.k.i) g(w[C].ks.k); else for (k = w[C].ks.k.length, A = 0; A < k; A += 1)w[C].ks.k[A].s && g(w[C].ks.k[A].s[0]), w[C].ks.k[A].e && g(w[C].ks.k[A].e[0]); else w[C].ty === "gr" && f(w[C].it) } function g(w) { var C, A = w.i.length; for (C = 0; C < A; C += 1)w.i[C][0] += w.v[C][0], w.i[C][1] += w.v[C][1], w.o[C][0] += w.v[C][0], w.o[C][1] += w.v[C][1] } function m(w, C) { var A = C ? C.split(".") : [100, 100, 100]; return w[0] > A[0] || !(A[0] > w[0]) && (w[1] > A[1] || !(A[1] > w[1]) && (w[2] > A[2] || !(A[2] > w[2]) && null)) } var c, u = function () { var w = [4, 4, 14]; function C(A) { var k, P, I, F = A.length; for (k = 0; k < F; k += 1)A[k].ty === 5 && (I = void 0, I = (P = A[k]).t.d, P.t.d = { k: [{ s: I, t: 0 }] }) } return function (A) { if (m(w, A.v) && (C(A.layers), A.assets)) { var k, P = A.assets.length; for (k = 0; k < P; k += 1)A.assets[k].layers && C(A.assets[k].layers) } } }(), v = (c = [4, 7, 99], function (w) { if (w.chars && !m(c, w.v)) { var C, A = w.chars.length; for (C = 0; C < A; C += 1) { var k = w.chars[C]; k.data && k.data.shapes && (f(k.data.shapes), k.data.ip = 0, k.data.op = 99999, k.data.st = 0, k.data.sr = 1, k.data.ks = { p: { k: [0, 0], a: 0 }, s: { k: [100, 100], a: 0 }, a: { k: [0, 0], a: 0 }, r: { k: 0, a: 0 }, o: { k: 100, a: 0 } }, w.chars[C].t || (k.data.shapes.push({ ty: "no" }), k.data.shapes[0].it.push({ p: { k: [0, 0], a: 0 }, s: { k: [100, 100], a: 0 }, a: { k: [0, 0], a: 0 }, r: { k: 0, a: 0 }, o: { k: 100, a: 0 }, sk: { k: 0, a: 0 }, sa: { k: 0, a: 0 }, ty: "tr" }))) } } }), b = function () { var w = [5, 7, 15]; function C(A) { var k, P, I = A.length; for (k = 0; k < I; k += 1)A[k].ty === 5 && (P = void 0, typeof (P = A[k].t.p).a == "number" && (P.a = { a: 0, k: P.a }), typeof P.p == "number" && (P.p = { a: 0, k: P.p }), typeof P.r == "number" && (P.r = { a: 0, k: P.r })) } return function (A) { if (m(w, A.v) && (C(A.layers), A.assets)) { var k, P = A.assets.length; for (k = 0; k < P; k += 1)A.assets[k].layers && C(A.assets[k].layers) } } }(), E = function () { var w = [4, 1, 9]; function C(k) { var P, I, F, D = k.length; for (P = 0; P < D; P += 1)if (k[P].ty === "gr") C(k[P].it); else if (k[P].ty === "fl" || k[P].ty === "st") if (k[P].c.k && k[P].c.k[0].i) for (F = k[P].c.k.length, I = 0; I < F; I += 1)k[P].c.k[I].s && (k[P].c.k[I].s[0] /= 255, k[P].c.k[I].s[1] /= 255, k[P].c.k[I].s[2] /= 255, k[P].c.k[I].s[3] /= 255), k[P].c.k[I].e && (k[P].c.k[I].e[0] /= 255, k[P].c.k[I].e[1] /= 255, k[P].c.k[I].e[2] /= 255, k[P].c.k[I].e[3] /= 255); else k[P].c.k[0] /= 255, k[P].c.k[1] /= 255, k[P].c.k[2] /= 255, k[P].c.k[3] /= 255 } function A(k) { var P, I = k.length; for (P = 0; P < I; P += 1)k[P].ty === 4 && C(k[P].shapes) } return function (k) { if (m(w, k.v) && (A(k.layers), k.assets)) { var P, I = k.assets.length; for (P = 0; P < I; P += 1)k.assets[P].layers && A(k.assets[P].layers) } } }(), _ = function () { var w = [4, 4, 18]; function C(k) { var P, I, F; for (P = k.length - 1; P >= 0; P -= 1)if (k[P].ty === "sh") if (k[P].ks.k.i) k[P].ks.k.c = k[P].closed; else for (F = k[P].ks.k.length, I = 0; I < F; I += 1)k[P].ks.k[I].s && (k[P].ks.k[I].s[0].c = k[P].closed), k[P].ks.k[I].e && (k[P].ks.k[I].e[0].c = k[P].closed); else k[P].ty === "gr" && C(k[P].it) } function A(k) { var P, I, F, D, V, B, H = k.length; for (I = 0; I < H; I += 1) { if ((P = k[I]).hasMask) { var S = P.masksProperties; for (D = S.length, F = 0; F < D; F += 1)if (S[F].pt.k.i) S[F].pt.k.c = S[F].cl; else for (B = S[F].pt.k.length, V = 0; V < B; V += 1)S[F].pt.k[V].s && (S[F].pt.k[V].s[0].c = S[F].cl), S[F].pt.k[V].e && (S[F].pt.k[V].e[0].c = S[F].cl) } P.ty === 4 && C(P.shapes) } } return function (k) { if (m(w, k.v) && (A(k.layers), k.assets)) { var P, I = k.assets.length; for (P = 0; P < I; P += 1)k.assets[P].layers && A(k.assets[P].layers) } } }(); function x(w) { w.t.a.length === 0 && w.t.p } var T = { completeData: function (w) { w.__complete || (E(w), u(w), v(w), b(w), _(w), h(w.layers, w.assets), function (C, A) { if (C) { var k = 0, P = C.length; for (k = 0; k < P; k += 1)C[k].t === 1 && (C[k].data.layers = d(C[k].data.refId, A), h(C[k].data.layers, A)) } }(w.chars, w.assets), w.__complete = !0) } }; return T.checkColors = E, T.checkChars = v, T.checkPathProperties = b, T.checkShapes = _, T.completeLayers = h, T }()), a.assetLoader || (a.assetLoader = function () { function h(d) { var f = d.getResponseHeader("content-type"); return f && d.responseType === "json" && f.indexOf("json") !== -1 || d.response && _typeof$5(d.response) === "object" ? d.response : d.response && typeof d.response == "string" ? JSON.parse(d.response) : d.responseText ? JSON.parse(d.responseText) : null } return { load: function (d, f, g, m) { var c, u = new XMLHttpRequest; try { u.responseType = "json" } catch { } u.onreadystatechange = function () { if (u.readyState === 4) if (u.status === 200) c = h(u), g(c); else try { c = h(u), g(c) } catch (v) { m && m(v) } }; try { u.open(["G", "E", "T"].join(""), d, !0) } catch { u.open(["G", "E", "T"].join(""), f + "/" + d, !0) } u.send() } } }()), p.data.type === "loadAnimation") a.assetLoader.load(p.data.path, p.data.fullPath, function (h) { a.dataManager.completeData(h), a.postMessage({ id: p.data.id, payload: h, status: "success" }) }, function () { a.postMessage({ id: p.data.id, status: "error" }) }); else if (p.data.type === "complete") { var y = p.data.animation; a.dataManager.completeData(y), a.postMessage({ id: p.data.id, payload: y, status: "success" }) } else p.data.type === "loadData" && a.assetLoader.load(p.data.path, p.data.fullPath, function (h) { a.postMessage({ id: p.data.id, payload: h, status: "success" }) }, function () { a.postMessage({ id: p.data.id, status: "error" }) }) }), e.onmessage = function (p) { var y = p.data, h = y.id, d = n[h]; n[h] = null, y.status === "success" ? d.onComplete(y.payload) : d.onError && d.onError() }) } function l(p, y) { var h = "processId_" + (r += 1); return n[h] = { onComplete: p, onError: y }, h } return { loadAnimation: function (p, y, h) { o(); var d = l(y, h); e.postMessage({ type: "loadAnimation", path: p, fullPath: window.location.origin + window.location.pathname, id: d }) }, loadData: function (p, y, h) { o(); var d = l(y, h); e.postMessage({ type: "loadData", path: p, fullPath: window.location.origin + window.location.pathname, id: d }) }, completeAnimation: function (p, y, h) { o(); var d = l(y, h); e.postMessage({ type: "complete", animation: p, id: d }) } } }(), ImagePreloader = function () { var t = function () { var l = createTag("canvas"); l.width = 1, l.height = 1; var p = l.getContext("2d"); return p.fillStyle = "rgba(0,0,0,0)", p.fillRect(0, 0, 1, 1), l }(); function e() { this.loadedAssets += 1, this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages && this.imagesLoadedCb && this.imagesLoadedCb(null) } function r() { this.loadedFootagesCount += 1, this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages && this.imagesLoadedCb && this.imagesLoadedCb(null) } function n(l, p, y) { var h = ""; if (l.e) h = l.p; else if (p) { var d = l.p; d.indexOf("images/") !== -1 && (d = d.split("/")[1]), h = p + d } else h = y, h += l.u ? l.u : "", h += l.p; return h } function s(l) { var p = 0, y = setInterval(function () { (l.getBBox().width || p > 500) && (this._imageLoaded(), clearInterval(y)), p += 1 }.bind(this), 50) } function a(l) { var p = { assetData: l }, y = n(l, this.assetsPath, this.path); return dataManager.loadData(y, function (h) { p.img = h, this._footageLoaded() }.bind(this), function () { p.img = {}, this._footageLoaded() }.bind(this)), p } function o() { this._imageLoaded = e.bind(this), this._footageLoaded = r.bind(this), this.testImageLoaded = s.bind(this), this.createFootageData = a.bind(this), this.assetsPath = "", this.path = "", this.totalImages = 0, this.totalFootages = 0, this.loadedAssets = 0, this.loadedFootagesCount = 0, this.imagesLoadedCb = null, this.images = [] } return o.prototype = { loadAssets: function (l, p) { var y; this.imagesLoadedCb = p; var h = l.length; for (y = 0; y < h; y += 1)l[y].layers || (l[y].t && l[y].t !== "seq" ? l[y].t === 3 && (this.totalFootages += 1, this.images.push(this.createFootageData(l[y]))) : (this.totalImages += 1, this.images.push(this._createImageData(l[y])))) }, setAssetsPath: function (l) { this.assetsPath = l || "" }, setPath: function (l) { this.path = l || "" }, loadedImages: function () { return this.totalImages === this.loadedAssets }, loadedFootages: function () { return this.totalFootages === this.loadedFootagesCount }, destroy: function () { this.imagesLoadedCb = null, this.images.length = 0 }, getAsset: function (l) { for (var p = 0, y = this.images.length; p < y;) { if (this.images[p].assetData === l) return this.images[p].img; p += 1 } return null }, createImgData: function (l) { var p = n(l, this.assetsPath, this.path), y = createTag("img"); y.crossOrigin = "anonymous", y.addEventListener("load", this._imageLoaded, !1), y.addEventListener("error", function () { h.img = t, this._imageLoaded() }.bind(this), !1), y.src = p; var h = { img: y, assetData: l }; return h }, createImageData: function (l) { var p = n(l, this.assetsPath, this.path), y = createNS("image"); isSafari ? this.testImageLoaded(y) : y.addEventListener("load", this._imageLoaded, !1), y.addEventListener("error", function () { h.img = t, this._imageLoaded() }.bind(this), !1), y.setAttributeNS("http://www.w3.org/1999/xlink", "href", p), this._elementHelper.append ? this._elementHelper.append(y) : this._elementHelper.appendChild(y); var h = { img: y, assetData: l }; return h }, imageLoaded: e, footageLoaded: r, setCacheType: function (l, p) { l === "svg" ? (this._elementHelper = p, this._createImageData = this.createImageData.bind(this)) : this._createImageData = this.createImgData.bind(this) } }, o }(); function BaseEvent() { } BaseEvent.prototype = { triggerEvent: function (t, e) { if (this._cbs[t]) for (var r = this._cbs[t], n = 0; n < r.length; n += 1)r[n](e) }, addEventListener: function (t, e) { return this._cbs[t] || (this._cbs[t] = []), this._cbs[t].push(e), function () { this.removeEventListener(t, e) }.bind(this) }, removeEventListener: function (t, e) { if (e) { if (this._cbs[t]) { for (var r = 0, n = this._cbs[t].length; r < n;)this._cbs[t][r] === e && (this._cbs[t].splice(r, 1), r -= 1, n -= 1), r += 1; this._cbs[t].length || (this._cbs[t] = null) } } else this._cbs[t] = null } }; var markerParser = function () {
                function t(e) {
                    for (var r, n = e.split(`\r
`), s = {}, a = 0, o = 0; o < n.length; o += 1)(r = n[o].split(":")).length === 2 && (s[r[0]] = r[1].trim(), a += 1); if (a === 0) throw new Error; return s
                } return function (e) { for (var r = [], n = 0; n < e.length; n += 1) { var s = e[n], a = { time: s.tm, duration: s.dr }; try { a.payload = JSON.parse(e[n].cm) } catch { try { a.payload = t(e[n].cm) } catch { a.payload = { name: e[n].cm } } } r.push(a) } return r }
            }(), ProjectInterface = function () { function t(e) { this.compositions.push(e) } return function () { function e(r) { for (var n = 0, s = this.compositions.length; n < s;) { if (this.compositions[n].data && this.compositions[n].data.nm === r) return this.compositions[n].prepareFrame && this.compositions[n].data.xt && this.compositions[n].prepareFrame(this.currentFrame), this.compositions[n].compInterface; n += 1 } return null } return e.compositions = [], e.currentFrame = 0, e.registerComposition = t, e } }(), renderers = {}, registerRenderer = function (t, e) { renderers[t] = e }; function getRenderer(t) { return renderers[t] } function getRegisteredRenderer() { if (renderers.canvas) return "canvas"; for (var t in renderers) if (renderers[t]) return t; return "" } function _typeof$4(t) { return _typeof$4 = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, _typeof$4(t) } var AnimationItem = function () { this._cbs = [], this.name = "", this.path = "", this.isLoaded = !1, this.currentFrame = 0, this.currentRawFrame = 0, this.firstFrame = 0, this.totalFrames = 0, this.frameRate = 0, this.frameMult = 0, this.playSpeed = 1, this.playDirection = 1, this.playCount = 0, this.animationData = {}, this.assets = [], this.isPaused = !0, this.autoplay = !1, this.loop = !0, this.renderer = null, this.animationID = createElementID(), this.assetsPath = "", this.timeCompleted = 0, this.segmentPos = 0, this.isSubframeEnabled = getSubframeEnabled(), this.segments = [], this._idle = !0, this._completedLoop = !1, this.projectInterface = ProjectInterface(), this.imagePreloader = new ImagePreloader, this.audioController = audioControllerFactory(), this.markers = [], this.configAnimation = this.configAnimation.bind(this), this.onSetupError = this.onSetupError.bind(this), this.onSegmentComplete = this.onSegmentComplete.bind(this), this.drawnFrameEvent = new BMEnterFrameEvent("drawnFrame", 0, 0, 0), this.expressionsPlugin = getExpressionsPlugin() }; extendPrototype([BaseEvent], AnimationItem), AnimationItem.prototype.setParams = function (t) { (t.wrapper || t.container) && (this.wrapper = t.wrapper || t.container); var e = "svg"; t.animType ? e = t.animType : t.renderer && (e = t.renderer); var r = getRenderer(e); this.renderer = new r(this, t.rendererSettings), this.imagePreloader.setCacheType(e, this.renderer.globalData.defs), this.renderer.setProjectInterface(this.projectInterface), this.animType = e, t.loop === "" || t.loop === null || t.loop === void 0 || t.loop === !0 ? this.loop = !0 : t.loop === !1 ? this.loop = !1 : this.loop = parseInt(t.loop, 10), this.autoplay = !("autoplay" in t) || t.autoplay, this.name = t.name ? t.name : "", this.autoloadSegments = !Object.prototype.hasOwnProperty.call(t, "autoloadSegments") || t.autoloadSegments, this.assetsPath = t.assetsPath, this.initialSegment = t.initialSegment, t.audioFactory && this.audioController.setAudioFactory(t.audioFactory), t.animationData ? this.setupAnimation(t.animationData) : t.path && (t.path.lastIndexOf("\\") !== -1 ? this.path = t.path.substr(0, t.path.lastIndexOf("\\") + 1) : this.path = t.path.substr(0, t.path.lastIndexOf("/") + 1), this.fileName = t.path.substr(t.path.lastIndexOf("/") + 1), this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf(".json")), dataManager.loadAnimation(t.path, this.configAnimation, this.onSetupError)) }, AnimationItem.prototype.onSetupError = function () { this.trigger("data_failed") }, AnimationItem.prototype.setupAnimation = function (t) { dataManager.completeAnimation(t, this.configAnimation) }, AnimationItem.prototype.setData = function (t, e) { e && _typeof$4(e) !== "object" && (e = JSON.parse(e)); var r = { wrapper: t, animationData: e }, n = t.attributes; r.path = n.getNamedItem("data-animation-path") ? n.getNamedItem("data-animation-path").value : n.getNamedItem("data-bm-path") ? n.getNamedItem("data-bm-path").value : n.getNamedItem("bm-path") ? n.getNamedItem("bm-path").value : "", r.animType = n.getNamedItem("data-anim-type") ? n.getNamedItem("data-anim-type").value : n.getNamedItem("data-bm-type") ? n.getNamedItem("data-bm-type").value : n.getNamedItem("bm-type") ? n.getNamedItem("bm-type").value : n.getNamedItem("data-bm-renderer") ? n.getNamedItem("data-bm-renderer").value : n.getNamedItem("bm-renderer") ? n.getNamedItem("bm-renderer").value : getRegisteredRenderer() || "canvas"; var s = n.getNamedItem("data-anim-loop") ? n.getNamedItem("data-anim-loop").value : n.getNamedItem("data-bm-loop") ? n.getNamedItem("data-bm-loop").value : n.getNamedItem("bm-loop") ? n.getNamedItem("bm-loop").value : ""; s === "false" ? r.loop = !1 : s === "true" ? r.loop = !0 : s !== "" && (r.loop = parseInt(s, 10)); var a = n.getNamedItem("data-anim-autoplay") ? n.getNamedItem("data-anim-autoplay").value : n.getNamedItem("data-bm-autoplay") ? n.getNamedItem("data-bm-autoplay").value : !n.getNamedItem("bm-autoplay") || n.getNamedItem("bm-autoplay").value; r.autoplay = a !== "false", r.name = n.getNamedItem("data-name") ? n.getNamedItem("data-name").value : n.getNamedItem("data-bm-name") ? n.getNamedItem("data-bm-name").value : n.getNamedItem("bm-name") ? n.getNamedItem("bm-name").value : "", (n.getNamedItem("data-anim-prerender") ? n.getNamedItem("data-anim-prerender").value : n.getNamedItem("data-bm-prerender") ? n.getNamedItem("data-bm-prerender").value : n.getNamedItem("bm-prerender") ? n.getNamedItem("bm-prerender").value : "") === "false" && (r.prerender = !1), r.path ? this.setParams(r) : this.trigger("destroy") }, AnimationItem.prototype.includeLayers = function (t) { t.op > this.animationData.op && (this.animationData.op = t.op, this.totalFrames = Math.floor(t.op - this.animationData.ip)); var e, r, n = this.animationData.layers, s = n.length, a = t.layers, o = a.length; for (r = 0; r < o; r += 1)for (e = 0; e < s;) { if (n[e].id === a[r].id) { n[e] = a[r]; break } e += 1 } if ((t.chars || t.fonts) && (this.renderer.globalData.fontManager.addChars(t.chars), this.renderer.globalData.fontManager.addFonts(t.fonts, this.renderer.globalData.defs)), t.assets) for (s = t.assets.length, e = 0; e < s; e += 1)this.animationData.assets.push(t.assets[e]); this.animationData.__complete = !1, dataManager.completeAnimation(this.animationData, this.onSegmentComplete) }, AnimationItem.prototype.onSegmentComplete = function (t) { this.animationData = t; var e = getExpressionsPlugin(); e && e.initExpressions(this), this.loadNextSegment() }, AnimationItem.prototype.loadNextSegment = function () { var t = this.animationData.segments; if (!t || t.length === 0 || !this.autoloadSegments) return this.trigger("data_ready"), void (this.timeCompleted = this.totalFrames); var e = t.shift(); this.timeCompleted = e.time * this.frameRate; var r = this.path + this.fileName + "_" + this.segmentPos + ".json"; this.segmentPos += 1, dataManager.loadData(r, this.includeLayers.bind(this), function () { this.trigger("data_failed") }.bind(this)) }, AnimationItem.prototype.loadSegments = function () { this.animationData.segments || (this.timeCompleted = this.totalFrames), this.loadNextSegment() }, AnimationItem.prototype.imagesLoaded = function () { this.trigger("loaded_images"), this.checkLoaded() }, AnimationItem.prototype.preloadImages = function () { this.imagePreloader.setAssetsPath(this.assetsPath), this.imagePreloader.setPath(this.path), this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this)) }, AnimationItem.prototype.configAnimation = function (t) { if (this.renderer) try { this.animationData = t, this.initialSegment ? (this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]), this.firstFrame = Math.round(this.initialSegment[0])) : (this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip), this.firstFrame = Math.round(this.animationData.ip)), this.renderer.configAnimation(t), t.assets || (t.assets = []), this.assets = this.animationData.assets, this.frameRate = this.animationData.fr, this.frameMult = this.animationData.fr / 1e3, this.renderer.searchExtraCompositions(t.assets), this.markers = markerParser(t.markers || []), this.trigger("config_ready"), this.preloadImages(), this.loadSegments(), this.updaFrameModifier(), this.waitForFontsLoaded(), this.isPaused && this.audioController.pause() } catch (e) { this.triggerConfigError(e) } }, AnimationItem.prototype.waitForFontsLoaded = function () { this.renderer && (this.renderer.globalData.fontManager.isLoaded ? this.checkLoaded() : setTimeout(this.waitForFontsLoaded.bind(this), 20)) }, AnimationItem.prototype.checkLoaded = function () { if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== "canvas") && this.imagePreloader.loadedFootages()) { this.isLoaded = !0; var t = getExpressionsPlugin(); t && t.initExpressions(this), this.renderer.initItems(), setTimeout(function () { this.trigger("DOMLoaded") }.bind(this), 0), this.gotoFrame(), this.autoplay && this.play() } }, AnimationItem.prototype.resize = function (t, e) { var r = typeof t == "number" ? t : void 0, n = typeof e == "number" ? e : void 0; this.renderer.updateContainerSize(r, n) }, AnimationItem.prototype.setSubframe = function (t) { this.isSubframeEnabled = !!t }, AnimationItem.prototype.gotoFrame = function () { this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame, this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted && (this.currentFrame = this.timeCompleted), this.trigger("enterFrame"), this.renderFrame(), this.trigger("drawnFrame") }, AnimationItem.prototype.renderFrame = function () { if (this.isLoaded !== !1 && this.renderer) try { this.expressionsPlugin && this.expressionsPlugin.resetFrame(), this.renderer.renderFrame(this.currentFrame + this.firstFrame) } catch (t) { this.triggerRenderFrameError(t) } }, AnimationItem.prototype.play = function (t) { t && this.name !== t || this.isPaused === !0 && (this.isPaused = !1, this.trigger("_play"), this.audioController.resume(), this._idle && (this._idle = !1, this.trigger("_active"))) }, AnimationItem.prototype.pause = function (t) { t && this.name !== t || this.isPaused === !1 && (this.isPaused = !0, this.trigger("_pause"), this._idle = !0, this.trigger("_idle"), this.audioController.pause()) }, AnimationItem.prototype.togglePause = function (t) { t && this.name !== t || (this.isPaused === !0 ? this.play() : this.pause()) }, AnimationItem.prototype.stop = function (t) { t && this.name !== t || (this.pause(), this.playCount = 0, this._completedLoop = !1, this.setCurrentRawFrameValue(0)) }, AnimationItem.prototype.getMarkerData = function (t) { for (var e, r = 0; r < this.markers.length; r += 1)if ((e = this.markers[r]).payload && e.payload.name === t) return e; return null }, AnimationItem.prototype.goToAndStop = function (t, e, r) { if (!r || this.name === r) { var n = Number(t); if (isNaN(n)) { var s = this.getMarkerData(t); s && this.goToAndStop(s.time, !0) } else e ? this.setCurrentRawFrameValue(t) : this.setCurrentRawFrameValue(t * this.frameModifier); this.pause() } }, AnimationItem.prototype.goToAndPlay = function (t, e, r) { if (!r || this.name === r) { var n = Number(t); if (isNaN(n)) { var s = this.getMarkerData(t); s && (s.duration ? this.playSegments([s.time, s.time + s.duration], !0) : this.goToAndStop(s.time, !0)) } else this.goToAndStop(n, e, r); this.play() } }, AnimationItem.prototype.advanceTime = function (t) { if (this.isPaused !== !0 && this.isLoaded !== !1) { var e = this.currentRawFrame + t * this.frameModifier, r = !1; e >= this.totalFrames - 1 && this.frameModifier > 0 ? this.loop && this.playCount !== this.loop ? e >= this.totalFrames ? (this.playCount += 1, this.checkSegments(e % this.totalFrames) || (this.setCurrentRawFrameValue(e % this.totalFrames), this._completedLoop = !0, this.trigger("loopComplete"))) : this.setCurrentRawFrameValue(e) : this.checkSegments(e > this.totalFrames ? e % this.totalFrames : 0) || (r = !0, e = this.totalFrames - 1) : e < 0 ? this.checkSegments(e % this.totalFrames) || (!this.loop || this.playCount-- <= 0 && this.loop !== !0 ? (r = !0, e = 0) : (this.setCurrentRawFrameValue(this.totalFrames + e % this.totalFrames), this._completedLoop ? this.trigger("loopComplete") : this._completedLoop = !0)) : this.setCurrentRawFrameValue(e), r && (this.setCurrentRawFrameValue(e), this.pause(), this.trigger("complete")) } }, AnimationItem.prototype.adjustSegment = function (t, e) { this.playCount = 0, t[1] < t[0] ? (this.frameModifier > 0 && (this.playSpeed < 0 ? this.setSpeed(-this.playSpeed) : this.setDirection(-1)), this.totalFrames = t[0] - t[1], this.timeCompleted = this.totalFrames, this.firstFrame = t[1], this.setCurrentRawFrameValue(this.totalFrames - .001 - e)) : t[1] > t[0] && (this.frameModifier < 0 && (this.playSpeed < 0 ? this.setSpeed(-this.playSpeed) : this.setDirection(1)), this.totalFrames = t[1] - t[0], this.timeCompleted = this.totalFrames, this.firstFrame = t[0], this.setCurrentRawFrameValue(.001 + e)), this.trigger("segmentStart") }, AnimationItem.prototype.setSegment = function (t, e) { var r = -1; this.isPaused && (this.currentRawFrame + this.firstFrame < t ? r = t : this.currentRawFrame + this.firstFrame > e && (r = e - t)), this.firstFrame = t, this.totalFrames = e - t, this.timeCompleted = this.totalFrames, r !== -1 && this.goToAndStop(r, !0) }, AnimationItem.prototype.playSegments = function (t, e) { if (e && (this.segments.length = 0), _typeof$4(t[0]) === "object") { var r, n = t.length; for (r = 0; r < n; r += 1)this.segments.push(t[r]) } else this.segments.push(t); this.segments.length && e && this.adjustSegment(this.segments.shift(), 0), this.isPaused && this.play() }, AnimationItem.prototype.resetSegments = function (t) { this.segments.length = 0, this.segments.push([this.animationData.ip, this.animationData.op]), t && this.checkSegments(0) }, AnimationItem.prototype.checkSegments = function (t) { return !!this.segments.length && (this.adjustSegment(this.segments.shift(), t), !0) }, AnimationItem.prototype.destroy = function (t) { t && this.name !== t || !this.renderer || (this.renderer.destroy(), this.imagePreloader.destroy(), this.trigger("destroy"), this._cbs = null, this.onEnterFrame = null, this.onLoopComplete = null, this.onComplete = null, this.onSegmentStart = null, this.onDestroy = null, this.renderer = null, this.expressionsPlugin = null, this.imagePreloader = null, this.projectInterface = null) }, AnimationItem.prototype.setCurrentRawFrameValue = function (t) { this.currentRawFrame = t, this.gotoFrame() }, AnimationItem.prototype.setSpeed = function (t) { this.playSpeed = t, this.updaFrameModifier() }, AnimationItem.prototype.setDirection = function (t) { this.playDirection = t < 0 ? -1 : 1, this.updaFrameModifier() }, AnimationItem.prototype.setLoop = function (t) { this.loop = t }, AnimationItem.prototype.setVolume = function (t, e) { e && this.name !== e || this.audioController.setVolume(t) }, AnimationItem.prototype.getVolume = function () { return this.audioController.getVolume() }, AnimationItem.prototype.mute = function (t) { t && this.name !== t || this.audioController.mute() }, AnimationItem.prototype.unmute = function (t) { t && this.name !== t || this.audioController.unmute() }, AnimationItem.prototype.updaFrameModifier = function () { this.frameModifier = this.frameMult * this.playSpeed * this.playDirection, this.audioController.setRate(this.playSpeed * this.playDirection) }, AnimationItem.prototype.getPath = function () { return this.path }, AnimationItem.prototype.getAssetsPath = function (t) { var e = ""; if (t.e) e = t.p; else if (this.assetsPath) { var r = t.p; r.indexOf("images/") !== -1 && (r = r.split("/")[1]), e = this.assetsPath + r } else e = this.path, e += t.u ? t.u : "", e += t.p; return e }, AnimationItem.prototype.getAssetData = function (t) { for (var e = 0, r = this.assets.length; e < r;) { if (t === this.assets[e].id) return this.assets[e]; e += 1 } return null }, AnimationItem.prototype.hide = function () { this.renderer.hide() }, AnimationItem.prototype.show = function () { this.renderer.show() }, AnimationItem.prototype.getDuration = function (t) { return t ? this.totalFrames : this.totalFrames / this.frameRate }, AnimationItem.prototype.updateDocumentData = function (t, e, r) { try { this.renderer.getElementByPath(t).updateDocumentData(e, r) } catch { } }, AnimationItem.prototype.trigger = function (t) { if (this._cbs && this._cbs[t]) switch (t) { case "enterFrame": this.triggerEvent(t, new BMEnterFrameEvent(t, this.currentFrame, this.totalFrames, this.frameModifier)); break; case "drawnFrame": this.drawnFrameEvent.currentTime = this.currentFrame, this.drawnFrameEvent.totalTime = this.totalFrames, this.drawnFrameEvent.direction = this.frameModifier, this.triggerEvent(t, this.drawnFrameEvent); break; case "loopComplete": this.triggerEvent(t, new BMCompleteLoopEvent(t, this.loop, this.playCount, this.frameMult)); break; case "complete": this.triggerEvent(t, new BMCompleteEvent(t, this.frameMult)); break; case "segmentStart": this.triggerEvent(t, new BMSegmentStartEvent(t, this.firstFrame, this.totalFrames)); break; case "destroy": this.triggerEvent(t, new BMDestroyEvent(t, this)); break; default: this.triggerEvent(t) }t === "enterFrame" && this.onEnterFrame && this.onEnterFrame.call(this, new BMEnterFrameEvent(t, this.currentFrame, this.totalFrames, this.frameMult)), t === "loopComplete" && this.onLoopComplete && this.onLoopComplete.call(this, new BMCompleteLoopEvent(t, this.loop, this.playCount, this.frameMult)), t === "complete" && this.onComplete && this.onComplete.call(this, new BMCompleteEvent(t, this.frameMult)), t === "segmentStart" && this.onSegmentStart && this.onSegmentStart.call(this, new BMSegmentStartEvent(t, this.firstFrame, this.totalFrames)), t === "destroy" && this.onDestroy && this.onDestroy.call(this, new BMDestroyEvent(t, this)) }, AnimationItem.prototype.triggerRenderFrameError = function (t) { var e = new BMRenderFrameErrorEvent(t, this.currentFrame); this.triggerEvent("error", e), this.onError && this.onError.call(this, e) }, AnimationItem.prototype.triggerConfigError = function (t) { var e = new BMConfigErrorEvent(t, this.currentFrame); this.triggerEvent("error", e), this.onError && this.onError.call(this, e) }; var animationManager = function () { var t = {}, e = [], r = 0, n = 0, s = 0, a = !0, o = !1; function l(c) { for (var u = 0, v = c.target; u < n;)e[u].animation === v && (e.splice(u, 1), u -= 1, n -= 1, v.isPaused || h()), u += 1 } function p(c, u) { if (!c) return null; for (var v = 0; v < n;) { if (e[v].elem === c && e[v].elem !== null) return e[v].animation; v += 1 } var b = new AnimationItem; return d(b, c), b.setData(c, u), b } function y() { s += 1, m() } function h() { s -= 1 } function d(c, u) { c.addEventListener("destroy", l), c.addEventListener("_active", y), c.addEventListener("_idle", h), e.push({ elem: u, animation: c }), n += 1 } function f(c) { var u, v = c - r; for (u = 0; u < n; u += 1)e[u].animation.advanceTime(v); r = c, s && !o ? window.requestAnimationFrame(f) : a = !0 } function g(c) { r = c, window.requestAnimationFrame(f) } function m() { !o && s && a && (window.requestAnimationFrame(g), a = !1) } return t.registerAnimation = p, t.loadAnimation = function (c) { var u = new AnimationItem; return d(u, null), u.setParams(c), u }, t.setSpeed = function (c, u) { var v; for (v = 0; v < n; v += 1)e[v].animation.setSpeed(c, u) }, t.setDirection = function (c, u) { var v; for (v = 0; v < n; v += 1)e[v].animation.setDirection(c, u) }, t.play = function (c) { var u; for (u = 0; u < n; u += 1)e[u].animation.play(c) }, t.pause = function (c) { var u; for (u = 0; u < n; u += 1)e[u].animation.pause(c) }, t.stop = function (c) { var u; for (u = 0; u < n; u += 1)e[u].animation.stop(c) }, t.togglePause = function (c) { var u; for (u = 0; u < n; u += 1)e[u].animation.togglePause(c) }, t.searchAnimations = function (c, u, v) { var b, E = [].concat([].slice.call(document.getElementsByClassName("lottie")), [].slice.call(document.getElementsByClassName("bodymovin"))), _ = E.length; for (b = 0; b < _; b += 1)v && E[b].setAttribute("data-bm-type", v), p(E[b], c); if (u && _ === 0) { v || (v = "svg"); var x = document.getElementsByTagName("body")[0]; x.innerText = ""; var T = createTag("div"); T.style.width = "100%", T.style.height = "100%", T.setAttribute("data-bm-type", v), x.appendChild(T), p(T, c) } }, t.resize = function () { var c; for (c = 0; c < n; c += 1)e[c].animation.resize() }, t.goToAndStop = function (c, u, v) { var b; for (b = 0; b < n; b += 1)e[b].animation.goToAndStop(c, u, v) }, t.destroy = function (c) { var u; for (u = n - 1; u >= 0; u -= 1)e[u].animation.destroy(c) }, t.freeze = function () { o = !0 }, t.unfreeze = function () { o = !1, m() }, t.setVolume = function (c, u) { var v; for (v = 0; v < n; v += 1)e[v].animation.setVolume(c, u) }, t.mute = function (c) { var u; for (u = 0; u < n; u += 1)e[u].animation.mute(c) }, t.unmute = function (c) { var u; for (u = 0; u < n; u += 1)e[u].animation.unmute(c) }, t.getRegisteredAnimations = function () { var c, u = e.length, v = []; for (c = 0; c < u; c += 1)v.push(e[c].animation); return v }, t }(), BezierFactory = function () { var t = { getBezierEasing: function (h, d, f, g, m) { var c = m || ("bez_" + h + "_" + d + "_" + f + "_" + g).replace(/\./g, "p"); if (e[c]) return e[c]; var u = new y([h, d, f, g]); return e[c] = u, u } }, e = {}, r = .1, n = typeof Float32Array == "function"; function s(h, d) { return 1 - 3 * d + 3 * h } function a(h, d) { return 3 * d - 6 * h } function o(h) { return 3 * h } function l(h, d, f) { return ((s(d, f) * h + a(d, f)) * h + o(d)) * h } function p(h, d, f) { return 3 * s(d, f) * h * h + 2 * a(d, f) * h + o(d) } function y(h) { this._p = h, this._mSampleValues = n ? new Float32Array(11) : new Array(11), this._precomputed = !1, this.get = this.get.bind(this) } return y.prototype = { get: function (h) { var d = this._p[0], f = this._p[1], g = this._p[2], m = this._p[3]; return this._precomputed || this._precompute(), d === f && g === m ? h : h === 0 ? 0 : h === 1 ? 1 : l(this._getTForX(h), f, m) }, _precompute: function () { var h = this._p[0], d = this._p[1], f = this._p[2], g = this._p[3]; this._precomputed = !0, h === d && f === g || this._calcSampleValues() }, _calcSampleValues: function () { for (var h = this._p[0], d = this._p[2], f = 0; f < 11; ++f)this._mSampleValues[f] = l(f * r, h, d) }, _getTForX: function (h) { for (var d = this._p[0], f = this._p[2], g = this._mSampleValues, m = 0, c = 1; c !== 10 && g[c] <= h; ++c)m += r; var u = m + (h - g[--c]) / (g[c + 1] - g[c]) * r, v = p(u, d, f); return v >= .001 ? function (b, E, _, x) { for (var T = 0; T < 4; ++T) { var w = p(E, _, x); if (w === 0) return E; E -= (l(E, _, x) - b) / w } return E }(h, u, d, f) : v === 0 ? u : function (b, E, _, x, T) { var w, C, A = 0; do (w = l(C = E + (_ - E) / 2, x, T) - b) > 0 ? _ = C : E = C; while (Math.abs(w) > 1e-7 && ++A < 10); return C }(h, m, m + r, d, f) } }, t }(), pooling = { double: function (t) { return t.concat(createSizedArray(t.length)) } }, poolFactory = function (t, e, r) { var n = 0, s = t, a = createSizedArray(s); return { newElement: function () { return n ? a[n -= 1] : e() }, release: function (o) { n === s && (a = pooling.double(a), s *= 2), r && r(o), a[n] = o, n += 1 } } }, bezierLengthPool = poolFactory(8, function () { return { addedLength: 0, percents: createTypedArray("float32", getDefaultCurveSegments()), lengths: createTypedArray("float32", getDefaultCurveSegments()) } }), segmentsLengthPool = poolFactory(8, function () { return { lengths: [], totalLength: 0 } }, function (t) { var e, r = t.lengths.length; for (e = 0; e < r; e += 1)bezierLengthPool.release(t.lengths[e]); t.lengths.length = 0 }); function bezFunction() { var t = Math; function e(y, h, d, f, g, m) { var c = y * f + h * g + d * m - g * f - m * y - d * h; return c > -.001 && c < .001 } var r = function (y, h, d, f) { var g, m, c, u, v, b, E = getDefaultCurveSegments(), _ = 0, x = [], T = [], w = bezierLengthPool.newElement(); for (c = d.length, g = 0; g < E; g += 1) { for (v = g / (E - 1), b = 0, m = 0; m < c; m += 1)u = bmPow(1 - v, 3) * y[m] + 3 * bmPow(1 - v, 2) * v * d[m] + 3 * (1 - v) * bmPow(v, 2) * f[m] + bmPow(v, 3) * h[m], x[m] = u, T[m] !== null && (b += bmPow(x[m] - T[m], 2)), T[m] = x[m]; b && (_ += b = bmSqrt(b)), w.percents[g] = v, w.lengths[g] = _ } return w.addedLength = _, w }; function n(y) { this.segmentLength = 0, this.points = new Array(y) } function s(y, h) { this.partialLength = y, this.point = h } var a, o = (a = {}, function (y, h, d, f) { var g = (y[0] + "_" + y[1] + "_" + h[0] + "_" + h[1] + "_" + d[0] + "_" + d[1] + "_" + f[0] + "_" + f[1]).replace(/\./g, "p"); if (!a[g]) { var m, c, u, v, b, E, _, x = getDefaultCurveSegments(), T = 0, w = null; y.length === 2 && (y[0] !== h[0] || y[1] !== h[1]) && e(y[0], y[1], h[0], h[1], y[0] + d[0], y[1] + d[1]) && e(y[0], y[1], h[0], h[1], h[0] + f[0], h[1] + f[1]) && (x = 2); var C = new n(x); for (u = d.length, m = 0; m < x; m += 1) { for (_ = createSizedArray(u), b = m / (x - 1), E = 0, c = 0; c < u; c += 1)v = bmPow(1 - b, 3) * y[c] + 3 * bmPow(1 - b, 2) * b * (y[c] + d[c]) + 3 * (1 - b) * bmPow(b, 2) * (h[c] + f[c]) + bmPow(b, 3) * h[c], _[c] = v, w !== null && (E += bmPow(_[c] - w[c], 2)); T += E = bmSqrt(E), C.points[m] = new s(E, _), w = _ } C.segmentLength = T, a[g] = C } return a[g] }); function l(y, h) { var d = h.percents, f = h.lengths, g = d.length, m = bmFloor((g - 1) * y), c = y * h.addedLength, u = 0; if (m === g - 1 || m === 0 || c === f[m]) return d[m]; for (var v = f[m] > c ? -1 : 1, b = !0; b;)if (f[m] <= c && f[m + 1] > c ? (u = (c - f[m]) / (f[m + 1] - f[m]), b = !1) : m += v, m < 0 || m >= g - 1) { if (m === g - 1) return d[m]; b = !1 } return d[m] + (d[m + 1] - d[m]) * u } var p = createTypedArray("float32", 8); return { getSegmentsLength: function (y) { var h, d = segmentsLengthPool.newElement(), f = y.c, g = y.v, m = y.o, c = y.i, u = y._length, v = d.lengths, b = 0; for (h = 0; h < u - 1; h += 1)v[h] = r(g[h], g[h + 1], m[h], c[h + 1]), b += v[h].addedLength; return f && u && (v[h] = r(g[h], g[0], m[h], c[0]), b += v[h].addedLength), d.totalLength = b, d }, getNewSegment: function (y, h, d, f, g, m, c) { g < 0 ? g = 0 : g > 1 && (g = 1); var u, v = l(g, c), b = l(m = m > 1 ? 1 : m, c), E = y.length, _ = 1 - v, x = 1 - b, T = _ * _ * _, w = v * _ * _ * 3, C = v * v * _ * 3, A = v * v * v, k = _ * _ * x, P = v * _ * x + _ * v * x + _ * _ * b, I = v * v * x + _ * v * b + v * _ * b, F = v * v * b, D = _ * x * x, V = v * x * x + _ * b * x + _ * x * b, B = v * b * x + _ * b * b + v * x * b, H = v * b * b, S = x * x * x, M = b * x * x + x * b * x + x * x * b, L = b * b * x + x * b * b + b * x * b, O = b * b * b; for (u = 0; u < E; u += 1)p[4 * u] = t.round(1e3 * (T * y[u] + w * d[u] + C * f[u] + A * h[u])) / 1e3, p[4 * u + 1] = t.round(1e3 * (k * y[u] + P * d[u] + I * f[u] + F * h[u])) / 1e3, p[4 * u + 2] = t.round(1e3 * (D * y[u] + V * d[u] + B * f[u] + H * h[u])) / 1e3, p[4 * u + 3] = t.round(1e3 * (S * y[u] + M * d[u] + L * f[u] + O * h[u])) / 1e3; return p }, getPointInSegment: function (y, h, d, f, g, m) { var c = l(g, m), u = 1 - c; return [t.round(1e3 * (u * u * u * y[0] + (c * u * u + u * c * u + u * u * c) * d[0] + (c * c * u + u * c * c + c * u * c) * f[0] + c * c * c * h[0])) / 1e3, t.round(1e3 * (u * u * u * y[1] + (c * u * u + u * c * u + u * u * c) * d[1] + (c * c * u + u * c * c + c * u * c) * f[1] + c * c * c * h[1])) / 1e3] }, buildBezierData: o, pointOnLine2D: e, pointOnLine3D: function (y, h, d, f, g, m, c, u, v) { if (d === 0 && m === 0 && v === 0) return e(y, h, f, g, c, u); var b, E = t.sqrt(t.pow(f - y, 2) + t.pow(g - h, 2) + t.pow(m - d, 2)), _ = t.sqrt(t.pow(c - y, 2) + t.pow(u - h, 2) + t.pow(v - d, 2)), x = t.sqrt(t.pow(c - f, 2) + t.pow(u - g, 2) + t.pow(v - m, 2)); return (b = E > _ ? E > x ? E - _ - x : x - _ - E : x > _ ? x - _ - E : _ - E - x) > -1e-4 && b < 1e-4 } } } var bez = bezFunction(), initFrame = initialDefaultFrame, mathAbs = Math.abs; function interpolateValue(t, e) { var r, n = this.offsetTime; this.propType === "multidimensional" && (r = createTypedArray("float32", this.pv.length)); for (var s, a, o, l, p, y, h, d, f, g = e.lastIndex, m = g, c = this.keyframes.length - 1, u = !0; u;) { if (s = this.keyframes[m], a = this.keyframes[m + 1], m === c - 1 && t >= a.t - n) { s.h && (s = a), g = 0; break } if (a.t - n > t) { g = m; break } m < c - 1 ? m += 1 : (g = 0, u = !1) } o = this.keyframesMetadata[m] || {}; var v, b = a.t - n, E = s.t - n; if (s.to) { o.bezierData || (o.bezierData = bez.buildBezierData(s.s, a.s || s.e, s.to, s.ti)); var _ = o.bezierData; if (t >= b || t < E) { var x = t >= b ? _.points.length - 1 : 0; for (p = _.points[x].point.length, l = 0; l < p; l += 1)r[l] = _.points[x].point[l] } else { o.__fnct ? f = o.__fnct : (f = BezierFactory.getBezierEasing(s.o.x, s.o.y, s.i.x, s.i.y, s.n).get, o.__fnct = f), y = f((t - E) / (b - E)); var T, w = _.segmentLength * y, C = e.lastFrame < t && e._lastKeyframeIndex === m ? e._lastAddedLength : 0; for (d = e.lastFrame < t && e._lastKeyframeIndex === m ? e._lastPoint : 0, u = !0, h = _.points.length; u;) { if (C += _.points[d].partialLength, w === 0 || y === 0 || d === _.points.length - 1) { for (p = _.points[d].point.length, l = 0; l < p; l += 1)r[l] = _.points[d].point[l]; break } if (w >= C && w < C + _.points[d + 1].partialLength) { for (T = (w - C) / _.points[d + 1].partialLength, p = _.points[d].point.length, l = 0; l < p; l += 1)r[l] = _.points[d].point[l] + (_.points[d + 1].point[l] - _.points[d].point[l]) * T; break } d < h - 1 ? d += 1 : u = !1 } e._lastPoint = d, e._lastAddedLength = C - _.points[d].partialLength, e._lastKeyframeIndex = m } } else { var A, k, P, I, F; if (c = s.s.length, v = a.s || s.e, this.sh && s.h !== 1) t >= b ? (r[0] = v[0], r[1] = v[1], r[2] = v[2]) : t <= E ? (r[0] = s.s[0], r[1] = s.s[1], r[2] = s.s[2]) : quaternionToEuler(r, slerp(createQuaternion(s.s), createQuaternion(v), (t - E) / (b - E))); else for (m = 0; m < c; m += 1)s.h !== 1 && (t >= b ? y = 1 : t < E ? y = 0 : (s.o.x.constructor === Array ? (o.__fnct || (o.__fnct = []), o.__fnct[m] ? f = o.__fnct[m] : (A = s.o.x[m] === void 0 ? s.o.x[0] : s.o.x[m], k = s.o.y[m] === void 0 ? s.o.y[0] : s.o.y[m], P = s.i.x[m] === void 0 ? s.i.x[0] : s.i.x[m], I = s.i.y[m] === void 0 ? s.i.y[0] : s.i.y[m], f = BezierFactory.getBezierEasing(A, k, P, I).get, o.__fnct[m] = f)) : o.__fnct ? f = o.__fnct : (A = s.o.x, k = s.o.y, P = s.i.x, I = s.i.y, f = BezierFactory.getBezierEasing(A, k, P, I).get, s.keyframeMetadata = f), y = f((t - E) / (b - E)))), v = a.s || s.e, F = s.h === 1 ? s.s[m] : s.s[m] + (v[m] - s.s[m]) * y, this.propType === "multidimensional" ? r[m] = F : r = F } return e.lastIndex = g, r } function slerp(t, e, r) { var n, s, a, o, l, p = [], y = t[0], h = t[1], d = t[2], f = t[3], g = e[0], m = e[1], c = e[2], u = e[3]; return (s = y * g + h * m + d * c + f * u) < 0 && (s = -s, g = -g, m = -m, c = -c, u = -u), 1 - s > 1e-6 ? (n = Math.acos(s), a = Math.sin(n), o = Math.sin((1 - r) * n) / a, l = Math.sin(r * n) / a) : (o = 1 - r, l = r), p[0] = o * y + l * g, p[1] = o * h + l * m, p[2] = o * d + l * c, p[3] = o * f + l * u, p } function quaternionToEuler(t, e) { var r = e[0], n = e[1], s = e[2], a = e[3], o = Math.atan2(2 * n * a - 2 * r * s, 1 - 2 * n * n - 2 * s * s), l = Math.asin(2 * r * n + 2 * s * a), p = Math.atan2(2 * r * a - 2 * n * s, 1 - 2 * r * r - 2 * s * s); t[0] = o / degToRads, t[1] = l / degToRads, t[2] = p / degToRads } function createQuaternion(t) { var e = t[0] * degToRads, r = t[1] * degToRads, n = t[2] * degToRads, s = Math.cos(e / 2), a = Math.cos(r / 2), o = Math.cos(n / 2), l = Math.sin(e / 2), p = Math.sin(r / 2), y = Math.sin(n / 2); return [l * p * o + s * a * y, l * a * o + s * p * y, s * p * o - l * a * y, s * a * o - l * p * y] } function getValueAtCurrentTime() { var t = this.comp.renderedFrame - this.offsetTime, e = this.keyframes[0].t - this.offsetTime, r = this.keyframes[this.keyframes.length - 1].t - this.offsetTime; if (!(t === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= r && t >= r || this._caching.lastFrame < e && t < e))) { this._caching.lastFrame >= t && (this._caching._lastKeyframeIndex = -1, this._caching.lastIndex = 0); var n = this.interpolateValue(t, this._caching); this.pv = n } return this._caching.lastFrame = t, this.pv } function setVValue(t) { var e; if (this.propType === "unidimensional") e = t * this.mult, mathAbs(this.v - e) > 1e-5 && (this.v = e, this._mdf = !0); else for (var r = 0, n = this.v.length; r < n;)e = t[r] * this.mult, mathAbs(this.v[r] - e) > 1e-5 && (this.v[r] = e, this._mdf = !0), r += 1 } function processEffectsSequence() { if (this.elem.globalData.frameId !== this.frameId && this.effectsSequence.length) if (this.lock) this.setVValue(this.pv); else { var t; this.lock = !0, this._mdf = this._isFirstFrame; var e = this.effectsSequence.length, r = this.kf ? this.pv : this.data.k; for (t = 0; t < e; t += 1)r = this.effectsSequence[t](r); this.setVValue(r), this._isFirstFrame = !1, this.lock = !1, this.frameId = this.elem.globalData.frameId } } function addEffect(t) { this.effectsSequence.push(t), this.container.addDynamicProperty(this) } function ValueProperty(t, e, r, n) { this.propType = "unidimensional", this.mult = r || 1, this.data = e, this.v = r ? e.k * r : e.k, this.pv = e.k, this._mdf = !1, this.elem = t, this.container = n, this.comp = t.comp, this.k = !1, this.kf = !1, this.vel = 0, this.effectsSequence = [], this._isFirstFrame = !0, this.getValue = processEffectsSequence, this.setVValue = setVValue, this.addEffect = addEffect } function MultiDimensionalProperty(t, e, r, n) { var s; this.propType = "multidimensional", this.mult = r || 1, this.data = e, this._mdf = !1, this.elem = t, this.container = n, this.comp = t.comp, this.k = !1, this.kf = !1, this.frameId = -1; var a = e.k.length; for (this.v = createTypedArray("float32", a), this.pv = createTypedArray("float32", a), this.vel = createTypedArray("float32", a), s = 0; s < a; s += 1)this.v[s] = e.k[s] * this.mult, this.pv[s] = e.k[s]; this._isFirstFrame = !0, this.effectsSequence = [], this.getValue = processEffectsSequence, this.setVValue = setVValue, this.addEffect = addEffect } function KeyframedValueProperty(t, e, r, n) { this.propType = "unidimensional", this.keyframes = e.k, this.keyframesMetadata = [], this.offsetTime = t.data.st, this.frameId = -1, this._caching = { lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1 }, this.k = !0, this.kf = !0, this.data = e, this.mult = r || 1, this.elem = t, this.container = n, this.comp = t.comp, this.v = initFrame, this.pv = initFrame, this._isFirstFrame = !0, this.getValue = processEffectsSequence, this.setVValue = setVValue, this.interpolateValue = interpolateValue, this.effectsSequence = [getValueAtCurrentTime.bind(this)], this.addEffect = addEffect } function KeyframedMultidimensionalProperty(t, e, r, n) { var s; this.propType = "multidimensional"; var a, o, l, p, y = e.k.length; for (s = 0; s < y - 1; s += 1)e.k[s].to && e.k[s].s && e.k[s + 1] && e.k[s + 1].s && (a = e.k[s].s, o = e.k[s + 1].s, l = e.k[s].to, p = e.k[s].ti, (a.length === 2 && (a[0] !== o[0] || a[1] !== o[1]) && bez.pointOnLine2D(a[0], a[1], o[0], o[1], a[0] + l[0], a[1] + l[1]) && bez.pointOnLine2D(a[0], a[1], o[0], o[1], o[0] + p[0], o[1] + p[1]) || a.length === 3 && (a[0] !== o[0] || a[1] !== o[1] || a[2] !== o[2]) && bez.pointOnLine3D(a[0], a[1], a[2], o[0], o[1], o[2], a[0] + l[0], a[1] + l[1], a[2] + l[2]) && bez.pointOnLine3D(a[0], a[1], a[2], o[0], o[1], o[2], o[0] + p[0], o[1] + p[1], o[2] + p[2])) && (e.k[s].to = null, e.k[s].ti = null), a[0] === o[0] && a[1] === o[1] && l[0] === 0 && l[1] === 0 && p[0] === 0 && p[1] === 0 && (a.length === 2 || a[2] === o[2] && l[2] === 0 && p[2] === 0) && (e.k[s].to = null, e.k[s].ti = null)); this.effectsSequence = [getValueAtCurrentTime.bind(this)], this.data = e, this.keyframes = e.k, this.keyframesMetadata = [], this.offsetTime = t.data.st, this.k = !0, this.kf = !0, this._isFirstFrame = !0, this.mult = r || 1, this.elem = t, this.container = n, this.comp = t.comp, this.getValue = processEffectsSequence, this.setVValue = setVValue, this.interpolateValue = interpolateValue, this.frameId = -1; var h = e.k[0].s.length; for (this.v = createTypedArray("float32", h), this.pv = createTypedArray("float32", h), s = 0; s < h; s += 1)this.v[s] = initFrame, this.pv[s] = initFrame; this._caching = { lastFrame: initFrame, lastIndex: 0, value: createTypedArray("float32", h) }, this.addEffect = addEffect } var PropertyFactory = (ob = { getProp: function (t, e, r, n, s) { var a; if (e.sid && (e = t.globalData.slotManager.getProp(e)), e.k.length) if (typeof e.k[0] == "number") a = new MultiDimensionalProperty(t, e, n, s); else switch (r) { case 0: a = new KeyframedValueProperty(t, e, n, s); break; case 1: a = new KeyframedMultidimensionalProperty(t, e, n, s) } else a = new ValueProperty(t, e, n, s); return a.effectsSequence.length && s.addDynamicProperty(a), a } }, ob), ob; function DynamicPropertyContainer() { } DynamicPropertyContainer.prototype = { addDynamicProperty: function (t) { this.dynamicProperties.indexOf(t) === -1 && (this.dynamicProperties.push(t), this.container.addDynamicProperty(this), this._isAnimated = !0) }, iterateDynamicProperties: function () { var t; this._mdf = !1; var e = this.dynamicProperties.length; for (t = 0; t < e; t += 1)this.dynamicProperties[t].getValue(), this.dynamicProperties[t]._mdf && (this._mdf = !0) }, initDynamicPropertyContainer: function (t) { this.container = t, this.dynamicProperties = [], this._mdf = !1, this._isAnimated = !1 } }; var pointPool = poolFactory(8, function () { return createTypedArray("float32", 2) }); function ShapePath() { this.c = !1, this._length = 0, this._maxLength = 8, this.v = createSizedArray(this._maxLength), this.o = createSizedArray(this._maxLength), this.i = createSizedArray(this._maxLength) } ShapePath.prototype.setPathData = function (t, e) { this.c = t, this.setLength(e); for (var r = 0; r < e;)this.v[r] = pointPool.newElement(), this.o[r] = pointPool.newElement(), this.i[r] = pointPool.newElement(), r += 1 }, ShapePath.prototype.setLength = function (t) { for (; this._maxLength < t;)this.doubleArrayLength(); this._length = t }, ShapePath.prototype.doubleArrayLength = function () { this.v = this.v.concat(createSizedArray(this._maxLength)), this.i = this.i.concat(createSizedArray(this._maxLength)), this.o = this.o.concat(createSizedArray(this._maxLength)), this._maxLength *= 2 }, ShapePath.prototype.setXYAt = function (t, e, r, n, s) { var a; switch (this._length = Math.max(this._length, n + 1), this._length >= this._maxLength && this.doubleArrayLength(), r) { case "v": a = this.v; break; case "i": a = this.i; break; case "o": a = this.o; break; default: a = [] }(!a[n] || a[n] && !s) && (a[n] = pointPool.newElement()), a[n][0] = t, a[n][1] = e }, ShapePath.prototype.setTripleAt = function (t, e, r, n, s, a, o, l) { this.setXYAt(t, e, "v", o, l), this.setXYAt(r, n, "o", o, l), this.setXYAt(s, a, "i", o, l) }, ShapePath.prototype.reverse = function () { var t = new ShapePath; t.setPathData(this.c, this._length); var e = this.v, r = this.o, n = this.i, s = 0; this.c && (t.setTripleAt(e[0][0], e[0][1], n[0][0], n[0][1], r[0][0], r[0][1], 0, !1), s = 1); var a, o = this._length - 1, l = this._length; for (a = s; a < l; a += 1)t.setTripleAt(e[o][0], e[o][1], n[o][0], n[o][1], r[o][0], r[o][1], a, !1), o -= 1; return t }, ShapePath.prototype.length = function () { return this._length }; var shapePool = (factory = poolFactory(4, function () { return new ShapePath }, function (t) { var e, r = t._length; for (e = 0; e < r; e += 1)pointPool.release(t.v[e]), pointPool.release(t.i[e]), pointPool.release(t.o[e]), t.v[e] = null, t.i[e] = null, t.o[e] = null; t._length = 0, t.c = !1 }), factory.clone = function (t) { var e, r = factory.newElement(), n = t._length === void 0 ? t.v.length : t._length; for (r.setLength(n), r.c = t.c, e = 0; e < n; e += 1)r.setTripleAt(t.v[e][0], t.v[e][1], t.o[e][0], t.o[e][1], t.i[e][0], t.i[e][1], e); return r }, factory), factory; function ShapeCollection() { this._length = 0, this._maxLength = 4, this.shapes = createSizedArray(this._maxLength) } ShapeCollection.prototype.addShape = function (t) { this._length === this._maxLength && (this.shapes = this.shapes.concat(createSizedArray(this._maxLength)), this._maxLength *= 2), this.shapes[this._length] = t, this._length += 1 }, ShapeCollection.prototype.releaseShapes = function () { var t; for (t = 0; t < this._length; t += 1)shapePool.release(this.shapes[t]); this._length = 0 }; var shapeCollectionPool = function () { var t = { newShapeCollection: function () { return e ? n[e -= 1] : new ShapeCollection }, release: function (s) { var a, o = s._length; for (a = 0; a < o; a += 1)shapePool.release(s.shapes[a]); s._length = 0, e === r && (n = pooling.double(n), r *= 2), n[e] = s, e += 1 } }, e = 0, r = 4, n = createSizedArray(r); return t }(), ShapePropertyFactory = function () { var t = -999999; function e(g, m, c) { var u, v, b, E, _, x, T, w, C, A = c.lastIndex, k = this.keyframes; if (g < k[0].t - this.offsetTime) u = k[0].s[0], b = !0, A = 0; else if (g >= k[k.length - 1].t - this.offsetTime) u = k[k.length - 1].s ? k[k.length - 1].s[0] : k[k.length - 2].e[0], b = !0; else { for (var P, I, F, D = A, V = k.length - 1, B = !0; B && (P = k[D], !((I = k[D + 1]).t - this.offsetTime > g));)D < V - 1 ? D += 1 : B = !1; if (F = this.keyframesMetadata[D] || {}, A = D, !(b = P.h === 1)) { if (g >= I.t - this.offsetTime) w = 1; else if (g < P.t - this.offsetTime) w = 0; else { var H; F.__fnct ? H = F.__fnct : (H = BezierFactory.getBezierEasing(P.o.x, P.o.y, P.i.x, P.i.y).get, F.__fnct = H), w = H((g - (P.t - this.offsetTime)) / (I.t - this.offsetTime - (P.t - this.offsetTime))) } v = I.s ? I.s[0] : P.e[0] } u = P.s[0] } for (x = m._length, T = u.i[0].length, c.lastIndex = A, E = 0; E < x; E += 1)for (_ = 0; _ < T; _ += 1)C = b ? u.i[E][_] : u.i[E][_] + (v.i[E][_] - u.i[E][_]) * w, m.i[E][_] = C, C = b ? u.o[E][_] : u.o[E][_] + (v.o[E][_] - u.o[E][_]) * w, m.o[E][_] = C, C = b ? u.v[E][_] : u.v[E][_] + (v.v[E][_] - u.v[E][_]) * w, m.v[E][_] = C } function r() { var g = this.comp.renderedFrame - this.offsetTime, m = this.keyframes[0].t - this.offsetTime, c = this.keyframes[this.keyframes.length - 1].t - this.offsetTime, u = this._caching.lastFrame; return u !== t && (u < m && g < m || u > c && g > c) || (this._caching.lastIndex = u < g ? this._caching.lastIndex : 0, this.interpolateShape(g, this.pv, this._caching)), this._caching.lastFrame = g, this.pv } function n() { this.paths = this.localShapeCollection } function s(g) { (function (m, c) { if (m._length !== c._length || m.c !== c.c) return !1; var u, v = m._length; for (u = 0; u < v; u += 1)if (m.v[u][0] !== c.v[u][0] || m.v[u][1] !== c.v[u][1] || m.o[u][0] !== c.o[u][0] || m.o[u][1] !== c.o[u][1] || m.i[u][0] !== c.i[u][0] || m.i[u][1] !== c.i[u][1]) return !1; return !0 })(this.v, g) || (this.v = shapePool.clone(g), this.localShapeCollection.releaseShapes(), this.localShapeCollection.addShape(this.v), this._mdf = !0, this.paths = this.localShapeCollection) } function a() { if (this.elem.globalData.frameId !== this.frameId) if (this.effectsSequence.length) if (this.lock) this.setVValue(this.pv); else { var g, m; this.lock = !0, this._mdf = !1, g = this.kf ? this.pv : this.data.ks ? this.data.ks.k : this.data.pt.k; var c = this.effectsSequence.length; for (m = 0; m < c; m += 1)g = this.effectsSequence[m](g); this.setVValue(g), this.lock = !1, this.frameId = this.elem.globalData.frameId } else this._mdf = !1 } function o(g, m, c) { this.propType = "shape", this.comp = g.comp, this.container = g, this.elem = g, this.data = m, this.k = !1, this.kf = !1, this._mdf = !1; var u = c === 3 ? m.pt.k : m.ks.k; this.v = shapePool.clone(u), this.pv = shapePool.clone(this.v), this.localShapeCollection = shapeCollectionPool.newShapeCollection(), this.paths = this.localShapeCollection, this.paths.addShape(this.v), this.reset = n, this.effectsSequence = [] } function l(g) { this.effectsSequence.push(g), this.container.addDynamicProperty(this) } function p(g, m, c) { this.propType = "shape", this.comp = g.comp, this.elem = g, this.container = g, this.offsetTime = g.data.st, this.keyframes = c === 3 ? m.pt.k : m.ks.k, this.keyframesMetadata = [], this.k = !0, this.kf = !0; var u = this.keyframes[0].s[0].i.length; this.v = shapePool.newElement(), this.v.setPathData(this.keyframes[0].s[0].c, u), this.pv = shapePool.clone(this.v), this.localShapeCollection = shapeCollectionPool.newShapeCollection(), this.paths = this.localShapeCollection, this.paths.addShape(this.v), this.lastFrame = t, this.reset = n, this._caching = { lastFrame: t, lastIndex: 0 }, this.effectsSequence = [r.bind(this)] } o.prototype.interpolateShape = e, o.prototype.getValue = a, o.prototype.setVValue = s, o.prototype.addEffect = l, p.prototype.getValue = a, p.prototype.interpolateShape = e, p.prototype.setVValue = s, p.prototype.addEffect = l; var y = function () { var g = roundCorner; function m(c, u) { this.v = shapePool.newElement(), this.v.setPathData(!0, 4), this.localShapeCollection = shapeCollectionPool.newShapeCollection(), this.paths = this.localShapeCollection, this.localShapeCollection.addShape(this.v), this.d = u.d, this.elem = c, this.comp = c.comp, this.frameId = -1, this.initDynamicPropertyContainer(c), this.p = PropertyFactory.getProp(c, u.p, 1, 0, this), this.s = PropertyFactory.getProp(c, u.s, 1, 0, this), this.dynamicProperties.length ? this.k = !0 : (this.k = !1, this.convertEllToPath()) } return m.prototype = { reset: n, getValue: function () { this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId, this.iterateDynamicProperties(), this._mdf && this.convertEllToPath()) }, convertEllToPath: function () { var c = this.p.v[0], u = this.p.v[1], v = this.s.v[0] / 2, b = this.s.v[1] / 2, E = this.d !== 3, _ = this.v; _.v[0][0] = c, _.v[0][1] = u - b, _.v[1][0] = E ? c + v : c - v, _.v[1][1] = u, _.v[2][0] = c, _.v[2][1] = u + b, _.v[3][0] = E ? c - v : c + v, _.v[3][1] = u, _.i[0][0] = E ? c - v * g : c + v * g, _.i[0][1] = u - b, _.i[1][0] = E ? c + v : c - v, _.i[1][1] = u - b * g, _.i[2][0] = E ? c + v * g : c - v * g, _.i[2][1] = u + b, _.i[3][0] = E ? c - v : c + v, _.i[3][1] = u + b * g, _.o[0][0] = E ? c + v * g : c - v * g, _.o[0][1] = u - b, _.o[1][0] = E ? c + v : c - v, _.o[1][1] = u + b * g, _.o[2][0] = E ? c - v * g : c + v * g, _.o[2][1] = u + b, _.o[3][0] = E ? c - v : c + v, _.o[3][1] = u - b * g } }, extendPrototype([DynamicPropertyContainer], m), m }(), h = function () { function g(m, c) { this.v = shapePool.newElement(), this.v.setPathData(!0, 0), this.elem = m, this.comp = m.comp, this.data = c, this.frameId = -1, this.d = c.d, this.initDynamicPropertyContainer(m), c.sy === 1 ? (this.ir = PropertyFactory.getProp(m, c.ir, 0, 0, this), this.is = PropertyFactory.getProp(m, c.is, 0, .01, this), this.convertToPath = this.convertStarToPath) : this.convertToPath = this.convertPolygonToPath, this.pt = PropertyFactory.getProp(m, c.pt, 0, 0, this), this.p = PropertyFactory.getProp(m, c.p, 1, 0, this), this.r = PropertyFactory.getProp(m, c.r, 0, degToRads, this), this.or = PropertyFactory.getProp(m, c.or, 0, 0, this), this.os = PropertyFactory.getProp(m, c.os, 0, .01, this), this.localShapeCollection = shapeCollectionPool.newShapeCollection(), this.localShapeCollection.addShape(this.v), this.paths = this.localShapeCollection, this.dynamicProperties.length ? this.k = !0 : (this.k = !1, this.convertToPath()) } return g.prototype = { reset: n, getValue: function () { this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId, this.iterateDynamicProperties(), this._mdf && this.convertToPath()) }, convertStarToPath: function () { var m, c, u, v, b = 2 * Math.floor(this.pt.v), E = 2 * Math.PI / b, _ = !0, x = this.or.v, T = this.ir.v, w = this.os.v, C = this.is.v, A = 2 * Math.PI * x / (2 * b), k = 2 * Math.PI * T / (2 * b), P = -Math.PI / 2; P += this.r.v; var I = this.data.d === 3 ? -1 : 1; for (this.v._length = 0, m = 0; m < b; m += 1) { u = _ ? w : C, v = _ ? A : k; var F = (c = _ ? x : T) * Math.cos(P), D = c * Math.sin(P), V = F === 0 && D === 0 ? 0 : D / Math.sqrt(F * F + D * D), B = F === 0 && D === 0 ? 0 : -F / Math.sqrt(F * F + D * D); F += +this.p.v[0], D += +this.p.v[1], this.v.setTripleAt(F, D, F - V * v * u * I, D - B * v * u * I, F + V * v * u * I, D + B * v * u * I, m, !0), _ = !_, P += E * I } }, convertPolygonToPath: function () { var m, c = Math.floor(this.pt.v), u = 2 * Math.PI / c, v = this.or.v, b = this.os.v, E = 2 * Math.PI * v / (4 * c), _ = .5 * -Math.PI, x = this.data.d === 3 ? -1 : 1; for (_ += this.r.v, this.v._length = 0, m = 0; m < c; m += 1) { var T = v * Math.cos(_), w = v * Math.sin(_), C = T === 0 && w === 0 ? 0 : w / Math.sqrt(T * T + w * w), A = T === 0 && w === 0 ? 0 : -T / Math.sqrt(T * T + w * w); T += +this.p.v[0], w += +this.p.v[1], this.v.setTripleAt(T, w, T - C * E * b * x, w - A * E * b * x, T + C * E * b * x, w + A * E * b * x, m, !0), _ += u * x } this.paths.length = 0, this.paths[0] = this.v } }, extendPrototype([DynamicPropertyContainer], g), g }(), d = function () { function g(m, c) { this.v = shapePool.newElement(), this.v.c = !0, this.localShapeCollection = shapeCollectionPool.newShapeCollection(), this.localShapeCollection.addShape(this.v), this.paths = this.localShapeCollection, this.elem = m, this.comp = m.comp, this.frameId = -1, this.d = c.d, this.initDynamicPropertyContainer(m), this.p = PropertyFactory.getProp(m, c.p, 1, 0, this), this.s = PropertyFactory.getProp(m, c.s, 1, 0, this), this.r = PropertyFactory.getProp(m, c.r, 0, 0, this), this.dynamicProperties.length ? this.k = !0 : (this.k = !1, this.convertRectToPath()) } return g.prototype = { convertRectToPath: function () { var m = this.p.v[0], c = this.p.v[1], u = this.s.v[0] / 2, v = this.s.v[1] / 2, b = bmMin(u, v, this.r.v), E = b * (1 - roundCorner); this.v._length = 0, this.d === 2 || this.d === 1 ? (this.v.setTripleAt(m + u, c - v + b, m + u, c - v + b, m + u, c - v + E, 0, !0), this.v.setTripleAt(m + u, c + v - b, m + u, c + v - E, m + u, c + v - b, 1, !0), b !== 0 ? (this.v.setTripleAt(m + u - b, c + v, m + u - b, c + v, m + u - E, c + v, 2, !0), this.v.setTripleAt(m - u + b, c + v, m - u + E, c + v, m - u + b, c + v, 3, !0), this.v.setTripleAt(m - u, c + v - b, m - u, c + v - b, m - u, c + v - E, 4, !0), this.v.setTripleAt(m - u, c - v + b, m - u, c - v + E, m - u, c - v + b, 5, !0), this.v.setTripleAt(m - u + b, c - v, m - u + b, c - v, m - u + E, c - v, 6, !0), this.v.setTripleAt(m + u - b, c - v, m + u - E, c - v, m + u - b, c - v, 7, !0)) : (this.v.setTripleAt(m - u, c + v, m - u + E, c + v, m - u, c + v, 2), this.v.setTripleAt(m - u, c - v, m - u, c - v + E, m - u, c - v, 3))) : (this.v.setTripleAt(m + u, c - v + b, m + u, c - v + E, m + u, c - v + b, 0, !0), b !== 0 ? (this.v.setTripleAt(m + u - b, c - v, m + u - b, c - v, m + u - E, c - v, 1, !0), this.v.setTripleAt(m - u + b, c - v, m - u + E, c - v, m - u + b, c - v, 2, !0), this.v.setTripleAt(m - u, c - v + b, m - u, c - v + b, m - u, c - v + E, 3, !0), this.v.setTripleAt(m - u, c + v - b, m - u, c + v - E, m - u, c + v - b, 4, !0), this.v.setTripleAt(m - u + b, c + v, m - u + b, c + v, m - u + E, c + v, 5, !0), this.v.setTripleAt(m + u - b, c + v, m + u - E, c + v, m + u - b, c + v, 6, !0), this.v.setTripleAt(m + u, c + v - b, m + u, c + v - b, m + u, c + v - E, 7, !0)) : (this.v.setTripleAt(m - u, c - v, m - u + E, c - v, m - u, c - v, 1, !0), this.v.setTripleAt(m - u, c + v, m - u, c + v - E, m - u, c + v, 2, !0), this.v.setTripleAt(m + u, c + v, m + u - E, c + v, m + u, c + v, 3, !0))) }, getValue: function () { this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId, this.iterateDynamicProperties(), this._mdf && this.convertRectToPath()) }, reset: n }, extendPrototype([DynamicPropertyContainer], g), g }(), f = { getShapeProp: function (g, m, c) { var u; return c === 3 || c === 4 ? u = (c === 3 ? m.pt : m.ks).k.length ? new p(g, m, c) : new o(g, m, c) : c === 5 ? u = new d(g, m) : c === 6 ? u = new y(g, m) : c === 7 && (u = new h(g, m)), u.k && g.addDynamicProperty(u), u }, getConstructorFunction: function () { return o }, getKeyframedConstructorFunction: function () { return p } }; return f }(), Matrix = function () { var t = Math.cos, e = Math.sin, r = Math.tan, n = Math.round; function s() { return this.props[0] = 1, this.props[1] = 0, this.props[2] = 0, this.props[3] = 0, this.props[4] = 0, this.props[5] = 1, this.props[6] = 0, this.props[7] = 0, this.props[8] = 0, this.props[9] = 0, this.props[10] = 1, this.props[11] = 0, this.props[12] = 0, this.props[13] = 0, this.props[14] = 0, this.props[15] = 1, this } function a(S) { if (S === 0) return this; var M = t(S), L = e(S); return this._t(M, -L, 0, 0, L, M, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1) } function o(S) { if (S === 0) return this; var M = t(S), L = e(S); return this._t(1, 0, 0, 0, 0, M, -L, 0, 0, L, M, 0, 0, 0, 0, 1) } function l(S) { if (S === 0) return this; var M = t(S), L = e(S); return this._t(M, 0, L, 0, 0, 1, 0, 0, -L, 0, M, 0, 0, 0, 0, 1) } function p(S) { if (S === 0) return this; var M = t(S), L = e(S); return this._t(M, -L, 0, 0, L, M, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1) } function y(S, M) { return this._t(1, M, S, 1, 0, 0) } function h(S, M) { return this.shear(r(S), r(M)) } function d(S, M) { var L = t(M), O = e(M); return this._t(L, O, 0, 0, -O, L, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, r(S), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(L, -O, 0, 0, O, L, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1) } function f(S, M, L) { return L || L === 0 || (L = 1), S === 1 && M === 1 && L === 1 ? this : this._t(S, 0, 0, 0, 0, M, 0, 0, 0, 0, L, 0, 0, 0, 0, 1) } function g(S, M, L, O, J, X, Z, N, $, z, G, rt, st, it, nt, tt) { return this.props[0] = S, this.props[1] = M, this.props[2] = L, this.props[3] = O, this.props[4] = J, this.props[5] = X, this.props[6] = Z, this.props[7] = N, this.props[8] = $, this.props[9] = z, this.props[10] = G, this.props[11] = rt, this.props[12] = st, this.props[13] = it, this.props[14] = nt, this.props[15] = tt, this } function m(S, M, L) { return L = L || 0, S !== 0 || M !== 0 || L !== 0 ? this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, S, M, L, 1) : this } function c(S, M, L, O, J, X, Z, N, $, z, G, rt, st, it, nt, tt) { var R = this.props; if (S === 1 && M === 0 && L === 0 && O === 0 && J === 0 && X === 1 && Z === 0 && N === 0 && $ === 0 && z === 0 && G === 1 && rt === 0) return R[12] = R[12] * S + R[15] * st, R[13] = R[13] * X + R[15] * it, R[14] = R[14] * G + R[15] * nt, R[15] *= tt, this._identityCalculated = !1, this; var Pt = R[0], Ct = R[1], yt = R[2], lt = R[3], ht = R[4], et = R[5], ft = R[6], ut = R[7], at = R[8], dt = R[9], ot = R[10], gt = R[11], jt = R[12], Ht = R[13], qt = R[14], Wt = R[15]; return R[0] = Pt * S + Ct * J + yt * $ + lt * st, R[1] = Pt * M + Ct * X + yt * z + lt * it, R[2] = Pt * L + Ct * Z + yt * G + lt * nt, R[3] = Pt * O + Ct * N + yt * rt + lt * tt, R[4] = ht * S + et * J + ft * $ + ut * st, R[5] = ht * M + et * X + ft * z + ut * it, R[6] = ht * L + et * Z + ft * G + ut * nt, R[7] = ht * O + et * N + ft * rt + ut * tt, R[8] = at * S + dt * J + ot * $ + gt * st, R[9] = at * M + dt * X + ot * z + gt * it, R[10] = at * L + dt * Z + ot * G + gt * nt, R[11] = at * O + dt * N + ot * rt + gt * tt, R[12] = jt * S + Ht * J + qt * $ + Wt * st, R[13] = jt * M + Ht * X + qt * z + Wt * it, R[14] = jt * L + Ht * Z + qt * G + Wt * nt, R[15] = jt * O + Ht * N + qt * rt + Wt * tt, this._identityCalculated = !1, this } function u(S) { var M = S.props; return this.transform(M[0], M[1], M[2], M[3], M[4], M[5], M[6], M[7], M[8], M[9], M[10], M[11], M[12], M[13], M[14], M[15]) } function v() { return this._identityCalculated || (this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1), this._identityCalculated = !0), this._identity } function b(S) { for (var M = 0; M < 16;) { if (S.props[M] !== this.props[M]) return !1; M += 1 } return !0 } function E(S) { var M; for (M = 0; M < 16; M += 1)S.props[M] = this.props[M]; return S } function _(S) { var M; for (M = 0; M < 16; M += 1)this.props[M] = S[M] } function x(S, M, L) { return { x: S * this.props[0] + M * this.props[4] + L * this.props[8] + this.props[12], y: S * this.props[1] + M * this.props[5] + L * this.props[9] + this.props[13], z: S * this.props[2] + M * this.props[6] + L * this.props[10] + this.props[14] } } function T(S, M, L) { return S * this.props[0] + M * this.props[4] + L * this.props[8] + this.props[12] } function w(S, M, L) { return S * this.props[1] + M * this.props[5] + L * this.props[9] + this.props[13] } function C(S, M, L) { return S * this.props[2] + M * this.props[6] + L * this.props[10] + this.props[14] } function A() { var S = this.props[0] * this.props[5] - this.props[1] * this.props[4], M = this.props[5] / S, L = -this.props[1] / S, O = -this.props[4] / S, J = this.props[0] / S, X = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / S, Z = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / S, N = new Matrix; return N.props[0] = M, N.props[1] = L, N.props[4] = O, N.props[5] = J, N.props[12] = X, N.props[13] = Z, N } function k(S) { return this.getInverseMatrix().applyToPointArray(S[0], S[1], S[2] || 0) } function P(S) { var M, L = S.length, O = []; for (M = 0; M < L; M += 1)O[M] = k(S[M]); return O } function I(S, M, L) { var O = createTypedArray("float32", 6); if (this.isIdentity()) O[0] = S[0], O[1] = S[1], O[2] = M[0], O[3] = M[1], O[4] = L[0], O[5] = L[1]; else { var J = this.props[0], X = this.props[1], Z = this.props[4], N = this.props[5], $ = this.props[12], z = this.props[13]; O[0] = S[0] * J + S[1] * Z + $, O[1] = S[0] * X + S[1] * N + z, O[2] = M[0] * J + M[1] * Z + $, O[3] = M[0] * X + M[1] * N + z, O[4] = L[0] * J + L[1] * Z + $, O[5] = L[0] * X + L[1] * N + z } return O } function F(S, M, L) { return this.isIdentity() ? [S, M, L] : [S * this.props[0] + M * this.props[4] + L * this.props[8] + this.props[12], S * this.props[1] + M * this.props[5] + L * this.props[9] + this.props[13], S * this.props[2] + M * this.props[6] + L * this.props[10] + this.props[14]] } function D(S, M) { if (this.isIdentity()) return S + "," + M; var L = this.props; return Math.round(100 * (S * L[0] + M * L[4] + L[12])) / 100 + "," + Math.round(100 * (S * L[1] + M * L[5] + L[13])) / 100 } function V() { for (var S = 0, M = this.props, L = "matrix3d("; S < 16;)L += n(1e4 * M[S]) / 1e4, L += S === 15 ? ")" : ",", S += 1; return L } function B(S) { return S < 1e-6 && S > 0 || S > -1e-6 && S < 0 ? n(1e4 * S) / 1e4 : S } function H() { var S = this.props; return "matrix(" + B(S[0]) + "," + B(S[1]) + "," + B(S[4]) + "," + B(S[5]) + "," + B(S[12]) + "," + B(S[13]) + ")" } return function () { this.reset = s, this.rotate = a, this.rotateX = o, this.rotateY = l, this.rotateZ = p, this.skew = h, this.skewFromAxis = d, this.shear = y, this.scale = f, this.setTransform = g, this.translate = m, this.transform = c, this.multiply = u, this.applyToPoint = x, this.applyToX = T, this.applyToY = w, this.applyToZ = C, this.applyToPointArray = F, this.applyToTriplePoints = I, this.applyToPointStringified = D, this.toCSS = V, this.to2dCSS = H, this.clone = E, this.cloneFromProps = _, this.equals = b, this.inversePoints = P, this.inversePoint = k, this.getInverseMatrix = A, this._t = this.transform, this.isIdentity = v, this._identity = !0, this._identityCalculated = !1, this.props = createTypedArray("float32", 16), this.reset() } }(); function _typeof$3(t) { return _typeof$3 = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, _typeof$3(t) } var lottie = {}, standalone = "__[STANDALONE]__", animationData = "__[ANIMATIONDATA]__", renderer = ""; function setLocation(t) { setLocationHref(t) } function searchAnimations() { standalone === !0 ? animationManager.searchAnimations(animationData, standalone, renderer) : animationManager.searchAnimations() } function setSubframeRendering(t) { setSubframeEnabled(t) } function setPrefix(t) { setIdPrefix(t) } function loadAnimation(t) { return standalone === !0 && (t.animationData = JSON.parse(animationData)), animationManager.loadAnimation(t) } function setQuality(t) { if (typeof t == "string") switch (t) { case "high": setDefaultCurveSegments(200); break; default: case "medium": setDefaultCurveSegments(50); break; case "low": setDefaultCurveSegments(10) } else !isNaN(t) && t > 1 && setDefaultCurveSegments(t); getDefaultCurveSegments() >= 50 ? roundValues(!1) : roundValues(!0) } function inBrowser() { return typeof navigator < "u" } function installPlugin(t, e) { t === "expressions" && setExpressionsPlugin(e) } function getFactory(t) { switch (t) { case "propertyFactory": return PropertyFactory; case "shapePropertyFactory": return ShapePropertyFactory; case "matrix": return Matrix; default: return null } } function checkReady() { document.readyState === "complete" && (clearInterval(readyStateCheckInterval), searchAnimations()) } function getQueryVariable(t) { for (var e = queryString.split("&"), r = 0; r < e.length; r += 1) { var n = e[r].split("="); if (decodeURIComponent(n[0]) == t) return decodeURIComponent(n[1]) } return null } lottie.play = animationManager.play, lottie.pause = animationManager.pause, lottie.setLocationHref = setLocation, lottie.togglePause = animationManager.togglePause, lottie.setSpeed = animationManager.setSpeed, lottie.setDirection = animationManager.setDirection, lottie.stop = animationManager.stop, lottie.searchAnimations = searchAnimations, lottie.registerAnimation = animationManager.registerAnimation, lottie.loadAnimation = loadAnimation, lottie.setSubframeRendering = setSubframeRendering, lottie.resize = animationManager.resize, lottie.goToAndStop = animationManager.goToAndStop, lottie.destroy = animationManager.destroy, lottie.setQuality = setQuality, lottie.inBrowser = inBrowser, lottie.installPlugin = installPlugin, lottie.freeze = animationManager.freeze, lottie.unfreeze = animationManager.unfreeze, lottie.setVolume = animationManager.setVolume, lottie.mute = animationManager.mute, lottie.unmute = animationManager.unmute, lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations, lottie.useWebWorker = setWebWorker, lottie.setIDPrefix = setPrefix, lottie.__getFactory = getFactory, lottie.version = "5.12.2"; var queryString = ""; if (standalone) { var scripts = document.getElementsByTagName("script"), index = scripts.length - 1, myScript = scripts[index] || { src: "" }; queryString = myScript.src ? myScript.src.replace(/^[^\?]+\??/, "") : "", renderer = getQueryVariable("renderer") } var readyStateCheckInterval = setInterval(checkReady, 100); try { _typeof$3(exports) !== "object" && (window.bodymovin = lottie) } catch (t) { } var ShapeModifiers = function () { var t = {}, e = {}; return t.registerModifier = function (r, n) { e[r] || (e[r] = n) }, t.getModifier = function (r, n, s) { return new e[r](n, s) }, t }(); function ShapeModifier() { } function TrimModifier() { } function PuckerAndBloatModifier() { } ShapeModifier.prototype.initModifierProperties = function () { }, ShapeModifier.prototype.addShapeToModifier = function () { }, ShapeModifier.prototype.addShape = function (t) { if (!this.closed) { t.sh.container.addDynamicProperty(t.sh); var e = { shape: t.sh, data: t, localShapeCollection: shapeCollectionPool.newShapeCollection() }; this.shapes.push(e), this.addShapeToModifier(e), this._isAnimated && t.setAsAnimated() } }, ShapeModifier.prototype.init = function (t, e) { this.shapes = [], this.elem = t, this.initDynamicPropertyContainer(t), this.initModifierProperties(t, e), this.frameId = initialDefaultFrame, this.closed = !1, this.k = !1, this.dynamicProperties.length ? this.k = !0 : this.getValue(!0) }, ShapeModifier.prototype.processKeys = function () { this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId, this.iterateDynamicProperties()) }, extendPrototype([DynamicPropertyContainer], ShapeModifier), extendPrototype([ShapeModifier], TrimModifier), TrimModifier.prototype.initModifierProperties = function (t, e) { this.s = PropertyFactory.getProp(t, e.s, 0, .01, this), this.e = PropertyFactory.getProp(t, e.e, 0, .01, this), this.o = PropertyFactory.getProp(t, e.o, 0, 0, this), this.sValue = 0, this.eValue = 0, this.getValue = this.processKeys, this.m = e.m, this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length }, TrimModifier.prototype.addShapeToModifier = function (t) { t.pathsData = [] }, TrimModifier.prototype.calculateShapeEdges = function (t, e, r, n, s) { var a = []; e <= 1 ? a.push({ s: t, e }) : t >= 1 ? a.push({ s: t - 1, e: e - 1 }) : (a.push({ s: t, e: 1 }), a.push({ s: 0, e: e - 1 })); var o, l, p = [], y = a.length; for (o = 0; o < y; o += 1) { var h, d; (l = a[o]).e * s < n || l.s * s > n + r || (h = l.s * s <= n ? 0 : (l.s * s - n) / r, d = l.e * s >= n + r ? 1 : (l.e * s - n) / r, p.push([h, d])) } return p.length || p.push([0, 0]), p }, TrimModifier.prototype.releasePathsData = function (t) { var e, r = t.length; for (e = 0; e < r; e += 1)segmentsLengthPool.release(t[e]); return t.length = 0, t }, TrimModifier.prototype.processShapes = function (t) { var e, r, n, s; if (this._mdf || t) { var a = this.o.v % 360 / 360; if (a < 0 && (a += 1), (e = this.s.v > 1 ? 1 + a : this.s.v < 0 ? 0 + a : this.s.v + a) > (r = this.e.v > 1 ? 1 + a : this.e.v < 0 ? 0 + a : this.e.v + a)) { var o = e; e = r, r = o } e = 1e-4 * Math.round(1e4 * e), r = 1e-4 * Math.round(1e4 * r), this.sValue = e, this.eValue = r } else e = this.sValue, r = this.eValue; var l, p, y, h, d, f = this.shapes.length, g = 0; if (r === e) for (s = 0; s < f; s += 1)this.shapes[s].localShapeCollection.releaseShapes(), this.shapes[s].shape._mdf = !0, this.shapes[s].shape.paths = this.shapes[s].localShapeCollection, this._mdf && (this.shapes[s].pathsData.length = 0); else if (r === 1 && e === 0 || r === 0 && e === 1) { if (this._mdf) for (s = 0; s < f; s += 1)this.shapes[s].pathsData.length = 0, this.shapes[s].shape._mdf = !0 } else { var m, c, u = []; for (s = 0; s < f; s += 1)if ((m = this.shapes[s]).shape._mdf || this._mdf || t || this.m === 2) { if (p = (n = m.shape.paths)._length, d = 0, !m.shape._mdf && m.pathsData.length) d = m.totalShapeLength; else { for (y = this.releasePathsData(m.pathsData), l = 0; l < p; l += 1)h = bez.getSegmentsLength(n.shapes[l]), y.push(h), d += h.totalLength; m.totalShapeLength = d, m.pathsData = y } g += d, m.shape._mdf = !0 } else m.shape.paths = m.localShapeCollection; var v, b = e, E = r, _ = 0; for (s = f - 1; s >= 0; s -= 1)if ((m = this.shapes[s]).shape._mdf) { for ((c = m.localShapeCollection).releaseShapes(), this.m === 2 && f > 1 ? (v = this.calculateShapeEdges(e, r, m.totalShapeLength, _, g), _ += m.totalShapeLength) : v = [[b, E]], p = v.length, l = 0; l < p; l += 1) { b = v[l][0], E = v[l][1], u.length = 0, E <= 1 ? u.push({ s: m.totalShapeLength * b, e: m.totalShapeLength * E }) : b >= 1 ? u.push({ s: m.totalShapeLength * (b - 1), e: m.totalShapeLength * (E - 1) }) : (u.push({ s: m.totalShapeLength * b, e: m.totalShapeLength }), u.push({ s: 0, e: m.totalShapeLength * (E - 1) })); var x = this.addShapes(m, u[0]); if (u[0].s !== u[0].e) { if (u.length > 1) if (m.shape.paths.shapes[m.shape.paths._length - 1].c) { var T = x.pop(); this.addPaths(x, c), x = this.addShapes(m, u[1], T) } else this.addPaths(x, c), x = this.addShapes(m, u[1]); this.addPaths(x, c) } } m.shape.paths = c } } }, TrimModifier.prototype.addPaths = function (t, e) { var r, n = t.length; for (r = 0; r < n; r += 1)e.addShape(t[r]) }, TrimModifier.prototype.addSegment = function (t, e, r, n, s, a, o) { s.setXYAt(e[0], e[1], "o", a), s.setXYAt(r[0], r[1], "i", a + 1), o && s.setXYAt(t[0], t[1], "v", a), s.setXYAt(n[0], n[1], "v", a + 1) }, TrimModifier.prototype.addSegmentFromArray = function (t, e, r, n) { e.setXYAt(t[1], t[5], "o", r), e.setXYAt(t[2], t[6], "i", r + 1), n && e.setXYAt(t[0], t[4], "v", r), e.setXYAt(t[3], t[7], "v", r + 1) }, TrimModifier.prototype.addShapes = function (t, e, r) { var n, s, a, o, l, p, y, h, d = t.pathsData, f = t.shape.paths.shapes, g = t.shape.paths._length, m = 0, c = [], u = !0; for (r ? (l = r._length, h = r._length) : (r = shapePool.newElement(), l = 0, h = 0), c.push(r), n = 0; n < g; n += 1) { for (p = d[n].lengths, r.c = f[n].c, a = f[n].c ? p.length : p.length + 1, s = 1; s < a; s += 1)if (m + (o = p[s - 1]).addedLength < e.s) m += o.addedLength, r.c = !1; else { if (m > e.e) { r.c = !1; break } e.s <= m && e.e >= m + o.addedLength ? (this.addSegment(f[n].v[s - 1], f[n].o[s - 1], f[n].i[s], f[n].v[s], r, l, u), u = !1) : (y = bez.getNewSegment(f[n].v[s - 1], f[n].v[s], f[n].o[s - 1], f[n].i[s], (e.s - m) / o.addedLength, (e.e - m) / o.addedLength, p[s - 1]), this.addSegmentFromArray(y, r, l, u), u = !1, r.c = !1), m += o.addedLength, l += 1 } if (f[n].c && p.length) { if (o = p[s - 1], m <= e.e) { var v = p[s - 1].addedLength; e.s <= m && e.e >= m + v ? (this.addSegment(f[n].v[s - 1], f[n].o[s - 1], f[n].i[0], f[n].v[0], r, l, u), u = !1) : (y = bez.getNewSegment(f[n].v[s - 1], f[n].v[0], f[n].o[s - 1], f[n].i[0], (e.s - m) / v, (e.e - m) / v, p[s - 1]), this.addSegmentFromArray(y, r, l, u), u = !1, r.c = !1) } else r.c = !1; m += o.addedLength, l += 1 } if (r._length && (r.setXYAt(r.v[h][0], r.v[h][1], "i", h), r.setXYAt(r.v[r._length - 1][0], r.v[r._length - 1][1], "o", r._length - 1)), m > e.e) break; n < g - 1 && (r = shapePool.newElement(), u = !0, c.push(r), l = 0) } return c }, extendPrototype([ShapeModifier], PuckerAndBloatModifier), PuckerAndBloatModifier.prototype.initModifierProperties = function (t, e) { this.getValue = this.processKeys, this.amount = PropertyFactory.getProp(t, e.a, 0, null, this), this._isAnimated = !!this.amount.effectsSequence.length }, PuckerAndBloatModifier.prototype.processPath = function (t, e) { var r = e / 100, n = [0, 0], s = t._length, a = 0; for (a = 0; a < s; a += 1)n[0] += t.v[a][0], n[1] += t.v[a][1]; n[0] /= s, n[1] /= s; var o, l, p, y, h, d, f = shapePool.newElement(); for (f.c = t.c, a = 0; a < s; a += 1)o = t.v[a][0] + (n[0] - t.v[a][0]) * r, l = t.v[a][1] + (n[1] - t.v[a][1]) * r, p = t.o[a][0] + (n[0] - t.o[a][0]) * -r, y = t.o[a][1] + (n[1] - t.o[a][1]) * -r, h = t.i[a][0] + (n[0] - t.i[a][0]) * -r, d = t.i[a][1] + (n[1] - t.i[a][1]) * -r, f.setTripleAt(o, l, p, y, h, d, a); return f }, PuckerAndBloatModifier.prototype.processShapes = function (t) { var e, r, n, s, a, o, l = this.shapes.length, p = this.amount.v; if (p !== 0) for (r = 0; r < l; r += 1) { if (o = (a = this.shapes[r]).localShapeCollection, a.shape._mdf || this._mdf || t) for (o.releaseShapes(), a.shape._mdf = !0, e = a.shape.paths.shapes, s = a.shape.paths._length, n = 0; n < s; n += 1)o.addShape(this.processPath(e[n], p)); a.shape.paths = a.localShapeCollection } this.dynamicProperties.length || (this._mdf = !1) }; var TransformPropertyFactory = function () { var t = [0, 0]; function e(r, n, s) { if (this.elem = r, this.frameId = -1, this.propType = "transform", this.data = n, this.v = new Matrix, this.pre = new Matrix, this.appliedTransformations = 0, this.initDynamicPropertyContainer(s || r), n.p && n.p.s ? (this.px = PropertyFactory.getProp(r, n.p.x, 0, 0, this), this.py = PropertyFactory.getProp(r, n.p.y, 0, 0, this), n.p.z && (this.pz = PropertyFactory.getProp(r, n.p.z, 0, 0, this))) : this.p = PropertyFactory.getProp(r, n.p || { k: [0, 0, 0] }, 1, 0, this), n.rx) { if (this.rx = PropertyFactory.getProp(r, n.rx, 0, degToRads, this), this.ry = PropertyFactory.getProp(r, n.ry, 0, degToRads, this), this.rz = PropertyFactory.getProp(r, n.rz, 0, degToRads, this), n.or.k[0].ti) { var a, o = n.or.k.length; for (a = 0; a < o; a += 1)n.or.k[a].to = null, n.or.k[a].ti = null } this.or = PropertyFactory.getProp(r, n.or, 1, degToRads, this), this.or.sh = !0 } else this.r = PropertyFactory.getProp(r, n.r || { k: 0 }, 0, degToRads, this); n.sk && (this.sk = PropertyFactory.getProp(r, n.sk, 0, degToRads, this), this.sa = PropertyFactory.getProp(r, n.sa, 0, degToRads, this)), this.a = PropertyFactory.getProp(r, n.a || { k: [0, 0, 0] }, 1, 0, this), this.s = PropertyFactory.getProp(r, n.s || { k: [100, 100, 100] }, 1, .01, this), n.o ? this.o = PropertyFactory.getProp(r, n.o, 0, .01, r) : this.o = { _mdf: !1, v: 1 }, this._isDirty = !0, this.dynamicProperties.length || this.getValue(!0) } return e.prototype = { applyToMatrix: function (r) { var n = this._mdf; this.iterateDynamicProperties(), this._mdf = this._mdf || n, this.a && r.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]), this.s && r.scale(this.s.v[0], this.s.v[1], this.s.v[2]), this.sk && r.skewFromAxis(-this.sk.v, this.sa.v), this.r ? r.rotate(-this.r.v) : r.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]), this.data.p.s ? this.data.p.z ? r.translate(this.px.v, this.py.v, -this.pz.v) : r.translate(this.px.v, this.py.v, 0) : r.translate(this.p.v[0], this.p.v[1], -this.p.v[2]) }, getValue: function (r) { if (this.elem.globalData.frameId !== this.frameId) { if (this._isDirty && (this.precalculateMatrix(), this._isDirty = !1), this.iterateDynamicProperties(), this._mdf || r) { var n; if (this.v.cloneFromProps(this.pre.props), this.appliedTransformations < 1 && this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]), this.appliedTransformations < 2 && this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]), this.sk && this.appliedTransformations < 3 && this.v.skewFromAxis(-this.sk.v, this.sa.v), this.r && this.appliedTransformations < 4 ? this.v.rotate(-this.r.v) : !this.r && this.appliedTransformations < 4 && this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]), this.autoOriented) { var s, a; if (n = this.elem.globalData.frameRate, this.p && this.p.keyframes && this.p.getValueAtTime) this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t ? (s = this.p.getValueAtTime((this.p.keyframes[0].t + .01) / n, 0), a = this.p.getValueAtTime(this.p.keyframes[0].t / n, 0)) : this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t ? (s = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / n, 0), a = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - .05) / n, 0)) : (s = this.p.pv, a = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - .01) / n, this.p.offsetTime)); else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) { s = [], a = []; var o = this.px, l = this.py; o._caching.lastFrame + o.offsetTime <= o.keyframes[0].t ? (s[0] = o.getValueAtTime((o.keyframes[0].t + .01) / n, 0), s[1] = l.getValueAtTime((l.keyframes[0].t + .01) / n, 0), a[0] = o.getValueAtTime(o.keyframes[0].t / n, 0), a[1] = l.getValueAtTime(l.keyframes[0].t / n, 0)) : o._caching.lastFrame + o.offsetTime >= o.keyframes[o.keyframes.length - 1].t ? (s[0] = o.getValueAtTime(o.keyframes[o.keyframes.length - 1].t / n, 0), s[1] = l.getValueAtTime(l.keyframes[l.keyframes.length - 1].t / n, 0), a[0] = o.getValueAtTime((o.keyframes[o.keyframes.length - 1].t - .01) / n, 0), a[1] = l.getValueAtTime((l.keyframes[l.keyframes.length - 1].t - .01) / n, 0)) : (s = [o.pv, l.pv], a[0] = o.getValueAtTime((o._caching.lastFrame + o.offsetTime - .01) / n, o.offsetTime), a[1] = l.getValueAtTime((l._caching.lastFrame + l.offsetTime - .01) / n, l.offsetTime)) } else s = a = t; this.v.rotate(-Math.atan2(s[1] - a[1], s[0] - a[0])) } this.data.p && this.data.p.s ? this.data.p.z ? this.v.translate(this.px.v, this.py.v, -this.pz.v) : this.v.translate(this.px.v, this.py.v, 0) : this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]) } this.frameId = this.elem.globalData.frameId } }, precalculateMatrix: function () { if (this.appliedTransformations = 0, this.pre.reset(), !this.a.effectsSequence.length && (this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]), this.appliedTransformations = 1, !this.s.effectsSequence.length)) { if (this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]), this.appliedTransformations = 2, this.sk) { if (this.sk.effectsSequence.length || this.sa.effectsSequence.length) return; this.pre.skewFromAxis(-this.sk.v, this.sa.v), this.appliedTransformations = 3 } this.r ? this.r.effectsSequence.length || (this.pre.rotate(-this.r.v), this.appliedTransformations = 4) : this.rz.effectsSequence.length || this.ry.effectsSequence.length || this.rx.effectsSequence.length || this.or.effectsSequence.length || (this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]), this.appliedTransformations = 4) } }, autoOrient: function () { } }, extendPrototype([DynamicPropertyContainer], e), e.prototype.addDynamicProperty = function (r) { this._addDynamicProperty(r), this.elem.addDynamicProperty(r), this._isDirty = !0 }, e.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty, { getTransformProperty: function (r, n, s) { return new e(r, n, s) } } }(); function RepeaterModifier() { } function RoundCornersModifier() { } function floatEqual(t, e) { return 1e5 * Math.abs(t - e) <= Math.min(Math.abs(t), Math.abs(e)) } function floatZero(t) { return Math.abs(t) <= 1e-5 } function lerp(t, e, r) { return t * (1 - r) + e * r } function lerpPoint(t, e, r) { return [lerp(t[0], e[0], r), lerp(t[1], e[1], r)] } function quadRoots(t, e, r) { if (t === 0) return []; var n = e * e - 4 * t * r; if (n < 0) return []; var s = -e / (2 * t); if (n === 0) return [s]; var a = Math.sqrt(n) / (2 * t); return [s - a, s + a] } function polynomialCoefficients(t, e, r, n) { return [3 * e - t - 3 * r + n, 3 * t - 6 * e + 3 * r, -3 * t + 3 * e, t] } function singlePoint(t) { return new PolynomialBezier(t, t, t, t, !1) } function PolynomialBezier(t, e, r, n, s) { s && pointEqual(t, e) && (e = lerpPoint(t, n, 1 / 3)), s && pointEqual(r, n) && (r = lerpPoint(t, n, 2 / 3)); var a = polynomialCoefficients(t[0], e[0], r[0], n[0]), o = polynomialCoefficients(t[1], e[1], r[1], n[1]); this.a = [a[0], o[0]], this.b = [a[1], o[1]], this.c = [a[2], o[2]], this.d = [a[3], o[3]], this.points = [t, e, r, n] } function extrema(t, e) { var r = t.points[0][e], n = t.points[t.points.length - 1][e]; if (r > n) { var s = n; n = r, r = s } for (var a = quadRoots(3 * t.a[e], 2 * t.b[e], t.c[e]), o = 0; o < a.length; o += 1)if (a[o] > 0 && a[o] < 1) { var l = t.point(a[o])[e]; l < r ? r = l : l > n && (n = l) } return { min: r, max: n } } function intersectData(t, e, r) { var n = t.boundingBox(); return { cx: n.cx, cy: n.cy, width: n.width, height: n.height, bez: t, t: (e + r) / 2, t1: e, t2: r } } function splitData(t) { var e = t.bez.split(.5); return [intersectData(e[0], t.t1, t.t), intersectData(e[1], t.t, t.t2)] } function boxIntersect(t, e) { return 2 * Math.abs(t.cx - e.cx) < t.width + e.width && 2 * Math.abs(t.cy - e.cy) < t.height + e.height } function intersectsImpl(t, e, r, n, s, a) { if (boxIntersect(t, e)) if (r >= a || t.width <= n && t.height <= n && e.width <= n && e.height <= n) s.push([t.t, e.t]); else { var o = splitData(t), l = splitData(e); intersectsImpl(o[0], l[0], r + 1, n, s, a), intersectsImpl(o[0], l[1], r + 1, n, s, a), intersectsImpl(o[1], l[0], r + 1, n, s, a), intersectsImpl(o[1], l[1], r + 1, n, s, a) } } function crossProduct(t, e) { return [t[1] * e[2] - t[2] * e[1], t[2] * e[0] - t[0] * e[2], t[0] * e[1] - t[1] * e[0]] } function lineIntersection(t, e, r, n) { var s = [t[0], t[1], 1], a = [e[0], e[1], 1], o = [r[0], r[1], 1], l = [n[0], n[1], 1], p = crossProduct(crossProduct(s, a), crossProduct(o, l)); return floatZero(p[2]) ? null : [p[0] / p[2], p[1] / p[2]] } function polarOffset(t, e, r) { return [t[0] + Math.cos(e) * r, t[1] - Math.sin(e) * r] } function pointDistance(t, e) { return Math.hypot(t[0] - e[0], t[1] - e[1]) } function pointEqual(t, e) { return floatEqual(t[0], e[0]) && floatEqual(t[1], e[1]) } function ZigZagModifier() { } function setPoint(t, e, r, n, s, a, o) { var l = r - Math.PI / 2, p = r + Math.PI / 2, y = e[0] + Math.cos(r) * n * s, h = e[1] - Math.sin(r) * n * s; t.setTripleAt(y, h, y + Math.cos(l) * a, h - Math.sin(l) * a, y + Math.cos(p) * o, h - Math.sin(p) * o, t.length()) } function getPerpendicularVector(t, e) { var r = [e[0] - t[0], e[1] - t[1]], n = .5 * -Math.PI; return [Math.cos(n) * r[0] - Math.sin(n) * r[1], Math.sin(n) * r[0] + Math.cos(n) * r[1]] } function getProjectingAngle(t, e) { var r = e === 0 ? t.length() - 1 : e - 1, n = (e + 1) % t.length(), s = getPerpendicularVector(t.v[r], t.v[n]); return Math.atan2(0, 1) - Math.atan2(s[1], s[0]) } function zigZagCorner(t, e, r, n, s, a, o) { var l = getProjectingAngle(e, r), p = e.v[r % e._length], y = e.v[r === 0 ? e._length - 1 : r - 1], h = e.v[(r + 1) % e._length], d = a === 2 ? Math.sqrt(Math.pow(p[0] - y[0], 2) + Math.pow(p[1] - y[1], 2)) : 0, f = a === 2 ? Math.sqrt(Math.pow(p[0] - h[0], 2) + Math.pow(p[1] - h[1], 2)) : 0; setPoint(t, e.v[r % e._length], l, o, n, f / (2 * (s + 1)), d / (2 * (s + 1)), a) } function zigZagSegment(t, e, r, n, s, a) { for (var o = 0; o < n; o += 1) { var l = (o + 1) / (n + 1), p = s === 2 ? Math.sqrt(Math.pow(e.points[3][0] - e.points[0][0], 2) + Math.pow(e.points[3][1] - e.points[0][1], 2)) : 0, y = e.normalAngle(l); setPoint(t, e.point(l), y, a, r, p / (2 * (n + 1)), p / (2 * (n + 1)), s), a = -a } return a } function linearOffset(t, e, r) { var n = Math.atan2(e[0] - t[0], e[1] - t[1]); return [polarOffset(t, n, r), polarOffset(e, n, r)] } function offsetSegment(t, e) { var r, n, s, a, o, l, p; r = (p = linearOffset(t.points[0], t.points[1], e))[0], n = p[1], s = (p = linearOffset(t.points[1], t.points[2], e))[0], a = p[1], o = (p = linearOffset(t.points[2], t.points[3], e))[0], l = p[1]; var y = lineIntersection(r, n, s, a); y === null && (y = n); var h = lineIntersection(o, l, s, a); return h === null && (h = o), new PolynomialBezier(r, y, h, l) } function joinLines(t, e, r, n, s) { var a = e.points[3], o = r.points[0]; if (n === 3 || pointEqual(a, o)) return a; if (n === 2) { var l = -e.tangentAngle(1), p = -r.tangentAngle(0) + Math.PI, y = lineIntersection(a, polarOffset(a, l + Math.PI / 2, 100), o, polarOffset(o, l + Math.PI / 2, 100)), h = y ? pointDistance(y, a) : pointDistance(a, o) / 2, d = polarOffset(a, l, 2 * h * roundCorner); return t.setXYAt(d[0], d[1], "o", t.length() - 1), d = polarOffset(o, p, 2 * h * roundCorner), t.setTripleAt(o[0], o[1], o[0], o[1], d[0], d[1], t.length()), o } var f = lineIntersection(pointEqual(a, e.points[2]) ? e.points[0] : e.points[2], a, o, pointEqual(o, r.points[1]) ? r.points[3] : r.points[1]); return f && pointDistance(f, a) < s ? (t.setTripleAt(f[0], f[1], f[0], f[1], f[0], f[1], t.length()), f) : a } function getIntersection(t, e) { var r = t.intersections(e); return r.length && floatEqual(r[0][0], 1) && r.shift(), r.length ? r[0] : null } function pruneSegmentIntersection(t, e) { var r = t.slice(), n = e.slice(), s = getIntersection(t[t.length - 1], e[0]); return s && (r[t.length - 1] = t[t.length - 1].split(s[0])[0], n[0] = e[0].split(s[1])[1]), t.length > 1 && e.length > 1 && (s = getIntersection(t[0], e[e.length - 1])) ? [[t[0].split(s[0])[0]], [e[e.length - 1].split(s[1])[1]]] : [r, n] } function pruneIntersections(t) { for (var e, r = 1; r < t.length; r += 1)e = pruneSegmentIntersection(t[r - 1], t[r]), t[r - 1] = e[0], t[r] = e[1]; return t.length > 1 && (e = pruneSegmentIntersection(t[t.length - 1], t[0]), t[t.length - 1] = e[0], t[0] = e[1]), t } function offsetSegmentSplit(t, e) { var r, n, s, a, o = t.inflectionPoints(); if (o.length === 0) return [offsetSegment(t, e)]; if (o.length === 1 || floatEqual(o[1], 1)) return r = (s = t.split(o[0]))[0], n = s[1], [offsetSegment(r, e), offsetSegment(n, e)]; r = (s = t.split(o[0]))[0]; var l = (o[1] - o[0]) / (1 - o[0]); return a = (s = s[1].split(l))[0], n = s[1], [offsetSegment(r, e), offsetSegment(a, e), offsetSegment(n, e)] } function OffsetPathModifier() { } function getFontProperties(t) { for (var e = t.fStyle ? t.fStyle.split(" ") : [], r = "normal", n = "normal", s = e.length, a = 0; a < s; a += 1)switch (e[a].toLowerCase()) { case "italic": n = "italic"; break; case "bold": r = "700"; break; case "black": r = "900"; break; case "medium": r = "500"; break; case "regular": case "normal": r = "400"; break; case "light": case "thin": r = "200" }return { style: n, weight: t.fWeight || r } } extendPrototype([ShapeModifier], RepeaterModifier), RepeaterModifier.prototype.initModifierProperties = function (t, e) { this.getValue = this.processKeys, this.c = PropertyFactory.getProp(t, e.c, 0, null, this), this.o = PropertyFactory.getProp(t, e.o, 0, null, this), this.tr = TransformPropertyFactory.getTransformProperty(t, e.tr, this), this.so = PropertyFactory.getProp(t, e.tr.so, 0, .01, this), this.eo = PropertyFactory.getProp(t, e.tr.eo, 0, .01, this), this.data = e, this.dynamicProperties.length || this.getValue(!0), this._isAnimated = !!this.dynamicProperties.length, this.pMatrix = new Matrix, this.rMatrix = new Matrix, this.sMatrix = new Matrix, this.tMatrix = new Matrix, this.matrix = new Matrix }, RepeaterModifier.prototype.applyTransforms = function (t, e, r, n, s, a) { var o = a ? -1 : 1, l = n.s.v[0] + (1 - n.s.v[0]) * (1 - s), p = n.s.v[1] + (1 - n.s.v[1]) * (1 - s); t.translate(n.p.v[0] * o * s, n.p.v[1] * o * s, n.p.v[2]), e.translate(-n.a.v[0], -n.a.v[1], n.a.v[2]), e.rotate(-n.r.v * o * s), e.translate(n.a.v[0], n.a.v[1], n.a.v[2]), r.translate(-n.a.v[0], -n.a.v[1], n.a.v[2]), r.scale(a ? 1 / l : l, a ? 1 / p : p), r.translate(n.a.v[0], n.a.v[1], n.a.v[2]) }, RepeaterModifier.prototype.init = function (t, e, r, n) { for (this.elem = t, this.arr = e, this.pos = r, this.elemsData = n, this._currentCopies = 0, this._elements = [], this._groups = [], this.frameId = -1, this.initDynamicPropertyContainer(t), this.initModifierProperties(t, e[r]); r > 0;)r -= 1, this._elements.unshift(e[r]); this.dynamicProperties.length ? this.k = !0 : this.getValue(!0) }, RepeaterModifier.prototype.resetElements = function (t) { var e, r = t.length; for (e = 0; e < r; e += 1)t[e]._processed = !1, t[e].ty === "gr" && this.resetElements(t[e].it) }, RepeaterModifier.prototype.cloneElements = function (t) { var e = JSON.parse(JSON.stringify(t)); return this.resetElements(e), e }, RepeaterModifier.prototype.changeGroupRender = function (t, e) { var r, n = t.length; for (r = 0; r < n; r += 1)t[r]._render = e, t[r].ty === "gr" && this.changeGroupRender(t[r].it, e) }, RepeaterModifier.prototype.processShapes = function (t) { var e, r, n, s, a, o = !1; if (this._mdf || t) { var l, p = Math.ceil(this.c.v); if (this._groups.length < p) { for (; this._groups.length < p;) { var y = { it: this.cloneElements(this._elements), ty: "gr" }; y.it.push({ a: { a: 0, ix: 1, k: [0, 0] }, nm: "Transform", o: { a: 0, ix: 7, k: 100 }, p: { a: 0, ix: 2, k: [0, 0] }, r: { a: 1, ix: 6, k: [{ s: 0, e: 0, t: 0 }, { s: 0, e: 0, t: 1 }] }, s: { a: 0, ix: 3, k: [100, 100] }, sa: { a: 0, ix: 5, k: 0 }, sk: { a: 0, ix: 4, k: 0 }, ty: "tr" }), this.arr.splice(0, 0, y), this._groups.splice(0, 0, y), this._currentCopies += 1 } this.elem.reloadShapes(), o = !0 } for (a = 0, n = 0; n <= this._groups.length - 1; n += 1) { if (l = a < p, this._groups[n]._render = l, this.changeGroupRender(this._groups[n].it, l), !l) { var h = this.elemsData[n].it, d = h[h.length - 1]; d.transform.op.v !== 0 ? (d.transform.op._mdf = !0, d.transform.op.v = 0) : d.transform.op._mdf = !1 } a += 1 } this._currentCopies = p; var f = this.o.v, g = f % 1, m = f > 0 ? Math.floor(f) : Math.ceil(f), c = this.pMatrix.props, u = this.rMatrix.props, v = this.sMatrix.props; this.pMatrix.reset(), this.rMatrix.reset(), this.sMatrix.reset(), this.tMatrix.reset(), this.matrix.reset(); var b, E, _ = 0; if (f > 0) { for (; _ < m;)this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, !1), _ += 1; g && (this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, g, !1), _ += g) } else if (f < 0) { for (; _ > m;)this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, !0), _ -= 1; g && (this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -g, !0), _ -= g) } for (n = this.data.m === 1 ? 0 : this._currentCopies - 1, s = this.data.m === 1 ? 1 : -1, a = this._currentCopies; a;) { if (E = (r = (e = this.elemsData[n].it)[e.length - 1].transform.mProps.v.props).length, e[e.length - 1].transform.mProps._mdf = !0, e[e.length - 1].transform.op._mdf = !0, e[e.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (n / (this._currentCopies - 1)), _ !== 0) { for ((n !== 0 && s === 1 || n !== this._currentCopies - 1 && s === -1) && this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, !1), this.matrix.transform(u[0], u[1], u[2], u[3], u[4], u[5], u[6], u[7], u[8], u[9], u[10], u[11], u[12], u[13], u[14], u[15]), this.matrix.transform(v[0], v[1], v[2], v[3], v[4], v[5], v[6], v[7], v[8], v[9], v[10], v[11], v[12], v[13], v[14], v[15]), this.matrix.transform(c[0], c[1], c[2], c[3], c[4], c[5], c[6], c[7], c[8], c[9], c[10], c[11], c[12], c[13], c[14], c[15]), b = 0; b < E; b += 1)r[b] = this.matrix.props[b]; this.matrix.reset() } else for (this.matrix.reset(), b = 0; b < E; b += 1)r[b] = this.matrix.props[b]; _ += 1, a -= 1, n += s } } else for (a = this._currentCopies, n = 0, s = 1; a;)r = (e = this.elemsData[n].it)[e.length - 1].transform.mProps.v.props, e[e.length - 1].transform.mProps._mdf = !1, e[e.length - 1].transform.op._mdf = !1, a -= 1, n += s; return o }, RepeaterModifier.prototype.addShape = function () { }, extendPrototype([ShapeModifier], RoundCornersModifier), RoundCornersModifier.prototype.initModifierProperties = function (t, e) { this.getValue = this.processKeys, this.rd = PropertyFactory.getProp(t, e.r, 0, null, this), this._isAnimated = !!this.rd.effectsSequence.length }, RoundCornersModifier.prototype.processPath = function (t, e) { var r, n = shapePool.newElement(); n.c = t.c; var s, a, o, l, p, y, h, d, f, g, m, c, u = t._length, v = 0; for (r = 0; r < u; r += 1)s = t.v[r], o = t.o[r], a = t.i[r], s[0] === o[0] && s[1] === o[1] && s[0] === a[0] && s[1] === a[1] ? r !== 0 && r !== u - 1 || t.c ? (l = r === 0 ? t.v[u - 1] : t.v[r - 1], y = (p = Math.sqrt(Math.pow(s[0] - l[0], 2) + Math.pow(s[1] - l[1], 2))) ? Math.min(p / 2, e) / p : 0, h = m = s[0] + (l[0] - s[0]) * y, d = c = s[1] - (s[1] - l[1]) * y, f = h - (h - s[0]) * roundCorner, g = d - (d - s[1]) * roundCorner, n.setTripleAt(h, d, f, g, m, c, v), v += 1, l = r === u - 1 ? t.v[0] : t.v[r + 1], y = (p = Math.sqrt(Math.pow(s[0] - l[0], 2) + Math.pow(s[1] - l[1], 2))) ? Math.min(p / 2, e) / p : 0, h = f = s[0] + (l[0] - s[0]) * y, d = g = s[1] + (l[1] - s[1]) * y, m = h - (h - s[0]) * roundCorner, c = d - (d - s[1]) * roundCorner, n.setTripleAt(h, d, f, g, m, c, v), v += 1) : (n.setTripleAt(s[0], s[1], o[0], o[1], a[0], a[1], v), v += 1) : (n.setTripleAt(t.v[r][0], t.v[r][1], t.o[r][0], t.o[r][1], t.i[r][0], t.i[r][1], v), v += 1); return n }, RoundCornersModifier.prototype.processShapes = function (t) { var e, r, n, s, a, o, l = this.shapes.length, p = this.rd.v; if (p !== 0) for (r = 0; r < l; r += 1) { if (o = (a = this.shapes[r]).localShapeCollection, a.shape._mdf || this._mdf || t) for (o.releaseShapes(), a.shape._mdf = !0, e = a.shape.paths.shapes, s = a.shape.paths._length, n = 0; n < s; n += 1)o.addShape(this.processPath(e[n], p)); a.shape.paths = a.localShapeCollection } this.dynamicProperties.length || (this._mdf = !1) }, PolynomialBezier.prototype.point = function (t) { return [((this.a[0] * t + this.b[0]) * t + this.c[0]) * t + this.d[0], ((this.a[1] * t + this.b[1]) * t + this.c[1]) * t + this.d[1]] }, PolynomialBezier.prototype.derivative = function (t) { return [(3 * t * this.a[0] + 2 * this.b[0]) * t + this.c[0], (3 * t * this.a[1] + 2 * this.b[1]) * t + this.c[1]] }, PolynomialBezier.prototype.tangentAngle = function (t) { var e = this.derivative(t); return Math.atan2(e[1], e[0]) }, PolynomialBezier.prototype.normalAngle = function (t) { var e = this.derivative(t); return Math.atan2(e[0], e[1]) }, PolynomialBezier.prototype.inflectionPoints = function () { var t = this.a[1] * this.b[0] - this.a[0] * this.b[1]; if (floatZero(t)) return []; var e = -.5 * (this.a[1] * this.c[0] - this.a[0] * this.c[1]) / t, r = e * e - 1 / 3 * (this.b[1] * this.c[0] - this.b[0] * this.c[1]) / t; if (r < 0) return []; var n = Math.sqrt(r); return floatZero(n) ? n > 0 && n < 1 ? [e] : [] : [e - n, e + n].filter(function (s) { return s > 0 && s < 1 }) }, PolynomialBezier.prototype.split = function (t) { if (t <= 0) return [singlePoint(this.points[0]), this]; if (t >= 1) return [this, singlePoint(this.points[this.points.length - 1])]; var e = lerpPoint(this.points[0], this.points[1], t), r = lerpPoint(this.points[1], this.points[2], t), n = lerpPoint(this.points[2], this.points[3], t), s = lerpPoint(e, r, t), a = lerpPoint(r, n, t), o = lerpPoint(s, a, t); return [new PolynomialBezier(this.points[0], e, s, o, !0), new PolynomialBezier(o, a, n, this.points[3], !0)] }, PolynomialBezier.prototype.bounds = function () { return { x: extrema(this, 0), y: extrema(this, 1) } }, PolynomialBezier.prototype.boundingBox = function () { var t = this.bounds(); return { left: t.x.min, right: t.x.max, top: t.y.min, bottom: t.y.max, width: t.x.max - t.x.min, height: t.y.max - t.y.min, cx: (t.x.max + t.x.min) / 2, cy: (t.y.max + t.y.min) / 2 } }, PolynomialBezier.prototype.intersections = function (t, e, r) { e === void 0 && (e = 2), r === void 0 && (r = 7); var n = []; return intersectsImpl(intersectData(this, 0, 1), intersectData(t, 0, 1), 0, e, n, r), n }, PolynomialBezier.shapeSegment = function (t, e) { var r = (e + 1) % t.length(); return new PolynomialBezier(t.v[e], t.o[e], t.i[r], t.v[r], !0) }, PolynomialBezier.shapeSegmentInverted = function (t, e) { var r = (e + 1) % t.length(); return new PolynomialBezier(t.v[r], t.i[r], t.o[e], t.v[e], !0) }, extendPrototype([ShapeModifier], ZigZagModifier), ZigZagModifier.prototype.initModifierProperties = function (t, e) { this.getValue = this.processKeys, this.amplitude = PropertyFactory.getProp(t, e.s, 0, null, this), this.frequency = PropertyFactory.getProp(t, e.r, 0, null, this), this.pointsType = PropertyFactory.getProp(t, e.pt, 0, null, this), this._isAnimated = this.amplitude.effectsSequence.length !== 0 || this.frequency.effectsSequence.length !== 0 || this.pointsType.effectsSequence.length !== 0 }, ZigZagModifier.prototype.processPath = function (t, e, r, n) { var s = t._length, a = shapePool.newElement(); if (a.c = t.c, t.c || (s -= 1), s === 0) return a; var o = -1, l = PolynomialBezier.shapeSegment(t, 0); zigZagCorner(a, t, 0, e, r, n, o); for (var p = 0; p < s; p += 1)o = zigZagSegment(a, l, e, r, n, -o), l = p !== s - 1 || t.c ? PolynomialBezier.shapeSegment(t, (p + 1) % s) : null, zigZagCorner(a, t, p + 1, e, r, n, o); return a }, ZigZagModifier.prototype.processShapes = function (t) { var e, r, n, s, a, o, l = this.shapes.length, p = this.amplitude.v, y = Math.max(0, Math.round(this.frequency.v)), h = this.pointsType.v; if (p !== 0) for (r = 0; r < l; r += 1) { if (o = (a = this.shapes[r]).localShapeCollection, a.shape._mdf || this._mdf || t) for (o.releaseShapes(), a.shape._mdf = !0, e = a.shape.paths.shapes, s = a.shape.paths._length, n = 0; n < s; n += 1)o.addShape(this.processPath(e[n], p, y, h)); a.shape.paths = a.localShapeCollection } this.dynamicProperties.length || (this._mdf = !1) }, extendPrototype([ShapeModifier], OffsetPathModifier), OffsetPathModifier.prototype.initModifierProperties = function (t, e) { this.getValue = this.processKeys, this.amount = PropertyFactory.getProp(t, e.a, 0, null, this), this.miterLimit = PropertyFactory.getProp(t, e.ml, 0, null, this), this.lineJoin = e.lj, this._isAnimated = this.amount.effectsSequence.length !== 0 }, OffsetPathModifier.prototype.processPath = function (t, e, r, n) { var s = shapePool.newElement(); s.c = t.c; var a, o, l, p = t.length(); t.c || (p -= 1); var y = []; for (a = 0; a < p; a += 1)l = PolynomialBezier.shapeSegment(t, a), y.push(offsetSegmentSplit(l, e)); if (!t.c) for (a = p - 1; a >= 0; a -= 1)l = PolynomialBezier.shapeSegmentInverted(t, a), y.push(offsetSegmentSplit(l, e)); y = pruneIntersections(y); var h = null, d = null; for (a = 0; a < y.length; a += 1) { var f = y[a]; for (d && (h = joinLines(s, d, f[0], r, n)), d = f[f.length - 1], o = 0; o < f.length; o += 1)l = f[o], h && pointEqual(l.points[0], h) ? s.setXYAt(l.points[1][0], l.points[1][1], "o", s.length() - 1) : s.setTripleAt(l.points[0][0], l.points[0][1], l.points[1][0], l.points[1][1], l.points[0][0], l.points[0][1], s.length()), s.setTripleAt(l.points[3][0], l.points[3][1], l.points[3][0], l.points[3][1], l.points[2][0], l.points[2][1], s.length()), h = l.points[3] } return y.length && joinLines(s, d, y[0][0], r, n), s }, OffsetPathModifier.prototype.processShapes = function (t) { var e, r, n, s, a, o, l = this.shapes.length, p = this.amount.v, y = this.miterLimit.v, h = this.lineJoin; if (p !== 0) for (r = 0; r < l; r += 1) { if (o = (a = this.shapes[r]).localShapeCollection, a.shape._mdf || this._mdf || t) for (o.releaseShapes(), a.shape._mdf = !0, e = a.shape.paths.shapes, s = a.shape.paths._length, n = 0; n < s; n += 1)o.addShape(this.processPath(e[n], p, h, y)); a.shape.paths = a.localShapeCollection } this.dynamicProperties.length || (this._mdf = !1) }; var FontManager = function () { var t = { w: 0, size: 0, shapes: [], data: { shapes: [] } }, e = []; e = e.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]); var r = 127988, n = ["d83cdffb", "d83cdffc", "d83cdffd", "d83cdffe", "d83cdfff"]; function s(h, d) { var f = createTag("span"); f.setAttribute("aria-hidden", !0), f.style.fontFamily = d; var g = createTag("span"); g.innerText = "giItT1WQy@!-/#", f.style.position = "absolute", f.style.left = "-10000px", f.style.top = "-10000px", f.style.fontSize = "300px", f.style.fontVariant = "normal", f.style.fontStyle = "normal", f.style.fontWeight = "normal", f.style.letterSpacing = "0", f.appendChild(g), document.body.appendChild(f); var m = g.offsetWidth; return g.style.fontFamily = function (c) { var u, v = c.split(","), b = v.length, E = []; for (u = 0; u < b; u += 1)v[u] !== "sans-serif" && v[u] !== "monospace" && E.push(v[u]); return E.join(",") }(h) + ", " + d, { node: g, w: m, parent: f } } function a(h, d) { var f, g = document.body && d ? "svg" : "canvas", m = getFontProperties(h); if (g === "svg") { var c = createNS("text"); c.style.fontSize = "100px", c.setAttribute("font-family", h.fFamily), c.setAttribute("font-style", m.style), c.setAttribute("font-weight", m.weight), c.textContent = "1", h.fClass ? (c.style.fontFamily = "inherit", c.setAttribute("class", h.fClass)) : c.style.fontFamily = h.fFamily, d.appendChild(c), f = c } else { var u = new OffscreenCanvas(500, 500).getContext("2d"); u.font = m.style + " " + m.weight + " 100px " + h.fFamily, f = u } return { measureText: function (v) { return g === "svg" ? (f.textContent = v, f.getComputedTextLength()) : f.measureText(v).width } } } function o(h) { var d = 0, f = h.charCodeAt(0); if (f >= 55296 && f <= 56319) { var g = h.charCodeAt(1); g >= 56320 && g <= 57343 && (d = 1024 * (f - 55296) + g - 56320 + 65536) } return d } function l(h) { var d = o(h); return d >= 127462 && d <= 127487 } var p = function () { this.fonts = [], this.chars = null, this.typekitLoaded = 0, this.isLoaded = !1, this._warned = !1, this.initTime = Date.now(), this.setIsLoadedBinded = this.setIsLoaded.bind(this), this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this) }; p.isModifier = function (h, d) { var f = h.toString(16) + d.toString(16); return n.indexOf(f) !== -1 }, p.isZeroWidthJoiner = function (h) { return h === 8205 }, p.isFlagEmoji = function (h) { return l(h.substr(0, 2)) && l(h.substr(2, 2)) }, p.isRegionalCode = l, p.isCombinedCharacter = function (h) { return e.indexOf(h) !== -1 }, p.isRegionalFlag = function (h, d) { var f = o(h.substr(d, 2)); if (f !== r) return !1; var g = 0; for (d += 2; g < 5;) { if ((f = o(h.substr(d, 2))) < 917601 || f > 917626) return !1; g += 1, d += 2 } return o(h.substr(d, 2)) === 917631 }, p.isVariationSelector = function (h) { return h === 65039 }, p.BLACK_FLAG_CODE_POINT = r; var y = { addChars: function (h) { if (h) { var d; this.chars || (this.chars = []); var f, g, m = h.length, c = this.chars.length; for (d = 0; d < m; d += 1) { for (f = 0, g = !1; f < c;)this.chars[f].style === h[d].style && this.chars[f].fFamily === h[d].fFamily && this.chars[f].ch === h[d].ch && (g = !0), f += 1; g || (this.chars.push(h[d]), c += 1) } } }, addFonts: function (h, d) { if (h) { if (this.chars) return this.isLoaded = !0, void (this.fonts = h.list); if (!document.body) return this.isLoaded = !0, h.list.forEach(function (T) { T.helper = a(T), T.cache = {} }), void (this.fonts = h.list); var f, g = h.list, m = g.length, c = m; for (f = 0; f < m; f += 1) { var u, v, b = !0; if (g[f].loaded = !1, g[f].monoCase = s(g[f].fFamily, "monospace"), g[f].sansCase = s(g[f].fFamily, "sans-serif"), g[f].fPath) { if (g[f].fOrigin === "p" || g[f].origin === 3) { if ((u = document.querySelectorAll('style[f-forigin="p"][f-family="' + g[f].fFamily + '"], style[f-origin="3"][f-family="' + g[f].fFamily + '"]')).length > 0 && (b = !1), b) { var E = createTag("style"); E.setAttribute("f-forigin", g[f].fOrigin), E.setAttribute("f-origin", g[f].origin), E.setAttribute("f-family", g[f].fFamily), E.type = "text/css", E.innerText = "@font-face {font-family: " + g[f].fFamily + "; font-style: normal; src: url('" + g[f].fPath + "');}", d.appendChild(E) } } else if (g[f].fOrigin === "g" || g[f].origin === 1) { for (u = document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'), v = 0; v < u.length; v += 1)u[v].href.indexOf(g[f].fPath) !== -1 && (b = !1); if (b) { var _ = createTag("link"); _.setAttribute("f-forigin", g[f].fOrigin), _.setAttribute("f-origin", g[f].origin), _.type = "text/css", _.rel = "stylesheet", _.href = g[f].fPath, document.body.appendChild(_) } } else if (g[f].fOrigin === "t" || g[f].origin === 2) { for (u = document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'), v = 0; v < u.length; v += 1)g[f].fPath === u[v].src && (b = !1); if (b) { var x = createTag("link"); x.setAttribute("f-forigin", g[f].fOrigin), x.setAttribute("f-origin", g[f].origin), x.setAttribute("rel", "stylesheet"), x.setAttribute("href", g[f].fPath), d.appendChild(x) } } } else g[f].loaded = !0, c -= 1; g[f].helper = a(g[f], d), g[f].cache = {}, this.fonts.push(g[f]) } c === 0 ? this.isLoaded = !0 : setTimeout(this.checkLoadedFonts.bind(this), 100) } else this.isLoaded = !0 }, getCharData: function (h, d, f) { for (var g = 0, m = this.chars.length; g < m;) { if (this.chars[g].ch === h && this.chars[g].style === d && this.chars[g].fFamily === f) return this.chars[g]; g += 1 } return (typeof h == "string" && h.charCodeAt(0) !== 13 || !h) && console && console.warn && !this._warned && (this._warned = !0, console.warn("Missing character from exported characters list: ", h, d, f)), t }, getFontByName: function (h) { for (var d = 0, f = this.fonts.length; d < f;) { if (this.fonts[d].fName === h) return this.fonts[d]; d += 1 } return this.fonts[0] }, measureText: function (h, d, f) { var g = this.getFontByName(d), m = h; if (!g.cache[m]) { var c = g.helper; if (h === " ") { var u = c.measureText("|" + h + "|"), v = c.measureText("||"); g.cache[m] = (u - v) / 100 } else g.cache[m] = c.measureText(h) / 100 } return g.cache[m] * f }, checkLoadedFonts: function () { var h, d, f, g = this.fonts.length, m = g; for (h = 0; h < g; h += 1)this.fonts[h].loaded ? m -= 1 : this.fonts[h].fOrigin === "n" || this.fonts[h].origin === 0 ? this.fonts[h].loaded = !0 : (d = this.fonts[h].monoCase.node, f = this.fonts[h].monoCase.w, d.offsetWidth !== f ? (m -= 1, this.fonts[h].loaded = !0) : (d = this.fonts[h].sansCase.node, f = this.fonts[h].sansCase.w, d.offsetWidth !== f && (m -= 1, this.fonts[h].loaded = !0)), this.fonts[h].loaded && (this.fonts[h].sansCase.parent.parentNode.removeChild(this.fonts[h].sansCase.parent), this.fonts[h].monoCase.parent.parentNode.removeChild(this.fonts[h].monoCase.parent))); m !== 0 && Date.now() - this.initTime < 5e3 ? setTimeout(this.checkLoadedFontsBinded, 20) : setTimeout(this.setIsLoadedBinded, 10) }, setIsLoaded: function () { this.isLoaded = !0 } }; return p.prototype = y, p }(); function SlotManager(t) { this.animationData = t } function slotFactory(t) { return new SlotManager(t) } function RenderableElement() { } SlotManager.prototype.getProp = function (t) { return this.animationData.slots && this.animationData.slots[t.sid] ? Object.assign(t, this.animationData.slots[t.sid].p) : t }, RenderableElement.prototype = { initRenderable: function () { this.isInRange = !1, this.hidden = !1, this.isTransparent = !1, this.renderableComponents = [] }, addRenderableComponent: function (t) { this.renderableComponents.indexOf(t) === -1 && this.renderableComponents.push(t) }, removeRenderableComponent: function (t) { this.renderableComponents.indexOf(t) !== -1 && this.renderableComponents.splice(this.renderableComponents.indexOf(t), 1) }, prepareRenderableFrame: function (t) { this.checkLayerLimits(t) }, checkTransparency: function () { this.finalTransform.mProp.o.v <= 0 ? !this.isTransparent && this.globalData.renderConfig.hideOnTransparent && (this.isTransparent = !0, this.hide()) : this.isTransparent && (this.isTransparent = !1, this.show()) }, checkLayerLimits: function (t) { this.data.ip - this.data.st <= t && this.data.op - this.data.st > t ? this.isInRange !== !0 && (this.globalData._mdf = !0, this._mdf = !0, this.isInRange = !0, this.show()) : this.isInRange !== !1 && (this.globalData._mdf = !0, this.isInRange = !1, this.hide()) }, renderRenderable: function () { var t, e = this.renderableComponents.length; for (t = 0; t < e; t += 1)this.renderableComponents[t].renderFrame(this._isFirstFrame) }, sourceRectAtTime: function () { return { top: 0, left: 0, width: 100, height: 100 } }, getLayerSize: function () { return this.data.ty === 5 ? { w: this.data.textData.width, h: this.data.textData.height } : { w: this.data.width, h: this.data.height } } }; var getBlendMode = (blendModeEnums = { 0: "source-over", 1: "multiply", 2: "screen", 3: "overlay", 4: "darken", 5: "lighten", 6: "color-dodge", 7: "color-burn", 8: "hard-light", 9: "soft-light", 10: "difference", 11: "exclusion", 12: "hue", 13: "saturation", 14: "color", 15: "luminosity" }, function (t) { return blendModeEnums[t] || "" }), blendModeEnums; function SliderEffect(t, e, r) { this.p = PropertyFactory.getProp(e, t.v, 0, 0, r) } function AngleEffect(t, e, r) { this.p = PropertyFactory.getProp(e, t.v, 0, 0, r) } function ColorEffect(t, e, r) { this.p = PropertyFactory.getProp(e, t.v, 1, 0, r) } function PointEffect(t, e, r) { this.p = PropertyFactory.getProp(e, t.v, 1, 0, r) } function LayerIndexEffect(t, e, r) { this.p = PropertyFactory.getProp(e, t.v, 0, 0, r) } function MaskIndexEffect(t, e, r) { this.p = PropertyFactory.getProp(e, t.v, 0, 0, r) } function CheckboxEffect(t, e, r) { this.p = PropertyFactory.getProp(e, t.v, 0, 0, r) } function NoValueEffect() { this.p = {} } function EffectsManager(t, e) { var r, n = t.ef || []; this.effectElements = []; var s, a = n.length; for (r = 0; r < a; r += 1)s = new GroupEffect(n[r], e), this.effectElements.push(s) } function GroupEffect(t, e) { this.init(t, e) } function BaseElement() { } function FrameElement() { } function FootageElement(t, e, r) { this.initFrame(), this.initRenderable(), this.assetData = e.getAssetData(t.refId), this.footageData = e.imageLoader.getAsset(this.assetData), this.initBaseData(t, e, r) } function AudioElement(t, e, r) { this.initFrame(), this.initRenderable(), this.assetData = e.getAssetData(t.refId), this.initBaseData(t, e, r), this._isPlaying = !1, this._canPlay = !1; var n = this.globalData.getAssetsPath(this.assetData); this.audio = this.globalData.audioController.createAudio(n), this._currentTime = 0, this.globalData.audioController.addAudio(this), this._volumeMultiplier = 1, this._volume = 1, this._previousVolume = null, this.tm = t.tm ? PropertyFactory.getProp(this, t.tm, 0, e.frameRate, this) : { _placeholder: !0 }, this.lv = PropertyFactory.getProp(this, t.au && t.au.lv ? t.au.lv : { k: [100] }, 1, .01, this) } function BaseRenderer() { } extendPrototype([DynamicPropertyContainer], GroupEffect), GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties, GroupEffect.prototype.init = function (t, e) { var r; this.data = t, this.effectElements = [], this.initDynamicPropertyContainer(e); var n, s = this.data.ef.length, a = this.data.ef; for (r = 0; r < s; r += 1) { switch (n = null, a[r].ty) { case 0: n = new SliderEffect(a[r], e, this); break; case 1: n = new AngleEffect(a[r], e, this); break; case 2: n = new ColorEffect(a[r], e, this); break; case 3: n = new PointEffect(a[r], e, this); break; case 4: case 7: n = new CheckboxEffect(a[r], e, this); break; case 10: n = new LayerIndexEffect(a[r], e, this); break; case 11: n = new MaskIndexEffect(a[r], e, this); break; case 5: n = new EffectsManager(a[r], e, this); break; default: n = new NoValueEffect(a[r], e, this) }n && this.effectElements.push(n) } }, BaseElement.prototype = { checkMasks: function () { if (!this.data.hasMask) return !1; for (var t = 0, e = this.data.masksProperties.length; t < e;) { if (this.data.masksProperties[t].mode !== "n" && this.data.masksProperties[t].cl !== !1) return !0; t += 1 } return !1 }, initExpressions: function () { var t = getExpressionInterfaces(); if (t) { var e = t("layer"), r = t("effects"), n = t("shape"), s = t("text"), a = t("comp"); this.layerInterface = e(this), this.data.hasMask && this.maskManager && this.layerInterface.registerMaskInterface(this.maskManager); var o = r.createEffectsInterface(this, this.layerInterface); this.layerInterface.registerEffectsInterface(o), this.data.ty === 0 || this.data.xt ? this.compInterface = a(this) : this.data.ty === 4 ? (this.layerInterface.shapeInterface = n(this.shapesData, this.itemsData, this.layerInterface), this.layerInterface.content = this.layerInterface.shapeInterface) : this.data.ty === 5 && (this.layerInterface.textInterface = s(this), this.layerInterface.text = this.layerInterface.textInterface) } }, setBlendMode: function () { var t = getBlendMode(this.data.bm); (this.baseElement || this.layerElement).style["mix-blend-mode"] = t }, initBaseData: function (t, e, r) { this.globalData = e, this.comp = r, this.data = t, this.layerId = createElementID(), this.data.sr || (this.data.sr = 1), this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties) }, getType: function () { return this.type }, sourceRectAtTime: function () { } }, FrameElement.prototype = { initFrame: function () { this._isFirstFrame = !1, this.dynamicProperties = [], this._mdf = !1 }, prepareProperties: function (t, e) { var r, n = this.dynamicProperties.length; for (r = 0; r < n; r += 1)(e || this._isParent && this.dynamicProperties[r].propType === "transform") && (this.dynamicProperties[r].getValue(), this.dynamicProperties[r]._mdf && (this.globalData._mdf = !0, this._mdf = !0)) }, addDynamicProperty: function (t) { this.dynamicProperties.indexOf(t) === -1 && this.dynamicProperties.push(t) } }, FootageElement.prototype.prepareFrame = function () { }, extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement), FootageElement.prototype.getBaseElement = function () { return null }, FootageElement.prototype.renderFrame = function () { }, FootageElement.prototype.destroy = function () { }, FootageElement.prototype.initExpressions = function () { var t = getExpressionInterfaces(); if (t) { var e = t("footage"); this.layerInterface = e(this) } }, FootageElement.prototype.getFootageData = function () { return this.footageData }, AudioElement.prototype.prepareFrame = function (t) { if (this.prepareRenderableFrame(t, !0), this.prepareProperties(t, !0), this.tm._placeholder) this._currentTime = t / this.data.sr; else { var e = this.tm.v; this._currentTime = e } this._volume = this.lv.v[0]; var r = this._volume * this._volumeMultiplier; this._previousVolume !== r && (this._previousVolume = r, this.audio.volume(r)) }, extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement), AudioElement.prototype.renderFrame = function () { this.isInRange && this._canPlay && (this._isPlaying ? (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > .1) && this.audio.seek(this._currentTime / this.globalData.frameRate) : (this.audio.play(), this.audio.seek(this._currentTime / this.globalData.frameRate), this._isPlaying = !0)) }, AudioElement.prototype.show = function () { }, AudioElement.prototype.hide = function () { this.audio.pause(), this._isPlaying = !1 }, AudioElement.prototype.pause = function () { this.audio.pause(), this._isPlaying = !1, this._canPlay = !1 }, AudioElement.prototype.resume = function () { this._canPlay = !0 }, AudioElement.prototype.setRate = function (t) { this.audio.rate(t) }, AudioElement.prototype.volume = function (t) { this._volumeMultiplier = t, this._previousVolume = t * this._volume, this.audio.volume(this._previousVolume) }, AudioElement.prototype.getBaseElement = function () { return null }, AudioElement.prototype.destroy = function () { }, AudioElement.prototype.sourceRectAtTime = function () { }, AudioElement.prototype.initExpressions = function () { }, BaseRenderer.prototype.checkLayers = function (t) { var e, r, n = this.layers.length; for (this.completeLayers = !0, e = n - 1; e >= 0; e -= 1)this.elements[e] || (r = this.layers[e]).ip - r.st <= t - this.layers[e].st && r.op - r.st > t - this.layers[e].st && this.buildItem(e), this.completeLayers = !!this.elements[e] && this.completeLayers; this.checkPendingElements() }, BaseRenderer.prototype.createItem = function (t) { switch (t.ty) { case 2: return this.createImage(t); case 0: return this.createComp(t); case 1: return this.createSolid(t); case 3: default: return this.createNull(t); case 4: return this.createShape(t); case 5: return this.createText(t); case 6: return this.createAudio(t); case 13: return this.createCamera(t); case 15: return this.createFootage(t) } }, BaseRenderer.prototype.createCamera = function () { throw new Error("You're using a 3d camera. Try the html renderer.") }, BaseRenderer.prototype.createAudio = function (t) { return new AudioElement(t, this.globalData, this) }, BaseRenderer.prototype.createFootage = function (t) { return new FootageElement(t, this.globalData, this) }, BaseRenderer.prototype.buildAllItems = function () { var t, e = this.layers.length; for (t = 0; t < e; t += 1)this.buildItem(t); this.checkPendingElements() }, BaseRenderer.prototype.includeLayers = function (t) { var e; this.completeLayers = !1; var r, n = t.length, s = this.layers.length; for (e = 0; e < n; e += 1)for (r = 0; r < s;) { if (this.layers[r].id === t[e].id) { this.layers[r] = t[e]; break } r += 1 } }, BaseRenderer.prototype.setProjectInterface = function (t) { this.globalData.projectInterface = t }, BaseRenderer.prototype.initItems = function () { this.globalData.progressiveLoad || this.buildAllItems() }, BaseRenderer.prototype.buildElementParenting = function (t, e, r) { for (var n = this.elements, s = this.layers, a = 0, o = s.length; a < o;)s[a].ind == e && (n[a] && n[a] !== !0 ? (r.push(n[a]), n[a].setAsParent(), s[a].parent !== void 0 ? this.buildElementParenting(t, s[a].parent, r) : t.setHierarchy(r)) : (this.buildItem(a), this.addPendingElement(t))), a += 1 }, BaseRenderer.prototype.addPendingElement = function (t) { this.pendingElements.push(t) }, BaseRenderer.prototype.searchExtraCompositions = function (t) { var e, r = t.length; for (e = 0; e < r; e += 1)if (t[e].xt) { var n = this.createComp(t[e]); n.initExpressions(), this.globalData.projectInterface.registerComposition(n) } }, BaseRenderer.prototype.getElementById = function (t) { var e, r = this.elements.length; for (e = 0; e < r; e += 1)if (this.elements[e].data.ind === t) return this.elements[e]; return null }, BaseRenderer.prototype.getElementByPath = function (t) { var e, r = t.shift(); if (typeof r == "number") e = this.elements[r]; else { var n, s = this.elements.length; for (n = 0; n < s; n += 1)if (this.elements[n].data.nm === r) { e = this.elements[n]; break } } return t.length === 0 ? e : e.getElementByPath(t) }, BaseRenderer.prototype.setupGlobalData = function (t, e) { this.globalData.fontManager = new FontManager, this.globalData.slotManager = slotFactory(t), this.globalData.fontManager.addChars(t.chars), this.globalData.fontManager.addFonts(t.fonts, e), this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem), this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem), this.globalData.imageLoader = this.animationItem.imagePreloader, this.globalData.audioController = this.animationItem.audioController, this.globalData.frameId = 0, this.globalData.frameRate = t.fr, this.globalData.nm = t.nm, this.globalData.compSize = { w: t.w, h: t.h } }; var effectTypes = { TRANSFORM_EFFECT: "transformEFfect" }; function TransformElement() { } function MaskElement(t, e, r) { this.data = t, this.element = e, this.globalData = r, this.storedData = [], this.masksProperties = this.data.masksProperties || [], this.maskElement = null; var n, s, a = this.globalData.defs, o = this.masksProperties ? this.masksProperties.length : 0; this.viewData = createSizedArray(o), this.solidPath = ""; var l, p, y, h, d, f, g = this.masksProperties, m = 0, c = [], u = createElementID(), v = "clipPath", b = "clip-path"; for (n = 0; n < o; n += 1)if ((g[n].mode !== "a" && g[n].mode !== "n" || g[n].inv || g[n].o.k !== 100 || g[n].o.x) && (v = "mask", b = "mask"), g[n].mode !== "s" && g[n].mode !== "i" || m !== 0 ? y = null : ((y = createNS("rect")).setAttribute("fill", "#ffffff"), y.setAttribute("width", this.element.comp.data.w || 0), y.setAttribute("height", this.element.comp.data.h || 0), c.push(y)), s = createNS("path"), g[n].mode === "n") this.viewData[n] = { op: PropertyFactory.getProp(this.element, g[n].o, 0, .01, this.element), prop: ShapePropertyFactory.getShapeProp(this.element, g[n], 3), elem: s, lastPath: "" }, a.appendChild(s); else { var E; if (m += 1, s.setAttribute("fill", g[n].mode === "s" ? "#000000" : "#ffffff"), s.setAttribute("clip-rule", "nonzero"), g[n].x.k !== 0 ? (v = "mask", b = "mask", f = PropertyFactory.getProp(this.element, g[n].x, 0, null, this.element), E = createElementID(), (h = createNS("filter")).setAttribute("id", E), (d = createNS("feMorphology")).setAttribute("operator", "erode"), d.setAttribute("in", "SourceGraphic"), d.setAttribute("radius", "0"), h.appendChild(d), a.appendChild(h), s.setAttribute("stroke", g[n].mode === "s" ? "#000000" : "#ffffff")) : (d = null, f = null), this.storedData[n] = { elem: s, x: f, expan: d, lastPath: "", lastOperator: "", filterId: E, lastRadius: 0 }, g[n].mode === "i") { p = c.length; var _ = createNS("g"); for (l = 0; l < p; l += 1)_.appendChild(c[l]); var x = createNS("mask"); x.setAttribute("mask-type", "alpha"), x.setAttribute("id", u + "_" + m), x.appendChild(s), a.appendChild(x), _.setAttribute("mask", "url(" + getLocationHref() + "#" + u + "_" + m + ")"), c.length = 0, c.push(_) } else c.push(s); g[n].inv && !this.solidPath && (this.solidPath = this.createLayerSolidPath()), this.viewData[n] = { elem: s, lastPath: "", op: PropertyFactory.getProp(this.element, g[n].o, 0, .01, this.element), prop: ShapePropertyFactory.getShapeProp(this.element, g[n], 3), invRect: y }, this.viewData[n].prop.k || this.drawPath(g[n], this.viewData[n].prop.v, this.viewData[n]) } for (this.maskElement = createNS(v), o = c.length, n = 0; n < o; n += 1)this.maskElement.appendChild(c[n]); m > 0 && (this.maskElement.setAttribute("id", u), this.element.maskedElement.setAttribute(b, "url(" + getLocationHref() + "#" + u + ")"), a.appendChild(this.maskElement)), this.viewData.length && this.element.addRenderableComponent(this) } TransformElement.prototype = { initTransform: function () { var t = new Matrix; this.finalTransform = { mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : { o: 0 }, _matMdf: !1, _localMatMdf: !1, _opMdf: !1, mat: t, localMat: t, localOpacity: 1 }, this.data.ao && (this.finalTransform.mProp.autoOriented = !0), this.data.ty }, renderTransform: function () { if (this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame, this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame, this.hierarchy) { var t, e = this.finalTransform.mat, r = 0, n = this.hierarchy.length; if (!this.finalTransform._matMdf) for (; r < n;) { if (this.hierarchy[r].finalTransform.mProp._mdf) { this.finalTransform._matMdf = !0; break } r += 1 } if (this.finalTransform._matMdf) for (t = this.finalTransform.mProp.v.props, e.cloneFromProps(t), r = 0; r < n; r += 1)e.multiply(this.hierarchy[r].finalTransform.mProp.v) } this.finalTransform._matMdf && (this.finalTransform._localMatMdf = this.finalTransform._matMdf), this.finalTransform._opMdf && (this.finalTransform.localOpacity = this.finalTransform.mProp.o.v) }, renderLocalTransform: function () { if (this.localTransforms) { var t = 0, e = this.localTransforms.length; if (this.finalTransform._localMatMdf = this.finalTransform._matMdf, !this.finalTransform._localMatMdf || !this.finalTransform._opMdf) for (; t < e;)this.localTransforms[t]._mdf && (this.finalTransform._localMatMdf = !0), this.localTransforms[t]._opMdf && !this.finalTransform._opMdf && (this.finalTransform.localOpacity = this.finalTransform.mProp.o.v, this.finalTransform._opMdf = !0), t += 1; if (this.finalTransform._localMatMdf) { var r = this.finalTransform.localMat; for (this.localTransforms[0].matrix.clone(r), t = 1; t < e; t += 1) { var n = this.localTransforms[t].matrix; r.multiply(n) } r.multiply(this.finalTransform.mat) } if (this.finalTransform._opMdf) { var s = this.finalTransform.localOpacity; for (t = 0; t < e; t += 1)s *= .01 * this.localTransforms[t].opacity; this.finalTransform.localOpacity = s } } }, searchEffectTransforms: function () { if (this.renderableEffectsManager) { var t = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT); if (t.length) { this.localTransforms = [], this.finalTransform.localMat = new Matrix; var e = 0, r = t.length; for (e = 0; e < r; e += 1)this.localTransforms.push(t[e]) } } }, globalToLocal: function (t) { var e = []; e.push(this.finalTransform); for (var r, n = !0, s = this.comp; n;)s.finalTransform ? (s.data.hasMask && e.splice(0, 0, s.finalTransform), s = s.comp) : n = !1; var a, o = e.length; for (r = 0; r < o; r += 1)a = e[r].mat.applyToPointArray(0, 0, 0), t = [t[0] - a[0], t[1] - a[1], 0]; return t }, mHelper: new Matrix }, MaskElement.prototype.getMaskProperty = function (t) { return this.viewData[t].prop }, MaskElement.prototype.renderFrame = function (t) { var e, r = this.element.finalTransform.mat, n = this.masksProperties.length; for (e = 0; e < n; e += 1)if ((this.viewData[e].prop._mdf || t) && this.drawPath(this.masksProperties[e], this.viewData[e].prop.v, this.viewData[e]), (this.viewData[e].op._mdf || t) && this.viewData[e].elem.setAttribute("fill-opacity", this.viewData[e].op.v), this.masksProperties[e].mode !== "n" && (this.viewData[e].invRect && (this.element.finalTransform.mProp._mdf || t) && this.viewData[e].invRect.setAttribute("transform", r.getInverseMatrix().to2dCSS()), this.storedData[e].x && (this.storedData[e].x._mdf || t))) { var s = this.storedData[e].expan; this.storedData[e].x.v < 0 ? (this.storedData[e].lastOperator !== "erode" && (this.storedData[e].lastOperator = "erode", this.storedData[e].elem.setAttribute("filter", "url(" + getLocationHref() + "#" + this.storedData[e].filterId + ")")), s.setAttribute("radius", -this.storedData[e].x.v)) : (this.storedData[e].lastOperator !== "dilate" && (this.storedData[e].lastOperator = "dilate", this.storedData[e].elem.setAttribute("filter", null)), this.storedData[e].elem.setAttribute("stroke-width", 2 * this.storedData[e].x.v)) } }, MaskElement.prototype.getMaskelement = function () { return this.maskElement }, MaskElement.prototype.createLayerSolidPath = function () { var t = "M0,0 "; return t += " h" + this.globalData.compSize.w, t += " v" + this.globalData.compSize.h, t += " h-" + this.globalData.compSize.w, t += " v-" + this.globalData.compSize.h + " " }, MaskElement.prototype.drawPath = function (t, e, r) { var n, s, a = " M" + e.v[0][0] + "," + e.v[0][1]; for (s = e._length, n = 1; n < s; n += 1)a += " C" + e.o[n - 1][0] + "," + e.o[n - 1][1] + " " + e.i[n][0] + "," + e.i[n][1] + " " + e.v[n][0] + "," + e.v[n][1]; if (e.c && s > 1 && (a += " C" + e.o[n - 1][0] + "," + e.o[n - 1][1] + " " + e.i[0][0] + "," + e.i[0][1] + " " + e.v[0][0] + "," + e.v[0][1]), r.lastPath !== a) { var o = ""; r.elem && (e.c && (o = t.inv ? this.solidPath + a : a), r.elem.setAttribute("d", o)), r.lastPath = a } }, MaskElement.prototype.destroy = function () { this.element = null, this.globalData = null, this.maskElement = null, this.data = null, this.masksProperties = null }; var filtersFactory = function () { var t = { createFilter: function (e, r) { var n = createNS("filter"); return n.setAttribute("id", e), r !== !0 && (n.setAttribute("filterUnits", "objectBoundingBox"), n.setAttribute("x", "0%"), n.setAttribute("y", "0%"), n.setAttribute("width", "100%"), n.setAttribute("height", "100%")), n }, createAlphaToLuminanceFilter: function () { var e = createNS("feColorMatrix"); return e.setAttribute("type", "matrix"), e.setAttribute("color-interpolation-filters", "sRGB"), e.setAttribute("values", "0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"), e } }; return t }(), featureSupport = function () { var t = { maskType: !0, svgLumaHidden: !0, offscreenCanvas: typeof OffscreenCanvas < "u" }; return (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\/\d./i.test(navigator.userAgent)) && (t.maskType = !1), /firefox/i.test(navigator.userAgent) && (t.svgLumaHidden = !1), t }(), registeredEffects$1 = {}, idPrefix = "filter_result_"; function SVGEffects(t) { var e, r, n = "SourceGraphic", s = t.data.ef ? t.data.ef.length : 0, a = createElementID(), o = filtersFactory.createFilter(a, !0), l = 0; for (this.filters = [], e = 0; e < s; e += 1) { r = null; var p = t.data.ef[e].ty; registeredEffects$1[p] && (r = new registeredEffects$1[p].effect(o, t.effectsManager.effectElements[e], t, idPrefix + l, n), n = idPrefix + l, registeredEffects$1[p].countsAsEffect && (l += 1)), r && this.filters.push(r) } l && (t.globalData.defs.appendChild(o), t.layerElement.setAttribute("filter", "url(" + getLocationHref() + "#" + a + ")")), this.filters.length && t.addRenderableComponent(this) } function registerEffect$1(t, e, r) { registeredEffects$1[t] = { effect: e, countsAsEffect: r } } function SVGBaseElement() { } function HierarchyElement() { } function RenderableDOMElement() { } function IImageElement(t, e, r) { this.assetData = e.getAssetData(t.refId), this.assetData && this.assetData.sid && (this.assetData = e.slotManager.getProp(this.assetData)), this.initElement(t, e, r), this.sourceRect = { top: 0, left: 0, width: this.assetData.w, height: this.assetData.h } } function ProcessedElement(t, e) { this.elem = t, this.pos = e } function IShapeElement() { } SVGEffects.prototype.renderFrame = function (t) { var e, r = this.filters.length; for (e = 0; e < r; e += 1)this.filters[e].renderFrame(t) }, SVGEffects.prototype.getEffects = function (t) { var e, r = this.filters.length, n = []; for (e = 0; e < r; e += 1)this.filters[e].type === t && n.push(this.filters[e]); return n }, SVGBaseElement.prototype = { initRendererElement: function () { this.layerElement = createNS("g") }, createContainerElements: function () { this.matteElement = createNS("g"), this.transformedElement = this.layerElement, this.maskedElement = this.layerElement, this._sizeChanged = !1; var t = null; if (this.data.td) { this.matteMasks = {}; var e = createNS("g"); e.setAttribute("id", this.layerId), e.appendChild(this.layerElement), t = e, this.globalData.defs.appendChild(e) } else this.data.tt ? (this.matteElement.appendChild(this.layerElement), t = this.matteElement, this.baseElement = this.matteElement) : this.baseElement = this.layerElement; if (this.data.ln && this.layerElement.setAttribute("id", this.data.ln), this.data.cl && this.layerElement.setAttribute("class", this.data.cl), this.data.ty === 0 && !this.data.hd) { var r = createNS("clipPath"), n = createNS("path"); n.setAttribute("d", "M0,0 L" + this.data.w + ",0 L" + this.data.w + "," + this.data.h + " L0," + this.data.h + "z"); var s = createElementID(); if (r.setAttribute("id", s), r.appendChild(n), this.globalData.defs.appendChild(r), this.checkMasks()) { var a = createNS("g"); a.setAttribute("clip-path", "url(" + getLocationHref() + "#" + s + ")"), a.appendChild(this.layerElement), this.transformedElement = a, t ? t.appendChild(this.transformedElement) : this.baseElement = this.transformedElement } else this.layerElement.setAttribute("clip-path", "url(" + getLocationHref() + "#" + s + ")") } this.data.bm !== 0 && this.setBlendMode() }, renderElement: function () { this.finalTransform._localMatMdf && this.transformedElement.setAttribute("transform", this.finalTransform.localMat.to2dCSS()), this.finalTransform._opMdf && this.transformedElement.setAttribute("opacity", this.finalTransform.localOpacity) }, destroyBaseElement: function () { this.layerElement = null, this.matteElement = null, this.maskManager.destroy() }, getBaseElement: function () { return this.data.hd ? null : this.baseElement }, createRenderableComponents: function () { this.maskManager = new MaskElement(this.data, this, this.globalData), this.renderableEffectsManager = new SVGEffects(this), this.searchEffectTransforms() }, getMatte: function (t) { if (this.matteMasks || (this.matteMasks = {}), !this.matteMasks[t]) { var e, r, n, s, a = this.layerId + "_" + t; if (t === 1 || t === 3) { var o = createNS("mask"); o.setAttribute("id", a), o.setAttribute("mask-type", t === 3 ? "luminance" : "alpha"), (n = createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink", "href", "#" + this.layerId), o.appendChild(n), this.globalData.defs.appendChild(o), featureSupport.maskType || t !== 1 || (o.setAttribute("mask-type", "luminance"), e = createElementID(), r = filtersFactory.createFilter(e), this.globalData.defs.appendChild(r), r.appendChild(filtersFactory.createAlphaToLuminanceFilter()), (s = createNS("g")).appendChild(n), o.appendChild(s), s.setAttribute("filter", "url(" + getLocationHref() + "#" + e + ")")) } else if (t === 2) { var l = createNS("mask"); l.setAttribute("id", a), l.setAttribute("mask-type", "alpha"); var p = createNS("g"); l.appendChild(p), e = createElementID(), r = filtersFactory.createFilter(e); var y = createNS("feComponentTransfer"); y.setAttribute("in", "SourceGraphic"), r.appendChild(y); var h = createNS("feFuncA"); h.setAttribute("type", "table"), h.setAttribute("tableValues", "1.0 0.0"), y.appendChild(h), this.globalData.defs.appendChild(r); var d = createNS("rect"); d.setAttribute("width", this.comp.data.w), d.setAttribute("height", this.comp.data.h), d.setAttribute("x", "0"), d.setAttribute("y", "0"), d.setAttribute("fill", "#ffffff"), d.setAttribute("opacity", "0"), p.setAttribute("filter", "url(" + getLocationHref() + "#" + e + ")"), p.appendChild(d), (n = createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink", "href", "#" + this.layerId), p.appendChild(n), featureSupport.maskType || (l.setAttribute("mask-type", "luminance"), r.appendChild(filtersFactory.createAlphaToLuminanceFilter()), s = createNS("g"), p.appendChild(d), s.appendChild(this.layerElement), p.appendChild(s)), this.globalData.defs.appendChild(l) } this.matteMasks[t] = a } return this.matteMasks[t] }, setMatte: function (t) { this.matteElement && this.matteElement.setAttribute("mask", "url(" + getLocationHref() + "#" + t + ")") } }, HierarchyElement.prototype = { initHierarchy: function () { this.hierarchy = [], this._isParent = !1, this.checkParenting() }, setHierarchy: function (t) { this.hierarchy = t }, setAsParent: function () { this._isParent = !0 }, checkParenting: function () { this.data.parent !== void 0 && this.comp.buildElementParenting(this, this.data.parent, []) } }, extendPrototype([RenderableElement, createProxyFunction({ initElement: function (t, e, r) { this.initFrame(), this.initBaseData(t, e, r), this.initTransform(t, e, r), this.initHierarchy(), this.initRenderable(), this.initRendererElement(), this.createContainerElements(), this.createRenderableComponents(), this.createContent(), this.hide() }, hide: function () { this.hidden || this.isInRange && !this.isTransparent || ((this.baseElement || this.layerElement).style.display = "none", this.hidden = !0) }, show: function () { this.isInRange && !this.isTransparent && (this.data.hd || ((this.baseElement || this.layerElement).style.display = "block"), this.hidden = !1, this._isFirstFrame = !0) }, renderFrame: function () { this.data.hd || this.hidden || (this.renderTransform(), this.renderRenderable(), this.renderLocalTransform(), this.renderElement(), this.renderInnerContent(), this._isFirstFrame && (this._isFirstFrame = !1)) }, renderInnerContent: function () { }, prepareFrame: function (t) { this._mdf = !1, this.prepareRenderableFrame(t), this.prepareProperties(t, this.isInRange), this.checkTransparency() }, destroy: function () { this.innerElem = null, this.destroyBaseElement() } })], RenderableDOMElement), extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement), IImageElement.prototype.createContent = function () { var t = this.globalData.getAssetsPath(this.assetData); this.innerElem = createNS("image"), this.innerElem.setAttribute("width", this.assetData.w + "px"), this.innerElem.setAttribute("height", this.assetData.h + "px"), this.innerElem.setAttribute("preserveAspectRatio", this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio), this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink", "href", t), this.layerElement.appendChild(this.innerElem) }, IImageElement.prototype.sourceRectAtTime = function () { return this.sourceRect }, IShapeElement.prototype = { addShapeToModifiers: function (t) { var e, r = this.shapeModifiers.length; for (e = 0; e < r; e += 1)this.shapeModifiers[e].addShape(t) }, isShapeInAnimatedModifiers: function (t) { for (var e = this.shapeModifiers.length; 0 < e;)if (this.shapeModifiers[0].isAnimatedWithShape(t)) return !0; return !1 }, renderModifiers: function () { if (this.shapeModifiers.length) { var t, e = this.shapes.length; for (t = 0; t < e; t += 1)this.shapes[t].sh.reset(); for (t = (e = this.shapeModifiers.length) - 1; t >= 0 && !this.shapeModifiers[t].processShapes(this._isFirstFrame); t -= 1); } }, searchProcessedElement: function (t) { for (var e = this.processedElements, r = 0, n = e.length; r < n;) { if (e[r].elem === t) return e[r].pos; r += 1 } return 0 }, addProcessedElement: function (t, e) { for (var r = this.processedElements, n = r.length; n;)if (r[n -= 1].elem === t) return void (r[n].pos = e); r.push(new ProcessedElement(t, e)) }, prepareFrame: function (t) { this.prepareRenderableFrame(t), this.prepareProperties(t, this.isInRange) } }; var lineCapEnum = { 1: "butt", 2: "round", 3: "square" }, lineJoinEnum = { 1: "miter", 2: "round", 3: "bevel" }; function SVGShapeData(t, e, r) { this.caches = [], this.styles = [], this.transformers = t, this.lStr = "", this.sh = r, this.lvl = e, this._isAnimated = !!r.k; for (var n = 0, s = t.length; n < s;) { if (t[n].mProps.dynamicProperties.length) { this._isAnimated = !0; break } n += 1 } } function SVGStyleData(t, e) { this.data = t, this.type = t.ty, this.d = "", this.lvl = e, this._mdf = !1, this.closed = t.hd === !0, this.pElem = createNS("path"), this.msElem = null } function DashProperty(t, e, r, n) { var s; this.elem = t, this.frameId = -1, this.dataProps = createSizedArray(e.length), this.renderer = r, this.k = !1, this.dashStr = "", this.dashArray = createTypedArray("float32", e.length ? e.length - 1 : 0), this.dashoffset = createTypedArray("float32", 1), this.initDynamicPropertyContainer(n); var a, o = e.length || 0; for (s = 0; s < o; s += 1)a = PropertyFactory.getProp(t, e[s].v, 0, 0, this), this.k = a.k || this.k, this.dataProps[s] = { n: e[s].n, p: a }; this.k || this.getValue(!0), this._isAnimated = this.k } function SVGStrokeStyleData(t, e, r) { this.initDynamicPropertyContainer(t), this.getValue = this.iterateDynamicProperties, this.o = PropertyFactory.getProp(t, e.o, 0, .01, this), this.w = PropertyFactory.getProp(t, e.w, 0, null, this), this.d = new DashProperty(t, e.d || {}, "svg", this), this.c = PropertyFactory.getProp(t, e.c, 1, 255, this), this.style = r, this._isAnimated = !!this._isAnimated } function SVGFillStyleData(t, e, r) { this.initDynamicPropertyContainer(t), this.getValue = this.iterateDynamicProperties, this.o = PropertyFactory.getProp(t, e.o, 0, .01, this), this.c = PropertyFactory.getProp(t, e.c, 1, 255, this), this.style = r } function SVGNoStyleData(t, e, r) { this.initDynamicPropertyContainer(t), this.getValue = this.iterateDynamicProperties, this.style = r } function GradientProperty(t, e, r) { this.data = e, this.c = createTypedArray("uint8c", 4 * e.p); var n = e.k.k[0].s ? e.k.k[0].s.length - 4 * e.p : e.k.k.length - 4 * e.p; this.o = createTypedArray("float32", n), this._cmdf = !1, this._omdf = !1, this._collapsable = this.checkCollapsable(), this._hasOpacity = n, this.initDynamicPropertyContainer(r), this.prop = PropertyFactory.getProp(t, e.k, 1, null, this), this.k = this.prop.k, this.getValue(!0) } function SVGGradientFillStyleData(t, e, r) { this.initDynamicPropertyContainer(t), this.getValue = this.iterateDynamicProperties, this.initGradientData(t, e, r) } function SVGGradientStrokeStyleData(t, e, r) { this.initDynamicPropertyContainer(t), this.getValue = this.iterateDynamicProperties, this.w = PropertyFactory.getProp(t, e.w, 0, null, this), this.d = new DashProperty(t, e.d || {}, "svg", this), this.initGradientData(t, e, r), this._isAnimated = !!this._isAnimated } function ShapeGroupData() { this.it = [], this.prevViewData = [], this.gr = createNS("g") } function SVGTransformData(t, e, r) { this.transform = { mProps: t, op: e, container: r }, this.elements = [], this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length } SVGShapeData.prototype.setAsAnimated = function () { this._isAnimated = !0 }, SVGStyleData.prototype.reset = function () { this.d = "", this._mdf = !1 }, DashProperty.prototype.getValue = function (t) { if ((this.elem.globalData.frameId !== this.frameId || t) && (this.frameId = this.elem.globalData.frameId, this.iterateDynamicProperties(), this._mdf = this._mdf || t, this._mdf)) { var e = 0, r = this.dataProps.length; for (this.renderer === "svg" && (this.dashStr = ""), e = 0; e < r; e += 1)this.dataProps[e].n !== "o" ? this.renderer === "svg" ? this.dashStr += " " + this.dataProps[e].p.v : this.dashArray[e] = this.dataProps[e].p.v : this.dashoffset[0] = this.dataProps[e].p.v } }, extendPrototype([DynamicPropertyContainer], DashProperty), extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData), extendPrototype([DynamicPropertyContainer], SVGFillStyleData), extendPrototype([DynamicPropertyContainer], SVGNoStyleData), GradientProperty.prototype.comparePoints = function (t, e) { for (var r = 0, n = this.o.length / 2; r < n;) { if (Math.abs(t[4 * r] - t[4 * e + 2 * r]) > .01) return !1; r += 1 } return !0 }, GradientProperty.prototype.checkCollapsable = function () { if (this.o.length / 2 != this.c.length / 4) return !1; if (this.data.k.k[0].s) for (var t = 0, e = this.data.k.k.length; t < e;) { if (!this.comparePoints(this.data.k.k[t].s, this.data.p)) return !1; t += 1 } else if (!this.comparePoints(this.data.k.k, this.data.p)) return !1; return !0 }, GradientProperty.prototype.getValue = function (t) { if (this.prop.getValue(), this._mdf = !1, this._cmdf = !1, this._omdf = !1, this.prop._mdf || t) { var e, r, n, s = 4 * this.data.p; for (e = 0; e < s; e += 1)r = e % 4 == 0 ? 100 : 255, n = Math.round(this.prop.v[e] * r), this.c[e] !== n && (this.c[e] = n, this._cmdf = !t); if (this.o.length) for (s = this.prop.v.length, e = 4 * this.data.p; e < s; e += 1)r = e % 2 == 0 ? 100 : 1, n = e % 2 == 0 ? Math.round(100 * this.prop.v[e]) : this.prop.v[e], this.o[e - 4 * this.data.p] !== n && (this.o[e - 4 * this.data.p] = n, this._omdf = !t); this._mdf = !t } }, extendPrototype([DynamicPropertyContainer], GradientProperty), SVGGradientFillStyleData.prototype.initGradientData = function (t, e, r) { this.o = PropertyFactory.getProp(t, e.o, 0, .01, this), this.s = PropertyFactory.getProp(t, e.s, 1, null, this), this.e = PropertyFactory.getProp(t, e.e, 1, null, this), this.h = PropertyFactory.getProp(t, e.h || { k: 0 }, 0, .01, this), this.a = PropertyFactory.getProp(t, e.a || { k: 0 }, 0, degToRads, this), this.g = new GradientProperty(t, e.g, this), this.style = r, this.stops = [], this.setGradientData(r.pElem, e), this.setGradientOpacity(e, r), this._isAnimated = !!this._isAnimated }, SVGGradientFillStyleData.prototype.setGradientData = function (t, e) { var r = createElementID(), n = createNS(e.t === 1 ? "linearGradient" : "radialGradient"); n.setAttribute("id", r), n.setAttribute("spreadMethod", "pad"), n.setAttribute("gradientUnits", "userSpaceOnUse"); var s, a, o, l = []; for (o = 4 * e.g.p, a = 0; a < o; a += 4)s = createNS("stop"), n.appendChild(s), l.push(s); t.setAttribute(e.ty === "gf" ? "fill" : "stroke", "url(" + getLocationHref() + "#" + r + ")"), this.gf = n, this.cst = l }, SVGGradientFillStyleData.prototype.setGradientOpacity = function (t, e) { if (this.g._hasOpacity && !this.g._collapsable) { var r, n, s, a = createNS("mask"), o = createNS("path"); a.appendChild(o); var l = createElementID(), p = createElementID(); a.setAttribute("id", p); var y = createNS(t.t === 1 ? "linearGradient" : "radialGradient"); y.setAttribute("id", l), y.setAttribute("spreadMethod", "pad"), y.setAttribute("gradientUnits", "userSpaceOnUse"), s = t.g.k.k[0].s ? t.g.k.k[0].s.length : t.g.k.k.length; var h = this.stops; for (n = 4 * t.g.p; n < s; n += 2)(r = createNS("stop")).setAttribute("stop-color", "rgb(255,255,255)"), y.appendChild(r), h.push(r); o.setAttribute(t.ty === "gf" ? "fill" : "stroke", "url(" + getLocationHref() + "#" + l + ")"), t.ty === "gs" && (o.setAttribute("stroke-linecap", lineCapEnum[t.lc || 2]), o.setAttribute("stroke-linejoin", lineJoinEnum[t.lj || 2]), t.lj === 1 && o.setAttribute("stroke-miterlimit", t.ml)), this.of = y, this.ms = a, this.ost = h, this.maskId = p, e.msElem = o } }, extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData), extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData); var buildShapeString = function (t, e, r, n) { if (e === 0) return ""; var s, a = t.o, o = t.i, l = t.v, p = " M" + n.applyToPointStringified(l[0][0], l[0][1]); for (s = 1; s < e; s += 1)p += " C" + n.applyToPointStringified(a[s - 1][0], a[s - 1][1]) + " " + n.applyToPointStringified(o[s][0], o[s][1]) + " " + n.applyToPointStringified(l[s][0], l[s][1]); return r && e && (p += " C" + n.applyToPointStringified(a[s - 1][0], a[s - 1][1]) + " " + n.applyToPointStringified(o[0][0], o[0][1]) + " " + n.applyToPointStringified(l[0][0], l[0][1]), p += "z"), p }, SVGElementsRenderer = function () { var t = new Matrix, e = new Matrix; function r(y, h, d) { (d || h.transform.op._mdf) && h.transform.container.setAttribute("opacity", h.transform.op.v), (d || h.transform.mProps._mdf) && h.transform.container.setAttribute("transform", h.transform.mProps.v.to2dCSS()) } function n() { } function s(y, h, d) { var f, g, m, c, u, v, b, E, _, x, T = h.styles.length, w = h.lvl; for (v = 0; v < T; v += 1) { if (c = h.sh._mdf || d, h.styles[v].lvl < w) { for (E = e.reset(), _ = w - h.styles[v].lvl, x = h.transformers.length - 1; !c && _ > 0;)c = h.transformers[x].mProps._mdf || c, _ -= 1, x -= 1; if (c) for (_ = w - h.styles[v].lvl, x = h.transformers.length - 1; _ > 0;)E.multiply(h.transformers[x].mProps.v), _ -= 1, x -= 1 } else E = t; if (g = (b = h.sh.paths)._length, c) { for (m = "", f = 0; f < g; f += 1)(u = b.shapes[f]) && u._length && (m += buildShapeString(u, u._length, u.c, E)); h.caches[v] = m } else m = h.caches[v]; h.styles[v].d += y.hd === !0 ? "" : m, h.styles[v]._mdf = c || h.styles[v]._mdf } } function a(y, h, d) { var f = h.style; (h.c._mdf || d) && f.pElem.setAttribute("fill", "rgb(" + bmFloor(h.c.v[0]) + "," + bmFloor(h.c.v[1]) + "," + bmFloor(h.c.v[2]) + ")"), (h.o._mdf || d) && f.pElem.setAttribute("fill-opacity", h.o.v) } function o(y, h, d) { l(y, h, d), p(0, h, d) } function l(y, h, d) { var f, g, m, c, u, v = h.gf, b = h.g._hasOpacity, E = h.s.v, _ = h.e.v; if (h.o._mdf || d) { var x = y.ty === "gf" ? "fill-opacity" : "stroke-opacity"; h.style.pElem.setAttribute(x, h.o.v) } if (h.s._mdf || d) { var T = y.t === 1 ? "x1" : "cx", w = T === "x1" ? "y1" : "cy"; v.setAttribute(T, E[0]), v.setAttribute(w, E[1]), b && !h.g._collapsable && (h.of.setAttribute(T, E[0]), h.of.setAttribute(w, E[1])) } if (h.g._cmdf || d) { f = h.cst; var C = h.g.c; for (m = f.length, g = 0; g < m; g += 1)(c = f[g]).setAttribute("offset", C[4 * g] + "%"), c.setAttribute("stop-color", "rgb(" + C[4 * g + 1] + "," + C[4 * g + 2] + "," + C[4 * g + 3] + ")") } if (b && (h.g._omdf || d)) { var A = h.g.o; for (m = (f = h.g._collapsable ? h.cst : h.ost).length, g = 0; g < m; g += 1)c = f[g], h.g._collapsable || c.setAttribute("offset", A[2 * g] + "%"), c.setAttribute("stop-opacity", A[2 * g + 1]) } if (y.t === 1) (h.e._mdf || d) && (v.setAttribute("x2", _[0]), v.setAttribute("y2", _[1]), b && !h.g._collapsable && (h.of.setAttribute("x2", _[0]), h.of.setAttribute("y2", _[1]))); else if ((h.s._mdf || h.e._mdf || d) && (u = Math.sqrt(Math.pow(E[0] - _[0], 2) + Math.pow(E[1] - _[1], 2)), v.setAttribute("r", u), b && !h.g._collapsable && h.of.setAttribute("r", u)), h.e._mdf || h.h._mdf || h.a._mdf || d) { u || (u = Math.sqrt(Math.pow(E[0] - _[0], 2) + Math.pow(E[1] - _[1], 2))); var k = Math.atan2(_[1] - E[1], _[0] - E[0]), P = h.h.v; P >= 1 ? P = .99 : P <= -1 && (P = -.99); var I = u * P, F = Math.cos(k + h.a.v) * I + E[0], D = Math.sin(k + h.a.v) * I + E[1]; v.setAttribute("fx", F), v.setAttribute("fy", D), b && !h.g._collapsable && (h.of.setAttribute("fx", F), h.of.setAttribute("fy", D)) } } function p(y, h, d) { var f = h.style, g = h.d; g && (g._mdf || d) && g.dashStr && (f.pElem.setAttribute("stroke-dasharray", g.dashStr), f.pElem.setAttribute("stroke-dashoffset", g.dashoffset[0])), h.c && (h.c._mdf || d) && f.pElem.setAttribute("stroke", "rgb(" + bmFloor(h.c.v[0]) + "," + bmFloor(h.c.v[1]) + "," + bmFloor(h.c.v[2]) + ")"), (h.o._mdf || d) && f.pElem.setAttribute("stroke-opacity", h.o.v), (h.w._mdf || d) && (f.pElem.setAttribute("stroke-width", h.w.v), f.msElem && f.msElem.setAttribute("stroke-width", h.w.v)) } return { createRenderFunction: function (y) { switch (y.ty) { case "fl": return a; case "gf": return l; case "gs": return o; case "st": return p; case "sh": case "el": case "rc": case "sr": return s; case "tr": return r; case "no": return n; default: return null } } } }(); function SVGShapeElement(t, e, r) { this.shapes = [], this.shapesData = t.shapes, this.stylesList = [], this.shapeModifiers = [], this.itemsData = [], this.processedElements = [], this.animatedContents = [], this.initElement(t, e, r), this.prevViewData = [] } function LetterProps(t, e, r, n, s, a) { this.o = t, this.sw = e, this.sc = r, this.fc = n, this.m = s, this.p = a, this._mdf = { o: !0, sw: !!e, sc: !!r, fc: !!n, m: !0, p: !0 } } function TextProperty(t, e) { this._frameId = initialDefaultFrame, this.pv = "", this.v = "", this.kf = !1, this._isFirstFrame = !0, this._mdf = !1, e.d && e.d.sid && (e.d = t.globalData.slotManager.getProp(e.d)), this.data = e, this.elem = t, this.comp = this.elem.comp, this.keysIndex = 0, this.canResize = !1, this.minimumFontSize = 1, this.effectsSequence = [], this.currentData = { ascent: 0, boxWidth: this.defaultBoxWidth, f: "", fStyle: "", fWeight: "", fc: "", j: "", justifyOffset: "", l: [], lh: 0, lineWidths: [], ls: "", of: "", s: "", sc: "", sw: 0, t: 0, tr: 0, sz: 0, ps: null, fillColorAnim: !1, strokeColorAnim: !1, strokeWidthAnim: !1, yOffset: 0, finalSize: 0, finalText: [], finalLineHeight: 0, __complete: !1 }, this.copyData(this.currentData, this.data.d.k[0].s), this.searchProperty() || this.completeTextData(this.currentData) } extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement), SVGShapeElement.prototype.initSecondaryElement = function () { }, SVGShapeElement.prototype.identityMatrix = new Matrix, SVGShapeElement.prototype.buildExpressionInterface = function () { }, SVGShapeElement.prototype.createContent = function () { this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], !0), this.filterUniqueShapes() }, SVGShapeElement.prototype.filterUniqueShapes = function () { var t, e, r, n, s = this.shapes.length, a = this.stylesList.length, o = [], l = !1; for (r = 0; r < a; r += 1) { for (n = this.stylesList[r], l = !1, o.length = 0, t = 0; t < s; t += 1)(e = this.shapes[t]).styles.indexOf(n) !== -1 && (o.push(e), l = e._isAnimated || l); o.length > 1 && l && this.setShapesAsAnimated(o) } }, SVGShapeElement.prototype.setShapesAsAnimated = function (t) { var e, r = t.length; for (e = 0; e < r; e += 1)t[e].setAsAnimated() }, SVGShapeElement.prototype.createStyleElement = function (t, e) { var r, n = new SVGStyleData(t, e), s = n.pElem; return t.ty === "st" ? r = new SVGStrokeStyleData(this, t, n) : t.ty === "fl" ? r = new SVGFillStyleData(this, t, n) : t.ty === "gf" || t.ty === "gs" ? (r = new (t.ty === "gf" ? SVGGradientFillStyleData : SVGGradientStrokeStyleData)(this, t, n), this.globalData.defs.appendChild(r.gf), r.maskId && (this.globalData.defs.appendChild(r.ms), this.globalData.defs.appendChild(r.of), s.setAttribute("mask", "url(" + getLocationHref() + "#" + r.maskId + ")"))) : t.ty === "no" && (r = new SVGNoStyleData(this, t, n)), t.ty !== "st" && t.ty !== "gs" || (s.setAttribute("stroke-linecap", lineCapEnum[t.lc || 2]), s.setAttribute("stroke-linejoin", lineJoinEnum[t.lj || 2]), s.setAttribute("fill-opacity", "0"), t.lj === 1 && s.setAttribute("stroke-miterlimit", t.ml)), t.r === 2 && s.setAttribute("fill-rule", "evenodd"), t.ln && s.setAttribute("id", t.ln), t.cl && s.setAttribute("class", t.cl), t.bm && (s.style["mix-blend-mode"] = getBlendMode(t.bm)), this.stylesList.push(n), this.addToAnimatedContents(t, r), r }, SVGShapeElement.prototype.createGroupElement = function (t) { var e = new ShapeGroupData; return t.ln && e.gr.setAttribute("id", t.ln), t.cl && e.gr.setAttribute("class", t.cl), t.bm && (e.gr.style["mix-blend-mode"] = getBlendMode(t.bm)), e }, SVGShapeElement.prototype.createTransformElement = function (t, e) { var r = TransformPropertyFactory.getTransformProperty(this, t, this), n = new SVGTransformData(r, r.o, e); return this.addToAnimatedContents(t, n), n }, SVGShapeElement.prototype.createShapeElement = function (t, e, r) { var n = 4; t.ty === "rc" ? n = 5 : t.ty === "el" ? n = 6 : t.ty === "sr" && (n = 7); var s = new SVGShapeData(e, r, ShapePropertyFactory.getShapeProp(this, t, n, this)); return this.shapes.push(s), this.addShapeToModifiers(s), this.addToAnimatedContents(t, s), s }, SVGShapeElement.prototype.addToAnimatedContents = function (t, e) { for (var r = 0, n = this.animatedContents.length; r < n;) { if (this.animatedContents[r].element === e) return; r += 1 } this.animatedContents.push({ fn: SVGElementsRenderer.createRenderFunction(t), element: e, data: t }) }, SVGShapeElement.prototype.setElementStyles = function (t) { var e, r = t.styles, n = this.stylesList.length; for (e = 0; e < n; e += 1)this.stylesList[e].closed || r.push(this.stylesList[e]) }, SVGShapeElement.prototype.reloadShapes = function () { var t; this._isFirstFrame = !0; var e = this.itemsData.length; for (t = 0; t < e; t += 1)this.prevViewData[t] = this.itemsData[t]; for (this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], !0), this.filterUniqueShapes(), e = this.dynamicProperties.length, t = 0; t < e; t += 1)this.dynamicProperties[t].getValue(); this.renderModifiers() }, SVGShapeElement.prototype.searchShapes = function (t, e, r, n, s, a, o) { var l, p, y, h, d, f, g = [].concat(a), m = t.length - 1, c = [], u = []; for (l = m; l >= 0; l -= 1) { if ((f = this.searchProcessedElement(t[l])) ? e[l] = r[f - 1] : t[l]._render = o, t[l].ty === "fl" || t[l].ty === "st" || t[l].ty === "gf" || t[l].ty === "gs" || t[l].ty === "no") f ? e[l].style.closed = !1 : e[l] = this.createStyleElement(t[l], s), t[l]._render && e[l].style.pElem.parentNode !== n && n.appendChild(e[l].style.pElem), c.push(e[l].style); else if (t[l].ty === "gr") { if (f) for (y = e[l].it.length, p = 0; p < y; p += 1)e[l].prevViewData[p] = e[l].it[p]; else e[l] = this.createGroupElement(t[l]); this.searchShapes(t[l].it, e[l].it, e[l].prevViewData, e[l].gr, s + 1, g, o), t[l]._render && e[l].gr.parentNode !== n && n.appendChild(e[l].gr) } else t[l].ty === "tr" ? (f || (e[l] = this.createTransformElement(t[l], n)), h = e[l].transform, g.push(h)) : t[l].ty === "sh" || t[l].ty === "rc" || t[l].ty === "el" || t[l].ty === "sr" ? (f || (e[l] = this.createShapeElement(t[l], g, s)), this.setElementStyles(e[l])) : t[l].ty === "tm" || t[l].ty === "rd" || t[l].ty === "ms" || t[l].ty === "pb" || t[l].ty === "zz" || t[l].ty === "op" ? (f ? (d = e[l]).closed = !1 : ((d = ShapeModifiers.getModifier(t[l].ty)).init(this, t[l]), e[l] = d, this.shapeModifiers.push(d)), u.push(d)) : t[l].ty === "rp" && (f ? (d = e[l]).closed = !0 : (d = ShapeModifiers.getModifier(t[l].ty), e[l] = d, d.init(this, t, l, e), this.shapeModifiers.push(d), o = !1), u.push(d)); this.addProcessedElement(t[l], l + 1) } for (m = c.length, l = 0; l < m; l += 1)c[l].closed = !0; for (m = u.length, l = 0; l < m; l += 1)u[l].closed = !0 }, SVGShapeElement.prototype.renderInnerContent = function () { var t; this.renderModifiers(); var e = this.stylesList.length; for (t = 0; t < e; t += 1)this.stylesList[t].reset(); for (this.renderShape(), t = 0; t < e; t += 1)(this.stylesList[t]._mdf || this._isFirstFrame) && (this.stylesList[t].msElem && (this.stylesList[t].msElem.setAttribute("d", this.stylesList[t].d), this.stylesList[t].d = "M0 0" + this.stylesList[t].d), this.stylesList[t].pElem.setAttribute("d", this.stylesList[t].d || "M0 0")) }, SVGShapeElement.prototype.renderShape = function () { var t, e, r = this.animatedContents.length; for (t = 0; t < r; t += 1)e = this.animatedContents[t], (this._isFirstFrame || e.element._isAnimated) && e.data !== !0 && e.fn(e.data, e.element, this._isFirstFrame) }, SVGShapeElement.prototype.destroy = function () { this.destroyBaseElement(), this.shapesData = null, this.itemsData = null }, LetterProps.prototype.update = function (t, e, r, n, s, a) { this._mdf.o = !1, this._mdf.sw = !1, this._mdf.sc = !1, this._mdf.fc = !1, this._mdf.m = !1, this._mdf.p = !1; var o = !1; return this.o !== t && (this.o = t, this._mdf.o = !0, o = !0), this.sw !== e && (this.sw = e, this._mdf.sw = !0, o = !0), this.sc !== r && (this.sc = r, this._mdf.sc = !0, o = !0), this.fc !== n && (this.fc = n, this._mdf.fc = !0, o = !0), this.m !== s && (this.m = s, this._mdf.m = !0, o = !0), !a.length || this.p[0] === a[0] && this.p[1] === a[1] && this.p[4] === a[4] && this.p[5] === a[5] && this.p[12] === a[12] && this.p[13] === a[13] || (this.p = a, this._mdf.p = !0, o = !0), o }, TextProperty.prototype.defaultBoxWidth = [0, 0], TextProperty.prototype.copyData = function (t, e) { for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]); return t }, TextProperty.prototype.setCurrentData = function (t) { t.__complete || this.completeTextData(t), this.currentData = t, this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth, this._mdf = !0 }, TextProperty.prototype.searchProperty = function () { return this.searchKeyframes() }, TextProperty.prototype.searchKeyframes = function () { return this.kf = this.data.d.k.length > 1, this.kf && this.addEffect(this.getKeyframeValue.bind(this)), this.kf }, TextProperty.prototype.addEffect = function (t) { this.effectsSequence.push(t), this.elem.addDynamicProperty(this) }, TextProperty.prototype.getValue = function (t) { if (this.elem.globalData.frameId !== this.frameId && this.effectsSequence.length || t) { this.currentData.t = this.data.d.k[this.keysIndex].s.t; var e = this.currentData, r = this.keysIndex; if (this.lock) this.setCurrentData(this.currentData); else { var n; this.lock = !0, this._mdf = !1; var s = this.effectsSequence.length, a = t || this.data.d.k[this.keysIndex].s; for (n = 0; n < s; n += 1)a = r !== this.keysIndex ? this.effectsSequence[n](a, a.t) : this.effectsSequence[n](this.currentData, a.t); e !== a && this.setCurrentData(a), this.v = this.currentData, this.pv = this.v, this.lock = !1, this.frameId = this.elem.globalData.frameId } } }, TextProperty.prototype.getKeyframeValue = function () { for (var t = this.data.d.k, e = this.elem.comp.renderedFrame, r = 0, n = t.length; r <= n - 1 && !(r === n - 1 || t[r + 1].t > e);)r += 1; return this.keysIndex !== r && (this.keysIndex = r), this.data.d.k[this.keysIndex].s }, TextProperty.prototype.buildFinalText = function (t) { for (var e, r, n = [], s = 0, a = t.length, o = !1, l = !1, p = ""; s < a;)o = l, l = !1, e = t.charCodeAt(s), p = t.charAt(s), FontManager.isCombinedCharacter(e) ? o = !0 : e >= 55296 && e <= 56319 ? FontManager.isRegionalFlag(t, s) ? p = t.substr(s, 14) : (r = t.charCodeAt(s + 1)) >= 56320 && r <= 57343 && (FontManager.isModifier(e, r) ? (p = t.substr(s, 2), o = !0) : p = FontManager.isFlagEmoji(t.substr(s, 4)) ? t.substr(s, 4) : t.substr(s, 2)) : e > 56319 ? (r = t.charCodeAt(s + 1), FontManager.isVariationSelector(e) && (o = !0)) : FontManager.isZeroWidthJoiner(e) && (o = !0, l = !0), o ? (n[n.length - 1] += p, o = !1) : n.push(p), s += p.length; return n }, TextProperty.prototype.completeTextData = function (t) { t.__complete = !0; var e, r, n, s, a, o, l, p = this.elem.globalData.fontManager, y = this.data, h = [], d = 0, f = y.m.g, g = 0, m = 0, c = 0, u = [], v = 0, b = 0, E = p.getFontByName(t.f), _ = 0, x = getFontProperties(E); t.fWeight = x.weight, t.fStyle = x.style, t.finalSize = t.s, t.finalText = this.buildFinalText(t.t), r = t.finalText.length, t.finalLineHeight = t.lh; var T, w = t.tr / 1e3 * t.finalSize; if (t.sz) for (var C, A, k = !0, P = t.sz[0], I = t.sz[1]; k;) { C = 0, v = 0, r = (A = this.buildFinalText(t.t)).length, w = t.tr / 1e3 * t.finalSize; var F = -1; for (e = 0; e < r; e += 1)T = A[e].charCodeAt(0), n = !1, A[e] === " " ? F = e : T !== 13 && T !== 3 || (v = 0, n = !0, C += t.finalLineHeight || 1.2 * t.finalSize), p.chars ? (l = p.getCharData(A[e], E.fStyle, E.fFamily), _ = n ? 0 : l.w * t.finalSize / 100) : _ = p.measureText(A[e], t.f, t.finalSize), v + _ > P && A[e] !== " " ? (F === -1 ? r += 1 : e = F, C += t.finalLineHeight || 1.2 * t.finalSize, A.splice(e, F === e ? 1 : 0, "\r"), F = -1, v = 0) : (v += _, v += w); C += E.ascent * t.finalSize / 100, this.canResize && t.finalSize > this.minimumFontSize && I < C ? (t.finalSize -= 1, t.finalLineHeight = t.finalSize * t.lh / t.s) : (t.finalText = A, r = t.finalText.length, k = !1) } v = -w, _ = 0; var D, V = 0; for (e = 0; e < r; e += 1)if (n = !1, (T = (D = t.finalText[e]).charCodeAt(0)) === 13 || T === 3 ? (V = 0, u.push(v), b = v > b ? v : b, v = -2 * w, s = "", n = !0, c += 1) : s = D, p.chars ? (l = p.getCharData(D, E.fStyle, p.getFontByName(t.f).fFamily), _ = n ? 0 : l.w * t.finalSize / 100) : _ = p.measureText(s, t.f, t.finalSize), D === " " ? V += _ + w : (v += _ + w + V, V = 0), h.push({ l: _, an: _, add: g, n, anIndexes: [], val: s, line: c, animatorJustifyOffset: 0 }), f == 2) { if (g += _, s === "" || s === " " || e === r - 1) { for (s !== "" && s !== " " || (g -= _); m <= e;)h[m].an = g, h[m].ind = d, h[m].extra = _, m += 1; d += 1, g = 0 } } else if (f == 3) { if (g += _, s === "" || e === r - 1) { for (s === "" && (g -= _); m <= e;)h[m].an = g, h[m].ind = d, h[m].extra = _, m += 1; g = 0, d += 1 } } else h[d].ind = d, h[d].extra = 0, d += 1; if (t.l = h, b = v > b ? v : b, u.push(v), t.sz) t.boxWidth = t.sz[0], t.justifyOffset = 0; else switch (t.boxWidth = b, t.j) { case 1: t.justifyOffset = -t.boxWidth; break; case 2: t.justifyOffset = -t.boxWidth / 2; break; default: t.justifyOffset = 0 }t.lineWidths = u; var B, H, S, M, L = y.a; o = L.length; var O = []; for (a = 0; a < o; a += 1) { for ((B = L[a]).a.sc && (t.strokeColorAnim = !0), B.a.sw && (t.strokeWidthAnim = !0), (B.a.fc || B.a.fh || B.a.fs || B.a.fb) && (t.fillColorAnim = !0), M = 0, S = B.s.b, e = 0; e < r; e += 1)(H = h[e]).anIndexes[a] = M, (S == 1 && H.val !== "" || S == 2 && H.val !== "" && H.val !== " " || S == 3 && (H.n || H.val == " " || e == r - 1) || S == 4 && (H.n || e == r - 1)) && (B.s.rn === 1 && O.push(M), M += 1); y.a[a].s.totalChars = M; var J, X = -1; if (B.s.rn === 1) for (e = 0; e < r; e += 1)X != (H = h[e]).anIndexes[a] && (X = H.anIndexes[a], J = O.splice(Math.floor(Math.random() * O.length), 1)[0]), H.anIndexes[a] = J } t.yOffset = t.finalLineHeight || 1.2 * t.finalSize, t.ls = t.ls || 0, t.ascent = E.ascent * t.finalSize / 100 }, TextProperty.prototype.updateDocumentData = function (t, e) { e = e === void 0 ? this.keysIndex : e; var r = this.copyData({}, this.data.d.k[e].s); r = this.copyData(r, t), this.data.d.k[e].s = r, this.recalculate(e), this.setCurrentData(r), this.elem.addDynamicProperty(this) }, TextProperty.prototype.recalculate = function (t) { var e = this.data.d.k[t].s; e.__complete = !1, this.keysIndex = 0, this._isFirstFrame = !0, this.getValue(e) }, TextProperty.prototype.canResizeFont = function (t) { this.canResize = t, this.recalculate(this.keysIndex), this.elem.addDynamicProperty(this) }, TextProperty.prototype.setMinimumFontSize = function (t) { this.minimumFontSize = Math.floor(t) || 1, this.recalculate(this.keysIndex), this.elem.addDynamicProperty(this) }; var TextSelectorProp = function () { var t = Math.max, e = Math.min, r = Math.floor; function n(s, a) { this._currentTextLength = -1, this.k = !1, this.data = a, this.elem = s, this.comp = s.comp, this.finalS = 0, this.finalE = 0, this.initDynamicPropertyContainer(s), this.s = PropertyFactory.getProp(s, a.s || { k: 0 }, 0, 0, this), this.e = "e" in a ? PropertyFactory.getProp(s, a.e, 0, 0, this) : { v: 100 }, this.o = PropertyFactory.getProp(s, a.o || { k: 0 }, 0, 0, this), this.xe = PropertyFactory.getProp(s, a.xe || { k: 0 }, 0, 0, this), this.ne = PropertyFactory.getProp(s, a.ne || { k: 0 }, 0, 0, this), this.sm = PropertyFactory.getProp(s, a.sm || { k: 100 }, 0, 0, this), this.a = PropertyFactory.getProp(s, a.a, 0, .01, this), this.dynamicProperties.length || this.getValue() } return n.prototype = { getMult: function (s) { this._currentTextLength !== this.elem.textProperty.currentData.l.length && this.getValue(); var a = 0, o = 0, l = 1, p = 1; this.ne.v > 0 ? a = this.ne.v / 100 : o = -this.ne.v / 100, this.xe.v > 0 ? l = 1 - this.xe.v / 100 : p = 1 + this.xe.v / 100; var y = BezierFactory.getBezierEasing(a, o, l, p).get, h = 0, d = this.finalS, f = this.finalE, g = this.data.sh; if (g === 2) h = y(h = f === d ? s >= f ? 1 : 0 : t(0, e(.5 / (f - d) + (s - d) / (f - d), 1))); else if (g === 3) h = y(h = f === d ? s >= f ? 0 : 1 : 1 - t(0, e(.5 / (f - d) + (s - d) / (f - d), 1))); else if (g === 4) f === d ? h = 0 : (h = t(0, e(.5 / (f - d) + (s - d) / (f - d), 1))) < .5 ? h *= 2 : h = 1 - 2 * (h - .5), h = y(h); else if (g === 5) { if (f === d) h = 0; else { var m = f - d, c = -m / 2 + (s = e(t(0, s + .5 - d), f - d)), u = m / 2; h = Math.sqrt(1 - c * c / (u * u)) } h = y(h) } else g === 6 ? (f === d ? h = 0 : (s = e(t(0, s + .5 - d), f - d), h = (1 + Math.cos(Math.PI + 2 * Math.PI * s / (f - d))) / 2), h = y(h)) : (s >= r(d) && (h = t(0, e(s - d < 0 ? e(f, 1) - (d - s) : f - s, 1))), h = y(h)); if (this.sm.v !== 100) { var v = .01 * this.sm.v; v === 0 && (v = 1e-8); var b = .5 - .5 * v; h < b ? h = 0 : (h = (h - b) / v) > 1 && (h = 1) } return h * this.a.v }, getValue: function (s) { this.iterateDynamicProperties(), this._mdf = s || this._mdf, this._currentTextLength = this.elem.textProperty.currentData.l.length || 0, s && this.data.r === 2 && (this.e.v = this._currentTextLength); var a = this.data.r === 2 ? 1 : 100 / this.data.totalChars, o = this.o.v / a, l = this.s.v / a + o, p = this.e.v / a + o; if (l > p) { var y = l; l = p, p = y } this.finalS = l, this.finalE = p } }, extendPrototype([DynamicPropertyContainer], n), { getTextSelectorProp: function (s, a, o) { return new n(s, a, o) } } }(); function TextAnimatorDataProperty(t, e, r) { var n = { propType: !1 }, s = PropertyFactory.getProp, a = e.a; this.a = { r: a.r ? s(t, a.r, 0, degToRads, r) : n, rx: a.rx ? s(t, a.rx, 0, degToRads, r) : n, ry: a.ry ? s(t, a.ry, 0, degToRads, r) : n, sk: a.sk ? s(t, a.sk, 0, degToRads, r) : n, sa: a.sa ? s(t, a.sa, 0, degToRads, r) : n, s: a.s ? s(t, a.s, 1, .01, r) : n, a: a.a ? s(t, a.a, 1, 0, r) : n, o: a.o ? s(t, a.o, 0, .01, r) : n, p: a.p ? s(t, a.p, 1, 0, r) : n, sw: a.sw ? s(t, a.sw, 0, 0, r) : n, sc: a.sc ? s(t, a.sc, 1, 0, r) : n, fc: a.fc ? s(t, a.fc, 1, 0, r) : n, fh: a.fh ? s(t, a.fh, 0, 0, r) : n, fs: a.fs ? s(t, a.fs, 0, .01, r) : n, fb: a.fb ? s(t, a.fb, 0, .01, r) : n, t: a.t ? s(t, a.t, 0, 0, r) : n }, this.s = TextSelectorProp.getTextSelectorProp(t, e.s, r), this.s.t = e.s.t } function TextAnimatorProperty(t, e, r) { this._isFirstFrame = !0, this._hasMaskedPath = !1, this._frameId = -1, this._textData = t, this._renderType = e, this._elem = r, this._animatorsData = createSizedArray(this._textData.a.length), this._pathData = {}, this._moreOptions = { alignment: {} }, this.renderedLetters = [], this.lettersChangedFlag = !1, this.initDynamicPropertyContainer(r) } function ITextElement() { } TextAnimatorProperty.prototype.searchProperties = function () { var t, e, r = this._textData.a.length, n = PropertyFactory.getProp; for (t = 0; t < r; t += 1)e = this._textData.a[t], this._animatorsData[t] = new TextAnimatorDataProperty(this._elem, e, this); this._textData.p && "m" in this._textData.p ? (this._pathData = { a: n(this._elem, this._textData.p.a, 0, 0, this), f: n(this._elem, this._textData.p.f, 0, 0, this), l: n(this._elem, this._textData.p.l, 0, 0, this), r: n(this._elem, this._textData.p.r, 0, 0, this), p: n(this._elem, this._textData.p.p, 0, 0, this), m: this._elem.maskManager.getMaskProperty(this._textData.p.m) }, this._hasMaskedPath = !0) : this._hasMaskedPath = !1, this._moreOptions.alignment = n(this._elem, this._textData.m.a, 1, 0, this) }, TextAnimatorProperty.prototype.getMeasures = function (t, e) { if (this.lettersChangedFlag = e, this._mdf || this._isFirstFrame || e || this._hasMaskedPath && this._pathData.m._mdf) { this._isFirstFrame = !1; var r, n, s, a, o, l, p, y, h, d, f, g, m, c, u, v, b, E, _, x = this._moreOptions.alignment.v, T = this._animatorsData, w = this._textData, C = this.mHelper, A = this._renderType, k = this.renderedLetters.length, P = t.l; if (this._hasMaskedPath) { if (_ = this._pathData.m, !this._pathData.n || this._pathData._mdf) { var I, F = _.v; for (this._pathData.r.v && (F = F.reverse()), o = { tLength: 0, segments: [] }, a = F._length - 1, v = 0, s = 0; s < a; s += 1)I = bez.buildBezierData(F.v[s], F.v[s + 1], [F.o[s][0] - F.v[s][0], F.o[s][1] - F.v[s][1]], [F.i[s + 1][0] - F.v[s + 1][0], F.i[s + 1][1] - F.v[s + 1][1]]), o.tLength += I.segmentLength, o.segments.push(I), v += I.segmentLength; s = a, _.v.c && (I = bez.buildBezierData(F.v[s], F.v[0], [F.o[s][0] - F.v[s][0], F.o[s][1] - F.v[s][1]], [F.i[0][0] - F.v[0][0], F.i[0][1] - F.v[0][1]]), o.tLength += I.segmentLength, o.segments.push(I), v += I.segmentLength), this._pathData.pi = o } if (o = this._pathData.pi, l = this._pathData.f.v, f = 0, d = 1, y = 0, h = !0, c = o.segments, l < 0 && _.v.c) for (o.tLength < Math.abs(l) && (l = -Math.abs(l) % o.tLength), d = (m = c[f = c.length - 1].points).length - 1; l < 0;)l += m[d].partialLength, (d -= 1) < 0 && (d = (m = c[f -= 1].points).length - 1); g = (m = c[f].points)[d - 1], u = (p = m[d]).partialLength } a = P.length, r = 0, n = 0; var D, V, B, H, S, M = 1.2 * t.finalSize * .714, L = !0; B = T.length; var O, J, X, Z, N, $, z, G, rt, st, it, nt, tt = -1, R = l, Pt = f, Ct = d, yt = -1, lt = "", ht = this.defaultPropsArray; if (t.j === 2 || t.j === 1) { var et = 0, ft = 0, ut = t.j === 2 ? -.5 : -1, at = 0, dt = !0; for (s = 0; s < a; s += 1)if (P[s].n) { for (et && (et += ft); at < s;)P[at].animatorJustifyOffset = et, at += 1; et = 0, dt = !0 } else { for (V = 0; V < B; V += 1)(D = T[V].a).t.propType && (dt && t.j === 2 && (ft += D.t.v * ut), (S = T[V].s.getMult(P[s].anIndexes[V], w.a[V].s.totalChars)).length ? et += D.t.v * S[0] * ut : et += D.t.v * S * ut); dt = !1 } for (et && (et += ft); at < s;)P[at].animatorJustifyOffset = et, at += 1 } for (s = 0; s < a; s += 1) { if (C.reset(), Z = 1, P[s].n) r = 0, n += t.yOffset, n += L ? 1 : 0, l = R, L = !1, this._hasMaskedPath && (d = Ct, g = (m = c[f = Pt].points)[d - 1], u = (p = m[d]).partialLength, y = 0), lt = "", it = "", rt = "", nt = "", ht = this.defaultPropsArray; else { if (this._hasMaskedPath) { if (yt !== P[s].line) { switch (t.j) { case 1: l += v - t.lineWidths[P[s].line]; break; case 2: l += (v - t.lineWidths[P[s].line]) / 2 }yt = P[s].line } tt !== P[s].ind && (P[tt] && (l += P[tt].extra), l += P[s].an / 2, tt = P[s].ind), l += x[0] * P[s].an * .005; var ot = 0; for (V = 0; V < B; V += 1)(D = T[V].a).p.propType && ((S = T[V].s.getMult(P[s].anIndexes[V], w.a[V].s.totalChars)).length ? ot += D.p.v[0] * S[0] : ot += D.p.v[0] * S), D.a.propType && ((S = T[V].s.getMult(P[s].anIndexes[V], w.a[V].s.totalChars)).length ? ot += D.a.v[0] * S[0] : ot += D.a.v[0] * S); for (h = !0, this._pathData.a.v && (l = .5 * P[0].an + (v - this._pathData.f.v - .5 * P[0].an - .5 * P[P.length - 1].an) * tt / (a - 1), l += this._pathData.f.v); h;)y + u >= l + ot || !m ? (b = (l + ot - y) / p.partialLength, J = g.point[0] + (p.point[0] - g.point[0]) * b, X = g.point[1] + (p.point[1] - g.point[1]) * b, C.translate(-x[0] * P[s].an * .005, -x[1] * M * .01), h = !1) : m && (y += p.partialLength, (d += 1) >= m.length && (d = 0, c[f += 1] ? m = c[f].points : _.v.c ? (d = 0, m = c[f = 0].points) : (y -= p.partialLength, m = null)), m && (g = p, u = (p = m[d]).partialLength)); O = P[s].an / 2 - P[s].add, C.translate(-O, 0, 0) } else O = P[s].an / 2 - P[s].add, C.translate(-O, 0, 0), C.translate(-x[0] * P[s].an * .005, -x[1] * M * .01, 0); for (V = 0; V < B; V += 1)(D = T[V].a).t.propType && (S = T[V].s.getMult(P[s].anIndexes[V], w.a[V].s.totalChars), r === 0 && t.j === 0 || (this._hasMaskedPath ? S.length ? l += D.t.v * S[0] : l += D.t.v * S : S.length ? r += D.t.v * S[0] : r += D.t.v * S)); for (t.strokeWidthAnim && ($ = t.sw || 0), t.strokeColorAnim && (N = t.sc ? [t.sc[0], t.sc[1], t.sc[2]] : [0, 0, 0]), t.fillColorAnim && t.fc && (z = [t.fc[0], t.fc[1], t.fc[2]]), V = 0; V < B; V += 1)(D = T[V].a).a.propType && ((S = T[V].s.getMult(P[s].anIndexes[V], w.a[V].s.totalChars)).length ? C.translate(-D.a.v[0] * S[0], -D.a.v[1] * S[1], D.a.v[2] * S[2]) : C.translate(-D.a.v[0] * S, -D.a.v[1] * S, D.a.v[2] * S)); for (V = 0; V < B; V += 1)(D = T[V].a).s.propType && ((S = T[V].s.getMult(P[s].anIndexes[V], w.a[V].s.totalChars)).length ? C.scale(1 + (D.s.v[0] - 1) * S[0], 1 + (D.s.v[1] - 1) * S[1], 1) : C.scale(1 + (D.s.v[0] - 1) * S, 1 + (D.s.v[1] - 1) * S, 1)); for (V = 0; V < B; V += 1) { if (D = T[V].a, S = T[V].s.getMult(P[s].anIndexes[V], w.a[V].s.totalChars), D.sk.propType && (S.length ? C.skewFromAxis(-D.sk.v * S[0], D.sa.v * S[1]) : C.skewFromAxis(-D.sk.v * S, D.sa.v * S)), D.r.propType && (S.length ? C.rotateZ(-D.r.v * S[2]) : C.rotateZ(-D.r.v * S)), D.ry.propType && (S.length ? C.rotateY(D.ry.v * S[1]) : C.rotateY(D.ry.v * S)), D.rx.propType && (S.length ? C.rotateX(D.rx.v * S[0]) : C.rotateX(D.rx.v * S)), D.o.propType && (S.length ? Z += (D.o.v * S[0] - Z) * S[0] : Z += (D.o.v * S - Z) * S), t.strokeWidthAnim && D.sw.propType && (S.length ? $ += D.sw.v * S[0] : $ += D.sw.v * S), t.strokeColorAnim && D.sc.propType) for (G = 0; G < 3; G += 1)S.length ? N[G] += (D.sc.v[G] - N[G]) * S[0] : N[G] += (D.sc.v[G] - N[G]) * S; if (t.fillColorAnim && t.fc) { if (D.fc.propType) for (G = 0; G < 3; G += 1)S.length ? z[G] += (D.fc.v[G] - z[G]) * S[0] : z[G] += (D.fc.v[G] - z[G]) * S; D.fh.propType && (z = S.length ? addHueToRGB(z, D.fh.v * S[0]) : addHueToRGB(z, D.fh.v * S)), D.fs.propType && (z = S.length ? addSaturationToRGB(z, D.fs.v * S[0]) : addSaturationToRGB(z, D.fs.v * S)), D.fb.propType && (z = S.length ? addBrightnessToRGB(z, D.fb.v * S[0]) : addBrightnessToRGB(z, D.fb.v * S)) } } for (V = 0; V < B; V += 1)(D = T[V].a).p.propType && (S = T[V].s.getMult(P[s].anIndexes[V], w.a[V].s.totalChars), this._hasMaskedPath ? S.length ? C.translate(0, D.p.v[1] * S[0], -D.p.v[2] * S[1]) : C.translate(0, D.p.v[1] * S, -D.p.v[2] * S) : S.length ? C.translate(D.p.v[0] * S[0], D.p.v[1] * S[1], -D.p.v[2] * S[2]) : C.translate(D.p.v[0] * S, D.p.v[1] * S, -D.p.v[2] * S)); if (t.strokeWidthAnim && (rt = $ < 0 ? 0 : $), t.strokeColorAnim && (st = "rgb(" + Math.round(255 * N[0]) + "," + Math.round(255 * N[1]) + "," + Math.round(255 * N[2]) + ")"), t.fillColorAnim && t.fc && (it = "rgb(" + Math.round(255 * z[0]) + "," + Math.round(255 * z[1]) + "," + Math.round(255 * z[2]) + ")"), this._hasMaskedPath) { if (C.translate(0, -t.ls), C.translate(0, x[1] * M * .01 + n, 0), this._pathData.p.v) { E = (p.point[1] - g.point[1]) / (p.point[0] - g.point[0]); var gt = 180 * Math.atan(E) / Math.PI; p.point[0] < g.point[0] && (gt += 180), C.rotate(-gt * Math.PI / 180) } C.translate(J, X, 0), l -= x[0] * P[s].an * .005, P[s + 1] && tt !== P[s + 1].ind && (l += P[s].an / 2, l += .001 * t.tr * t.finalSize) } else { switch (C.translate(r, n, 0), t.ps && C.translate(t.ps[0], t.ps[1] + t.ascent, 0), t.j) { case 1: C.translate(P[s].animatorJustifyOffset + t.justifyOffset + (t.boxWidth - t.lineWidths[P[s].line]), 0, 0); break; case 2: C.translate(P[s].animatorJustifyOffset + t.justifyOffset + (t.boxWidth - t.lineWidths[P[s].line]) / 2, 0, 0) }C.translate(0, -t.ls), C.translate(O, 0, 0), C.translate(x[0] * P[s].an * .005, x[1] * M * .01, 0), r += P[s].l + .001 * t.tr * t.finalSize } A === "html" ? lt = C.toCSS() : A === "svg" ? lt = C.to2dCSS() : ht = [C.props[0], C.props[1], C.props[2], C.props[3], C.props[4], C.props[5], C.props[6], C.props[7], C.props[8], C.props[9], C.props[10], C.props[11], C.props[12], C.props[13], C.props[14], C.props[15]], nt = Z } k <= s ? (H = new LetterProps(nt, rt, st, it, lt, ht), this.renderedLetters.push(H), k += 1, this.lettersChangedFlag = !0) : (H = this.renderedLetters[s], this.lettersChangedFlag = H.update(nt, rt, st, it, lt, ht) || this.lettersChangedFlag) } } }, TextAnimatorProperty.prototype.getValue = function () { this._elem.globalData.frameId !== this._frameId && (this._frameId = this._elem.globalData.frameId, this.iterateDynamicProperties()) }, TextAnimatorProperty.prototype.mHelper = new Matrix, TextAnimatorProperty.prototype.defaultPropsArray = [], extendPrototype([DynamicPropertyContainer], TextAnimatorProperty), ITextElement.prototype.initElement = function (t, e, r) { this.lettersChangedFlag = !0, this.initFrame(), this.initBaseData(t, e, r), this.textProperty = new TextProperty(this, t.t, this.dynamicProperties), this.textAnimator = new TextAnimatorProperty(t.t, this.renderType, this), this.initTransform(t, e, r), this.initHierarchy(), this.initRenderable(), this.initRendererElement(), this.createContainerElements(), this.createRenderableComponents(), this.createContent(), this.hide(), this.textAnimator.searchProperties(this.dynamicProperties) }, ITextElement.prototype.prepareFrame = function (t) { this._mdf = !1, this.prepareRenderableFrame(t), this.prepareProperties(t, this.isInRange) }, ITextElement.prototype.createPathShape = function (t, e) { var r, n, s = e.length, a = ""; for (r = 0; r < s; r += 1)e[r].ty === "sh" && (n = e[r].ks.k, a += buildShapeString(n, n.i.length, !0, t)); return a }, ITextElement.prototype.updateDocumentData = function (t, e) { this.textProperty.updateDocumentData(t, e) }, ITextElement.prototype.canResizeFont = function (t) { this.textProperty.canResizeFont(t) }, ITextElement.prototype.setMinimumFontSize = function (t) { this.textProperty.setMinimumFontSize(t) }, ITextElement.prototype.applyTextPropertiesToMatrix = function (t, e, r, n, s) { switch (t.ps && e.translate(t.ps[0], t.ps[1] + t.ascent, 0), e.translate(0, -t.ls, 0), t.j) { case 1: e.translate(t.justifyOffset + (t.boxWidth - t.lineWidths[r]), 0, 0); break; case 2: e.translate(t.justifyOffset + (t.boxWidth - t.lineWidths[r]) / 2, 0, 0) }e.translate(n, s, 0) }, ITextElement.prototype.buildColor = function (t) { return "rgb(" + Math.round(255 * t[0]) + "," + Math.round(255 * t[1]) + "," + Math.round(255 * t[2]) + ")" }, ITextElement.prototype.emptyProp = new LetterProps, ITextElement.prototype.destroy = function () { }, ITextElement.prototype.validateText = function () { (this.textProperty._mdf || this.textProperty._isFirstFrame) && (this.buildNewText(), this.textProperty._isFirstFrame = !1, this.textProperty._mdf = !1) }; var emptyShapeData = { shapes: [] }; function SVGTextLottieElement(t, e, r) { this.textSpans = [], this.renderType = "svg", this.initElement(t, e, r) } function ISolidElement(t, e, r) { this.initElement(t, e, r) } function NullElement(t, e, r) { this.initFrame(), this.initBaseData(t, e, r), this.initFrame(), this.initTransform(t, e, r), this.initHierarchy() } function SVGRendererBase() { } function ICompElement() { } function SVGCompElement(t, e, r) { this.layers = t.layers, this.supports3d = !0, this.completeLayers = !1, this.pendingElements = [], this.elements = this.layers ? createSizedArray(this.layers.length) : [], this.initElement(t, e, r), this.tm = t.tm ? PropertyFactory.getProp(this, t.tm, 0, e.frameRate, this) : { _placeholder: !0 } } function SVGRenderer(t, e) { this.animationItem = t, this.layers = null, this.renderedFrame = -1, this.svgElement = createNS("svg"); var r = ""; if (e && e.title) { var n = createNS("title"), s = createElementID(); n.setAttribute("id", s), n.textContent = e.title, this.svgElement.appendChild(n), r += s } if (e && e.description) { var a = createNS("desc"), o = createElementID(); a.setAttribute("id", o), a.textContent = e.description, this.svgElement.appendChild(a), r += " " + o } r && this.svgElement.setAttribute("aria-labelledby", r); var l = createNS("defs"); this.svgElement.appendChild(l); var p = createNS("g"); this.svgElement.appendChild(p), this.layerElement = p, this.renderConfig = { preserveAspectRatio: e && e.preserveAspectRatio || "xMidYMid meet", imagePreserveAspectRatio: e && e.imagePreserveAspectRatio || "xMidYMid slice", contentVisibility: e && e.contentVisibility || "visible", progressiveLoad: e && e.progressiveLoad || !1, hideOnTransparent: !(e && e.hideOnTransparent === !1), viewBoxOnly: e && e.viewBoxOnly || !1, viewBoxSize: e && e.viewBoxSize || !1, className: e && e.className || "", id: e && e.id || "", focusable: e && e.focusable, filterSize: { width: e && e.filterSize && e.filterSize.width || "100%", height: e && e.filterSize && e.filterSize.height || "100%", x: e && e.filterSize && e.filterSize.x || "0%", y: e && e.filterSize && e.filterSize.y || "0%" }, width: e && e.width, height: e && e.height, runExpressions: !e || e.runExpressions === void 0 || e.runExpressions }, this.globalData = { _mdf: !1, frameNum: -1, defs: l, renderConfig: this.renderConfig }, this.elements = [], this.pendingElements = [], this.destroyed = !1, this.rendererType = "svg" } function ShapeTransformManager() { this.sequences = {}, this.sequenceList = [], this.transform_key_count = 0 } extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement), SVGTextLottieElement.prototype.createContent = function () { this.data.singleShape && !this.globalData.fontManager.chars && (this.textContainer = createNS("text")) }, SVGTextLottieElement.prototype.buildTextContents = function (t) { for (var e = 0, r = t.length, n = [], s = ""; e < r;)t[e] === String.fromCharCode(13) || t[e] === String.fromCharCode(3) ? (n.push(s), s = "") : s += t[e], e += 1; return n.push(s), n }, SVGTextLottieElement.prototype.buildShapeData = function (t, e) { if (t.shapes && t.shapes.length) { var r = t.shapes[0]; if (r.it) { var n = r.it[r.it.length - 1]; n.s && (n.s.k[0] = e, n.s.k[1] = e) } } return t }, SVGTextLottieElement.prototype.buildNewText = function () { var t, e; this.addDynamicProperty(this); var r = this.textProperty.currentData; this.renderedLetters = createSizedArray(r ? r.l.length : 0), r.fc ? this.layerElement.setAttribute("fill", this.buildColor(r.fc)) : this.layerElement.setAttribute("fill", "rgba(0,0,0,0)"), r.sc && (this.layerElement.setAttribute("stroke", this.buildColor(r.sc)), this.layerElement.setAttribute("stroke-width", r.sw)), this.layerElement.setAttribute("font-size", r.finalSize); var n = this.globalData.fontManager.getFontByName(r.f); if (n.fClass) this.layerElement.setAttribute("class", n.fClass); else { this.layerElement.setAttribute("font-family", n.fFamily); var s = r.fWeight, a = r.fStyle; this.layerElement.setAttribute("font-style", a), this.layerElement.setAttribute("font-weight", s) } this.layerElement.setAttribute("aria-label", r.t); var o, l = r.l || [], p = !!this.globalData.fontManager.chars; e = l.length; var y = this.mHelper, h = this.data.singleShape, d = 0, f = 0, g = !0, m = .001 * r.tr * r.finalSize; if (!h || p || r.sz) { var c, u = this.textSpans.length; for (t = 0; t < e; t += 1) { if (this.textSpans[t] || (this.textSpans[t] = { span: null, childSpan: null, glyph: null }), !p || !h || t === 0) { if (o = u > t ? this.textSpans[t].span : createNS(p ? "g" : "text"), u <= t) { if (o.setAttribute("stroke-linecap", "butt"), o.setAttribute("stroke-linejoin", "round"), o.setAttribute("stroke-miterlimit", "4"), this.textSpans[t].span = o, p) { var v = createNS("g"); o.appendChild(v), this.textSpans[t].childSpan = v } this.textSpans[t].span = o, this.layerElement.appendChild(o) } o.style.display = "inherit" } if (y.reset(), h && (l[t].n && (d = -m, f += r.yOffset, f += g ? 1 : 0, g = !1), this.applyTextPropertiesToMatrix(r, y, l[t].line, d, f), d += l[t].l || 0, d += m), p) { var b; if ((c = this.globalData.fontManager.getCharData(r.finalText[t], n.fStyle, this.globalData.fontManager.getFontByName(r.f).fFamily)).t === 1) b = new SVGCompElement(c.data, this.globalData, this); else { var E = emptyShapeData; c.data && c.data.shapes && (E = this.buildShapeData(c.data, r.finalSize)), b = new SVGShapeElement(E, this.globalData, this) } if (this.textSpans[t].glyph) { var _ = this.textSpans[t].glyph; this.textSpans[t].childSpan.removeChild(_.layerElement), _.destroy() } this.textSpans[t].glyph = b, b._debug = !0, b.prepareFrame(0), b.renderFrame(), this.textSpans[t].childSpan.appendChild(b.layerElement), c.t === 1 && this.textSpans[t].childSpan.setAttribute("transform", "scale(" + r.finalSize / 100 + "," + r.finalSize / 100 + ")") } else h && o.setAttribute("transform", "translate(" + y.props[12] + "," + y.props[13] + ")"), o.textContent = l[t].val, o.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve") } h && o && o.setAttribute("d", "") } else { var x = this.textContainer, T = "start"; switch (r.j) { case 1: T = "end"; break; case 2: T = "middle"; break; default: T = "start" }x.setAttribute("text-anchor", T), x.setAttribute("letter-spacing", m); var w = this.buildTextContents(r.finalText); for (e = w.length, f = r.ps ? r.ps[1] + r.ascent : 0, t = 0; t < e; t += 1)(o = this.textSpans[t].span || createNS("tspan")).textContent = w[t], o.setAttribute("x", 0), o.setAttribute("y", f), o.style.display = "inherit", x.appendChild(o), this.textSpans[t] || (this.textSpans[t] = { span: null, glyph: null }), this.textSpans[t].span = o, f += r.finalLineHeight; this.layerElement.appendChild(x) } for (; t < this.textSpans.length;)this.textSpans[t].span.style.display = "none", t += 1; this._sizeChanged = !0 }, SVGTextLottieElement.prototype.sourceRectAtTime = function () { if (this.prepareFrame(this.comp.renderedFrame - this.data.st), this.renderInnerContent(), this._sizeChanged) { this._sizeChanged = !1; var t = this.layerElement.getBBox(); this.bbox = { top: t.y, left: t.x, width: t.width, height: t.height } } return this.bbox }, SVGTextLottieElement.prototype.getValue = function () { var t, e, r = this.textSpans.length; for (this.renderedFrame = this.comp.renderedFrame, t = 0; t < r; t += 1)(e = this.textSpans[t].glyph) && (e.prepareFrame(this.comp.renderedFrame - this.data.st), e._mdf && (this._mdf = !0)) }, SVGTextLottieElement.prototype.renderInnerContent = function () { if (this.validateText(), (!this.data.singleShape || this._mdf) && (this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag), this.lettersChangedFlag || this.textAnimator.lettersChangedFlag)) { var t, e; this._sizeChanged = !0; var r, n, s, a = this.textAnimator.renderedLetters, o = this.textProperty.currentData.l; for (e = o.length, t = 0; t < e; t += 1)o[t].n || (r = a[t], n = this.textSpans[t].span, (s = this.textSpans[t].glyph) && s.renderFrame(), r._mdf.m && n.setAttribute("transform", r.m), r._mdf.o && n.setAttribute("opacity", r.o), r._mdf.sw && n.setAttribute("stroke-width", r.sw), r._mdf.sc && n.setAttribute("stroke", r.sc), r._mdf.fc && n.setAttribute("fill", r.fc)) } }, extendPrototype([IImageElement], ISolidElement), ISolidElement.prototype.createContent = function () { var t = createNS("rect"); t.setAttribute("width", this.data.sw), t.setAttribute("height", this.data.sh), t.setAttribute("fill", this.data.sc), this.layerElement.appendChild(t) }, NullElement.prototype.prepareFrame = function (t) { this.prepareProperties(t, !0) }, NullElement.prototype.renderFrame = function () { }, NullElement.prototype.getBaseElement = function () { return null }, NullElement.prototype.destroy = function () { }, NullElement.prototype.sourceRectAtTime = function () { }, NullElement.prototype.hide = function () { }, extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement), extendPrototype([BaseRenderer], SVGRendererBase), SVGRendererBase.prototype.createNull = function (t) { return new NullElement(t, this.globalData, this) }, SVGRendererBase.prototype.createShape = function (t) { return new SVGShapeElement(t, this.globalData, this) }, SVGRendererBase.prototype.createText = function (t) { return new SVGTextLottieElement(t, this.globalData, this) }, SVGRendererBase.prototype.createImage = function (t) { return new IImageElement(t, this.globalData, this) }, SVGRendererBase.prototype.createSolid = function (t) { return new ISolidElement(t, this.globalData, this) }, SVGRendererBase.prototype.configAnimation = function (t) { this.svgElement.setAttribute("xmlns", "http://www.w3.org/2000/svg"), this.svgElement.setAttribute("xmlns:xlink", "http://www.w3.org/1999/xlink"), this.renderConfig.viewBoxSize ? this.svgElement.setAttribute("viewBox", this.renderConfig.viewBoxSize) : this.svgElement.setAttribute("viewBox", "0 0 " + t.w + " " + t.h), this.renderConfig.viewBoxOnly || (this.svgElement.setAttribute("width", t.w), this.svgElement.setAttribute("height", t.h), this.svgElement.style.width = "100%", this.svgElement.style.height = "100%", this.svgElement.style.transform = "translate3d(0,0,0)", this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility), this.renderConfig.width && this.svgElement.setAttribute("width", this.renderConfig.width), this.renderConfig.height && this.svgElement.setAttribute("height", this.renderConfig.height), this.renderConfig.className && this.svgElement.setAttribute("class", this.renderConfig.className), this.renderConfig.id && this.svgElement.setAttribute("id", this.renderConfig.id), this.renderConfig.focusable !== void 0 && this.svgElement.setAttribute("focusable", this.renderConfig.focusable), this.svgElement.setAttribute("preserveAspectRatio", this.renderConfig.preserveAspectRatio), this.animationItem.wrapper.appendChild(this.svgElement); var e = this.globalData.defs; this.setupGlobalData(t, e), this.globalData.progressiveLoad = this.renderConfig.progressiveLoad, this.data = t; var r = createNS("clipPath"), n = createNS("rect"); n.setAttribute("width", t.w), n.setAttribute("height", t.h), n.setAttribute("x", 0), n.setAttribute("y", 0); var s = createElementID(); r.setAttribute("id", s), r.appendChild(n), this.layerElement.setAttribute("clip-path", "url(" + getLocationHref() + "#" + s + ")"), e.appendChild(r), this.layers = t.layers, this.elements = createSizedArray(t.layers.length) }, SVGRendererBase.prototype.destroy = function () { var t; this.animationItem.wrapper && (this.animationItem.wrapper.innerText = ""), this.layerElement = null, this.globalData.defs = null; var e = this.layers ? this.layers.length : 0; for (t = 0; t < e; t += 1)this.elements[t] && this.elements[t].destroy && this.elements[t].destroy(); this.elements.length = 0, this.destroyed = !0, this.animationItem = null }, SVGRendererBase.prototype.updateContainerSize = function () { }, SVGRendererBase.prototype.findIndexByInd = function (t) { var e = 0, r = this.layers.length; for (e = 0; e < r; e += 1)if (this.layers[e].ind === t) return e; return -1 }, SVGRendererBase.prototype.buildItem = function (t) { var e = this.elements; if (!e[t] && this.layers[t].ty !== 99) { e[t] = !0; var r = this.createItem(this.layers[t]); if (e[t] = r, getExpressionsPlugin() && (this.layers[t].ty === 0 && this.globalData.projectInterface.registerComposition(r), r.initExpressions()), this.appendElementInPos(r, t), this.layers[t].tt) { var n = "tp" in this.layers[t] ? this.findIndexByInd(this.layers[t].tp) : t - 1; if (n === -1) return; if (this.elements[n] && this.elements[n] !== !0) { var s = e[n].getMatte(this.layers[t].tt); r.setMatte(s) } else this.buildItem(n), this.addPendingElement(r) } } }, SVGRendererBase.prototype.checkPendingElements = function () { for (; this.pendingElements.length;) { var t = this.pendingElements.pop(); if (t.checkParenting(), t.data.tt) for (var e = 0, r = this.elements.length; e < r;) { if (this.elements[e] === t) { var n = "tp" in t.data ? this.findIndexByInd(t.data.tp) : e - 1, s = this.elements[n].getMatte(this.layers[e].tt); t.setMatte(s); break } e += 1 } } }, SVGRendererBase.prototype.renderFrame = function (t) { if (this.renderedFrame !== t && !this.destroyed) { var e; t === null ? t = this.renderedFrame : this.renderedFrame = t, this.globalData.frameNum = t, this.globalData.frameId += 1, this.globalData.projectInterface.currentFrame = t, this.globalData._mdf = !1; var r = this.layers.length; for (this.completeLayers || this.checkLayers(t), e = r - 1; e >= 0; e -= 1)(this.completeLayers || this.elements[e]) && this.elements[e].prepareFrame(t - this.layers[e].st); if (this.globalData._mdf) for (e = 0; e < r; e += 1)(this.completeLayers || this.elements[e]) && this.elements[e].renderFrame() } }, SVGRendererBase.prototype.appendElementInPos = function (t, e) { var r = t.getBaseElement(); if (r) { for (var n, s = 0; s < e;)this.elements[s] && this.elements[s] !== !0 && this.elements[s].getBaseElement() && (n = this.elements[s].getBaseElement()), s += 1; n ? this.layerElement.insertBefore(r, n) : this.layerElement.appendChild(r) } }, SVGRendererBase.prototype.hide = function () { this.layerElement.style.display = "none" }, SVGRendererBase.prototype.show = function () { this.layerElement.style.display = "block" }, extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement), ICompElement.prototype.initElement = function (t, e, r) { this.initFrame(), this.initBaseData(t, e, r), this.initTransform(t, e, r), this.initRenderable(), this.initHierarchy(), this.initRendererElement(), this.createContainerElements(), this.createRenderableComponents(), !this.data.xt && e.progressiveLoad || this.buildAllItems(), this.hide() }, ICompElement.prototype.prepareFrame = function (t) { if (this._mdf = !1, this.prepareRenderableFrame(t), this.prepareProperties(t, this.isInRange), this.isInRange || this.data.xt) { if (this.tm._placeholder) this.renderedFrame = t / this.data.sr; else { var e = this.tm.v; e === this.data.op && (e = this.data.op - 1), this.renderedFrame = e } var r, n = this.elements.length; for (this.completeLayers || this.checkLayers(this.renderedFrame), r = n - 1; r >= 0; r -= 1)(this.completeLayers || this.elements[r]) && (this.elements[r].prepareFrame(this.renderedFrame - this.layers[r].st), this.elements[r]._mdf && (this._mdf = !0)) } }, ICompElement.prototype.renderInnerContent = function () { var t, e = this.layers.length; for (t = 0; t < e; t += 1)(this.completeLayers || this.elements[t]) && this.elements[t].renderFrame() }, ICompElement.prototype.setElements = function (t) { this.elements = t }, ICompElement.prototype.getElements = function () { return this.elements }, ICompElement.prototype.destroyElements = function () { var t, e = this.layers.length; for (t = 0; t < e; t += 1)this.elements[t] && this.elements[t].destroy() }, ICompElement.prototype.destroy = function () { this.destroyElements(), this.destroyBaseElement() }, extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement), SVGCompElement.prototype.createComp = function (t) { return new SVGCompElement(t, this.globalData, this) }, extendPrototype([SVGRendererBase], SVGRenderer), SVGRenderer.prototype.createComp = function (t) { return new SVGCompElement(t, this.globalData, this) }, ShapeTransformManager.prototype = { addTransformSequence: function (t) { var e, r = t.length, n = "_"; for (e = 0; e < r; e += 1)n += t[e].transform.key + "_"; var s = this.sequences[n]; return s || (s = { transforms: [].concat(t), finalTransform: new Matrix, _mdf: !1 }, this.sequences[n] = s, this.sequenceList.push(s)), s }, processSequence: function (t, e) { for (var r = 0, n = t.transforms.length, s = e; r < n && !e;) { if (t.transforms[r].transform.mProps._mdf) { s = !0; break } r += 1 } if (s) for (t.finalTransform.reset(), r = n - 1; r >= 0; r -= 1)t.finalTransform.multiply(t.transforms[r].transform.mProps.v); t._mdf = s }, processSequences: function (t) { var e, r = this.sequenceList.length; for (e = 0; e < r; e += 1)this.processSequence(this.sequenceList[e], t) }, getNewKey: function () { return this.transform_key_count += 1, "_" + this.transform_key_count } }; var lumaLoader = function () { var t = "__lottie_element_luma_buffer", e = null, r = null, n = null; function s() { var a, o, l; e || (a = createNS("svg"), o = createNS("filter"), l = createNS("feColorMatrix"), o.setAttribute("id", t), l.setAttribute("type", "matrix"), l.setAttribute("color-interpolation-filters", "sRGB"), l.setAttribute("values", "0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"), o.appendChild(l), a.appendChild(o), a.setAttribute("id", t + "_svg"), featureSupport.svgLumaHidden && (a.style.display = "none"), n = a, document.body.appendChild(n), e = createTag("canvas"), (r = e.getContext("2d")).filter = "url(#" + t + ")", r.fillStyle = "rgba(0,0,0,0)", r.fillRect(0, 0, 1, 1)) } return { load: s, get: function (a) { return e || s(), e.width = a.width, e.height = a.height, r.filter = "url(#" + t + ")", e } } }; function createCanvas(t, e) { if (featureSupport.offscreenCanvas) return new OffscreenCanvas(t, e); var r = createTag("canvas"); return r.width = t, r.height = e, r } var assetLoader = { loadLumaCanvas: lumaLoader.load, getLumaCanvas: lumaLoader.get, createCanvas }, registeredEffects = {}; function CVEffects(t) { var e, r, n = t.data.ef ? t.data.ef.length : 0; for (this.filters = [], e = 0; e < n; e += 1) { r = null; var s = t.data.ef[e].ty; registeredEffects[s] && (r = new registeredEffects[s].effect(t.effectsManager.effectElements[e], t)), r && this.filters.push(r) } this.filters.length && t.addRenderableComponent(this) } function registerEffect(t, e) { registeredEffects[t] = { effect: e } } function CVMaskElement(t, e) { var r; this.data = t, this.element = e, this.masksProperties = this.data.masksProperties || [], this.viewData = createSizedArray(this.masksProperties.length); var n = this.masksProperties.length, s = !1; for (r = 0; r < n; r += 1)this.masksProperties[r].mode !== "n" && (s = !0), this.viewData[r] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[r], 3); this.hasMasks = s, s && this.element.addRenderableComponent(this) } function CVBaseElement() { } CVEffects.prototype.renderFrame = function (t) { var e, r = this.filters.length; for (e = 0; e < r; e += 1)this.filters[e].renderFrame(t) }, CVEffects.prototype.getEffects = function (t) { var e, r = this.filters.length, n = []; for (e = 0; e < r; e += 1)this.filters[e].type === t && n.push(this.filters[e]); return n }, CVMaskElement.prototype.renderFrame = function () { if (this.hasMasks) { var t, e, r, n, s = this.element.finalTransform.mat, a = this.element.canvasContext, o = this.masksProperties.length; for (a.beginPath(), t = 0; t < o; t += 1)if (this.masksProperties[t].mode !== "n") { var l; this.masksProperties[t].inv && (a.moveTo(0, 0), a.lineTo(this.element.globalData.compSize.w, 0), a.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h), a.lineTo(0, this.element.globalData.compSize.h), a.lineTo(0, 0)), n = this.viewData[t].v, e = s.applyToPointArray(n.v[0][0], n.v[0][1], 0), a.moveTo(e[0], e[1]); var p = n._length; for (l = 1; l < p; l += 1)r = s.applyToTriplePoints(n.o[l - 1], n.i[l], n.v[l]), a.bezierCurveTo(r[0], r[1], r[2], r[3], r[4], r[5]); r = s.applyToTriplePoints(n.o[l - 1], n.i[0], n.v[0]), a.bezierCurveTo(r[0], r[1], r[2], r[3], r[4], r[5]) } this.element.globalData.renderer.save(!0), a.clip() } }, CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty, CVMaskElement.prototype.destroy = function () { this.element = null }; var operationsMap = { 1: "source-in", 2: "source-out", 3: "source-in", 4: "source-out" }; function CVShapeData(t, e, r, n) { this.styledShapes = [], this.tr = [0, 0, 0, 0, 0, 0]; var s, a = 4; e.ty === "rc" ? a = 5 : e.ty === "el" ? a = 6 : e.ty === "sr" && (a = 7), this.sh = ShapePropertyFactory.getShapeProp(t, e, a, t); var o, l = r.length; for (s = 0; s < l; s += 1)r[s].closed || (o = { transforms: n.addTransformSequence(r[s].transforms), trNodes: [] }, this.styledShapes.push(o), r[s].elements.push(o)) } function CVShapeElement(t, e, r) { this.shapes = [], this.shapesData = t.shapes, this.stylesList = [], this.itemsData = [], this.prevViewData = [], this.shapeModifiers = [], this.processedElements = [], this.transformsManager = new ShapeTransformManager, this.initElement(t, e, r) } function CVTextElement(t, e, r) { this.textSpans = [], this.yOffset = 0, this.fillColorAnim = !1, this.strokeColorAnim = !1, this.strokeWidthAnim = !1, this.stroke = !1, this.fill = !1, this.justifyOffset = 0, this.currentRender = null, this.renderType = "canvas", this.values = { fill: "rgba(0,0,0,0)", stroke: "rgba(0,0,0,0)", sWidth: 0, fValue: "" }, this.initElement(t, e, r) } function CVImageElement(t, e, r) { this.assetData = e.getAssetData(t.refId), this.img = e.imageLoader.getAsset(this.assetData), this.initElement(t, e, r) } function CVSolidElement(t, e, r) { this.initElement(t, e, r) } function CanvasRendererBase() { } function CanvasContext() { this.opacity = -1, this.transform = createTypedArray("float32", 16), this.fillStyle = "", this.strokeStyle = "", this.lineWidth = "", this.lineCap = "", this.lineJoin = "", this.miterLimit = "", this.id = Math.random() } function CVContextData() { var t; for (this.stack = [], this.cArrPos = 0, this.cTr = new Matrix, t = 0; t < 15; t += 1) { var e = new CanvasContext; this.stack[t] = e } this._length = 15, this.nativeContext = null, this.transformMat = new Matrix, this.currentOpacity = 1, this.currentFillStyle = "", this.appliedFillStyle = "", this.currentStrokeStyle = "", this.appliedStrokeStyle = "", this.currentLineWidth = "", this.appliedLineWidth = "", this.currentLineCap = "", this.appliedLineCap = "", this.currentLineJoin = "", this.appliedLineJoin = "", this.appliedMiterLimit = "", this.currentMiterLimit = "" } function CVCompElement(t, e, r) { this.completeLayers = !1, this.layers = t.layers, this.pendingElements = [], this.elements = createSizedArray(this.layers.length), this.initElement(t, e, r), this.tm = t.tm ? PropertyFactory.getProp(this, t.tm, 0, e.frameRate, this) : { _placeholder: !0 } } function CanvasRenderer(t, e) { this.animationItem = t, this.renderConfig = { clearCanvas: !e || e.clearCanvas === void 0 || e.clearCanvas, context: e && e.context || null, progressiveLoad: e && e.progressiveLoad || !1, preserveAspectRatio: e && e.preserveAspectRatio || "xMidYMid meet", imagePreserveAspectRatio: e && e.imagePreserveAspectRatio || "xMidYMid slice", contentVisibility: e && e.contentVisibility || "visible", className: e && e.className || "", id: e && e.id || "", runExpressions: !e || e.runExpressions === void 0 || e.runExpressions }, this.renderConfig.dpr = e && e.dpr || 1, this.animationItem.wrapper && (this.renderConfig.dpr = e && e.dpr || window.devicePixelRatio || 1), this.renderedFrame = -1, this.globalData = { frameNum: -1, _mdf: !1, renderConfig: this.renderConfig, currentGlobalAlpha: -1 }, this.contextData = new CVContextData, this.elements = [], this.pendingElements = [], this.transformMat = new Matrix, this.completeLayers = !1, this.rendererType = "canvas", this.renderConfig.clearCanvas && (this.ctxTransform = this.contextData.transform.bind(this.contextData), this.ctxOpacity = this.contextData.opacity.bind(this.contextData), this.ctxFillStyle = this.contextData.fillStyle.bind(this.contextData), this.ctxStrokeStyle = this.contextData.strokeStyle.bind(this.contextData), this.ctxLineWidth = this.contextData.lineWidth.bind(this.contextData), this.ctxLineCap = this.contextData.lineCap.bind(this.contextData), this.ctxLineJoin = this.contextData.lineJoin.bind(this.contextData), this.ctxMiterLimit = this.contextData.miterLimit.bind(this.contextData), this.ctxFill = this.contextData.fill.bind(this.contextData), this.ctxFillRect = this.contextData.fillRect.bind(this.contextData), this.ctxStroke = this.contextData.stroke.bind(this.contextData), this.save = this.contextData.save.bind(this.contextData)) } function HBaseElement() { } function HSolidElement(t, e, r) { this.initElement(t, e, r) } function HShapeElement(t, e, r) { this.shapes = [], this.shapesData = t.shapes, this.stylesList = [], this.shapeModifiers = [], this.itemsData = [], this.processedElements = [], this.animatedContents = [], this.shapesContainer = createNS("g"), this.initElement(t, e, r), this.prevViewData = [], this.currentBBox = { x: 999999, y: -999999, h: 0, w: 0 } } function HTextElement(t, e, r) { this.textSpans = [], this.textPaths = [], this.currentBBox = { x: 999999, y: -999999, h: 0, w: 0 }, this.renderType = "svg", this.isMasked = !1, this.initElement(t, e, r) } function HCameraElement(t, e, r) { this.initFrame(), this.initBaseData(t, e, r), this.initHierarchy(); var n = PropertyFactory.getProp; if (this.pe = n(this, t.pe, 0, 0, this), t.ks.p.s ? (this.px = n(this, t.ks.p.x, 1, 0, this), this.py = n(this, t.ks.p.y, 1, 0, this), this.pz = n(this, t.ks.p.z, 1, 0, this)) : this.p = n(this, t.ks.p, 1, 0, this), t.ks.a && (this.a = n(this, t.ks.a, 1, 0, this)), t.ks.or.k.length && t.ks.or.k[0].to) { var s, a = t.ks.or.k.length; for (s = 0; s < a; s += 1)t.ks.or.k[s].to = null, t.ks.or.k[s].ti = null } this.or = n(this, t.ks.or, 1, degToRads, this), this.or.sh = !0, this.rx = n(this, t.ks.rx, 0, degToRads, this), this.ry = n(this, t.ks.ry, 0, degToRads, this), this.rz = n(this, t.ks.rz, 0, degToRads, this), this.mat = new Matrix, this._prevMat = new Matrix, this._isFirstFrame = !0, this.finalTransform = { mProp: this } } function HImageElement(t, e, r) { this.assetData = e.getAssetData(t.refId), this.initElement(t, e, r) } function HybridRendererBase(t, e) { this.animationItem = t, this.layers = null, this.renderedFrame = -1, this.renderConfig = { className: e && e.className || "", imagePreserveAspectRatio: e && e.imagePreserveAspectRatio || "xMidYMid slice", hideOnTransparent: !(e && e.hideOnTransparent === !1), filterSize: { width: e && e.filterSize && e.filterSize.width || "400%", height: e && e.filterSize && e.filterSize.height || "400%", x: e && e.filterSize && e.filterSize.x || "-100%", y: e && e.filterSize && e.filterSize.y || "-100%" } }, this.globalData = { _mdf: !1, frameNum: -1, renderConfig: this.renderConfig }, this.pendingElements = [], this.elements = [], this.threeDElements = [], this.destroyed = !1, this.camera = null, this.supports3d = !0, this.rendererType = "html" } function HCompElement(t, e, r) { this.layers = t.layers, this.supports3d = !t.hasMask, this.completeLayers = !1, this.pendingElements = [], this.elements = this.layers ? createSizedArray(this.layers.length) : [], this.initElement(t, e, r), this.tm = t.tm ? PropertyFactory.getProp(this, t.tm, 0, e.frameRate, this) : { _placeholder: !0 } } function HybridRenderer(t, e) { this.animationItem = t, this.layers = null, this.renderedFrame = -1, this.renderConfig = { className: e && e.className || "", imagePreserveAspectRatio: e && e.imagePreserveAspectRatio || "xMidYMid slice", hideOnTransparent: !(e && e.hideOnTransparent === !1), filterSize: { width: e && e.filterSize && e.filterSize.width || "400%", height: e && e.filterSize && e.filterSize.height || "400%", x: e && e.filterSize && e.filterSize.x || "-100%", y: e && e.filterSize && e.filterSize.y || "-100%" }, runExpressions: !e || e.runExpressions === void 0 || e.runExpressions }, this.globalData = { _mdf: !1, frameNum: -1, renderConfig: this.renderConfig }, this.pendingElements = [], this.elements = [], this.threeDElements = [], this.destroyed = !1, this.camera = null, this.supports3d = !0, this.rendererType = "html" } CVBaseElement.prototype = { createElements: function () { }, initRendererElement: function () { }, createContainerElements: function () { if (this.data.tt >= 1) { this.buffers = []; var t = this.globalData.canvasContext, e = assetLoader.createCanvas(t.canvas.width, t.canvas.height); this.buffers.push(e); var r = assetLoader.createCanvas(t.canvas.width, t.canvas.height); this.buffers.push(r), this.data.tt >= 3 && !document._isProxy && assetLoader.loadLumaCanvas() } this.canvasContext = this.globalData.canvasContext, this.transformCanvas = this.globalData.transformCanvas, this.renderableEffectsManager = new CVEffects(this), this.searchEffectTransforms() }, createContent: function () { }, setBlendMode: function () { var t = this.globalData; if (t.blendMode !== this.data.bm) { t.blendMode = this.data.bm; var e = getBlendMode(this.data.bm); t.canvasContext.globalCompositeOperation = e } }, createRenderableComponents: function () { this.maskManager = new CVMaskElement(this.data, this), this.transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT) }, hideElement: function () { this.hidden || this.isInRange && !this.isTransparent || (this.hidden = !0) }, showElement: function () { this.isInRange && !this.isTransparent && (this.hidden = !1, this._isFirstFrame = !0, this.maskManager._isFirstFrame = !0) }, clearCanvas: function (t) { t.clearRect(this.transformCanvas.tx, this.transformCanvas.ty, this.transformCanvas.w * this.transformCanvas.sx, this.transformCanvas.h * this.transformCanvas.sy) }, prepareLayer: function () { if (this.data.tt >= 1) { var t = this.buffers[0].getContext("2d"); this.clearCanvas(t), t.drawImage(this.canvasContext.canvas, 0, 0), this.currentTransform = this.canvasContext.getTransform(), this.canvasContext.setTransform(1, 0, 0, 1, 0, 0), this.clearCanvas(this.canvasContext), this.canvasContext.setTransform(this.currentTransform) } }, exitLayer: function () { if (this.data.tt >= 1) { var t = this.buffers[1], e = t.getContext("2d"); if (this.clearCanvas(e), e.drawImage(this.canvasContext.canvas, 0, 0), this.canvasContext.setTransform(1, 0, 0, 1, 0, 0), this.clearCanvas(this.canvasContext), this.canvasContext.setTransform(this.currentTransform), this.comp.getElementById("tp" in this.data ? this.data.tp : this.data.ind - 1).renderFrame(!0), this.canvasContext.setTransform(1, 0, 0, 1, 0, 0), this.data.tt >= 3 && !document._isProxy) { var r = assetLoader.getLumaCanvas(this.canvasContext.canvas); r.getContext("2d").drawImage(this.canvasContext.canvas, 0, 0), this.clearCanvas(this.canvasContext), this.canvasContext.drawImage(r, 0, 0) } this.canvasContext.globalCompositeOperation = operationsMap[this.data.tt], this.canvasContext.drawImage(t, 0, 0), this.canvasContext.globalCompositeOperation = "destination-over", this.canvasContext.drawImage(this.buffers[0], 0, 0), this.canvasContext.setTransform(this.currentTransform), this.canvasContext.globalCompositeOperation = "source-over" } }, renderFrame: function (t) { if (!this.hidden && !this.data.hd && (this.data.td !== 1 || t)) { this.renderTransform(), this.renderRenderable(), this.renderLocalTransform(), this.setBlendMode(); var e = this.data.ty === 0; this.prepareLayer(), this.globalData.renderer.save(e), this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props), this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity), this.renderInnerContent(), this.globalData.renderer.restore(e), this.exitLayer(), this.maskManager.hasMasks && this.globalData.renderer.restore(!0), this._isFirstFrame && (this._isFirstFrame = !1) } }, destroy: function () { this.canvasContext = null, this.data = null, this.globalData = null, this.maskManager.destroy() }, mHelper: new Matrix }, CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement, CVBaseElement.prototype.show = CVBaseElement.prototype.showElement, CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated, extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement), CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement, CVShapeElement.prototype.transformHelper = { opacity: 1, _opMdf: !1 }, CVShapeElement.prototype.dashResetter = [], CVShapeElement.prototype.createContent = function () { this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, !0, []) }, CVShapeElement.prototype.createStyleElement = function (t, e) { var r = { data: t, type: t.ty, preTransforms: this.transformsManager.addTransformSequence(e), transforms: [], elements: [], closed: t.hd === !0 }, n = {}; if (t.ty === "fl" || t.ty === "st" ? (n.c = PropertyFactory.getProp(this, t.c, 1, 255, this), n.c.k || (r.co = "rgb(" + bmFloor(n.c.v[0]) + "," + bmFloor(n.c.v[1]) + "," + bmFloor(n.c.v[2]) + ")")) : t.ty !== "gf" && t.ty !== "gs" || (n.s = PropertyFactory.getProp(this, t.s, 1, null, this), n.e = PropertyFactory.getProp(this, t.e, 1, null, this), n.h = PropertyFactory.getProp(this, t.h || { k: 0 }, 0, .01, this), n.a = PropertyFactory.getProp(this, t.a || { k: 0 }, 0, degToRads, this), n.g = new GradientProperty(this, t.g, this)), n.o = PropertyFactory.getProp(this, t.o, 0, .01, this), t.ty === "st" || t.ty === "gs") { if (r.lc = lineCapEnum[t.lc || 2], r.lj = lineJoinEnum[t.lj || 2], t.lj == 1 && (r.ml = t.ml), n.w = PropertyFactory.getProp(this, t.w, 0, null, this), n.w.k || (r.wi = n.w.v), t.d) { var s = new DashProperty(this, t.d, "canvas", this); n.d = s, n.d.k || (r.da = n.d.dashArray, r.do = n.d.dashoffset[0]) } } else r.r = t.r === 2 ? "evenodd" : "nonzero"; return this.stylesList.push(r), n.style = r, n }, CVShapeElement.prototype.createGroupElement = function () { return { it: [], prevViewData: [] } }, CVShapeElement.prototype.createTransformElement = function (t) { return { transform: { opacity: 1, _opMdf: !1, key: this.transformsManager.getNewKey(), op: PropertyFactory.getProp(this, t.o, 0, .01, this), mProps: TransformPropertyFactory.getTransformProperty(this, t, this) } } }, CVShapeElement.prototype.createShapeElement = function (t) { var e = new CVShapeData(this, t, this.stylesList, this.transformsManager); return this.shapes.push(e), this.addShapeToModifiers(e), e }, CVShapeElement.prototype.reloadShapes = function () { var t; this._isFirstFrame = !0; var e = this.itemsData.length; for (t = 0; t < e; t += 1)this.prevViewData[t] = this.itemsData[t]; for (this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, !0, []), e = this.dynamicProperties.length, t = 0; t < e; t += 1)this.dynamicProperties[t].getValue(); this.renderModifiers(), this.transformsManager.processSequences(this._isFirstFrame) }, CVShapeElement.prototype.addTransformToStyleList = function (t) { var e, r = this.stylesList.length; for (e = 0; e < r; e += 1)this.stylesList[e].closed || this.stylesList[e].transforms.push(t) }, CVShapeElement.prototype.removeTransformFromStyleList = function () { var t, e = this.stylesList.length; for (t = 0; t < e; t += 1)this.stylesList[t].closed || this.stylesList[t].transforms.pop() }, CVShapeElement.prototype.closeStyles = function (t) { var e, r = t.length; for (e = 0; e < r; e += 1)t[e].closed = !0 }, CVShapeElement.prototype.searchShapes = function (t, e, r, n, s) { var a, o, l, p, y, h, d = t.length - 1, f = [], g = [], m = [].concat(s); for (a = d; a >= 0; a -= 1) { if ((p = this.searchProcessedElement(t[a])) ? e[a] = r[p - 1] : t[a]._shouldRender = n, t[a].ty === "fl" || t[a].ty === "st" || t[a].ty === "gf" || t[a].ty === "gs") p ? e[a].style.closed = !1 : e[a] = this.createStyleElement(t[a], m), f.push(e[a].style); else if (t[a].ty === "gr") { if (p) for (l = e[a].it.length, o = 0; o < l; o += 1)e[a].prevViewData[o] = e[a].it[o]; else e[a] = this.createGroupElement(t[a]); this.searchShapes(t[a].it, e[a].it, e[a].prevViewData, n, m) } else t[a].ty === "tr" ? (p || (h = this.createTransformElement(t[a]), e[a] = h), m.push(e[a]), this.addTransformToStyleList(e[a])) : t[a].ty === "sh" || t[a].ty === "rc" || t[a].ty === "el" || t[a].ty === "sr" ? p || (e[a] = this.createShapeElement(t[a])) : t[a].ty === "tm" || t[a].ty === "rd" || t[a].ty === "pb" || t[a].ty === "zz" || t[a].ty === "op" ? (p ? (y = e[a]).closed = !1 : ((y = ShapeModifiers.getModifier(t[a].ty)).init(this, t[a]), e[a] = y, this.shapeModifiers.push(y)), g.push(y)) : t[a].ty === "rp" && (p ? (y = e[a]).closed = !0 : (y = ShapeModifiers.getModifier(t[a].ty), e[a] = y, y.init(this, t, a, e), this.shapeModifiers.push(y), n = !1), g.push(y)); this.addProcessedElement(t[a], a + 1) } for (this.removeTransformFromStyleList(), this.closeStyles(f), d = g.length, a = 0; a < d; a += 1)g[a].closed = !0 }, CVShapeElement.prototype.renderInnerContent = function () { this.transformHelper.opacity = 1, this.transformHelper._opMdf = !1, this.renderModifiers(), this.transformsManager.processSequences(this._isFirstFrame), this.renderShape(this.transformHelper, this.shapesData, this.itemsData, !0) }, CVShapeElement.prototype.renderShapeTransform = function (t, e) { (t._opMdf || e.op._mdf || this._isFirstFrame) && (e.opacity = t.opacity, e.opacity *= e.op.v, e._opMdf = !0) }, CVShapeElement.prototype.drawLayer = function () { var t, e, r, n, s, a, o, l, p, y = this.stylesList.length, h = this.globalData.renderer, d = this.globalData.canvasContext; for (t = 0; t < y; t += 1)if (((l = (p = this.stylesList[t]).type) !== "st" && l !== "gs" || p.wi !== 0) && p.data._shouldRender && p.coOp !== 0 && this.globalData.currentGlobalAlpha !== 0) { for (h.save(), a = p.elements, l === "st" || l === "gs" ? (h.ctxStrokeStyle(l === "st" ? p.co : p.grd), h.ctxLineWidth(p.wi), h.ctxLineCap(p.lc), h.ctxLineJoin(p.lj), h.ctxMiterLimit(p.ml || 0)) : h.ctxFillStyle(l === "fl" ? p.co : p.grd), h.ctxOpacity(p.coOp), l !== "st" && l !== "gs" && d.beginPath(), h.ctxTransform(p.preTransforms.finalTransform.props), r = a.length, e = 0; e < r; e += 1) { for (l !== "st" && l !== "gs" || (d.beginPath(), p.da && (d.setLineDash(p.da), d.lineDashOffset = p.do)), s = (o = a[e].trNodes).length, n = 0; n < s; n += 1)o[n].t === "m" ? d.moveTo(o[n].p[0], o[n].p[1]) : o[n].t === "c" ? d.bezierCurveTo(o[n].pts[0], o[n].pts[1], o[n].pts[2], o[n].pts[3], o[n].pts[4], o[n].pts[5]) : d.closePath(); l !== "st" && l !== "gs" || (h.ctxStroke(), p.da && d.setLineDash(this.dashResetter)) } l !== "st" && l !== "gs" && this.globalData.renderer.ctxFill(p.r), h.restore() } }, CVShapeElement.prototype.renderShape = function (t, e, r, n) { var s, a; for (a = t, s = e.length - 1; s >= 0; s -= 1)e[s].ty === "tr" ? (a = r[s].transform, this.renderShapeTransform(t, a)) : e[s].ty === "sh" || e[s].ty === "el" || e[s].ty === "rc" || e[s].ty === "sr" ? this.renderPath(e[s], r[s]) : e[s].ty === "fl" ? this.renderFill(e[s], r[s], a) : e[s].ty === "st" ? this.renderStroke(e[s], r[s], a) : e[s].ty === "gf" || e[s].ty === "gs" ? this.renderGradientFill(e[s], r[s], a) : e[s].ty === "gr" ? this.renderShape(a, e[s].it, r[s].it) : e[s].ty; n && this.drawLayer() }, CVShapeElement.prototype.renderStyledShape = function (t, e) { if (this._isFirstFrame || e._mdf || t.transforms._mdf) { var r, n, s, a = t.trNodes, o = e.paths, l = o._length; a.length = 0; var p = t.transforms.finalTransform; for (s = 0; s < l; s += 1) { var y = o.shapes[s]; if (y && y.v) { for (n = y._length, r = 1; r < n; r += 1)r === 1 && a.push({ t: "m", p: p.applyToPointArray(y.v[0][0], y.v[0][1], 0) }), a.push({ t: "c", pts: p.applyToTriplePoints(y.o[r - 1], y.i[r], y.v[r]) }); n === 1 && a.push({ t: "m", p: p.applyToPointArray(y.v[0][0], y.v[0][1], 0) }), y.c && n && (a.push({ t: "c", pts: p.applyToTriplePoints(y.o[r - 1], y.i[0], y.v[0]) }), a.push({ t: "z" })) } } t.trNodes = a } }, CVShapeElement.prototype.renderPath = function (t, e) { if (t.hd !== !0 && t._shouldRender) { var r, n = e.styledShapes.length; for (r = 0; r < n; r += 1)this.renderStyledShape(e.styledShapes[r], e.sh) } }, CVShapeElement.prototype.renderFill = function (t, e, r) { var n = e.style; (e.c._mdf || this._isFirstFrame) && (n.co = "rgb(" + bmFloor(e.c.v[0]) + "," + bmFloor(e.c.v[1]) + "," + bmFloor(e.c.v[2]) + ")"), (e.o._mdf || r._opMdf || this._isFirstFrame) && (n.coOp = e.o.v * r.opacity) }, CVShapeElement.prototype.renderGradientFill = function (t, e, r) { var n, s = e.style; if (!s.grd || e.g._mdf || e.s._mdf || e.e._mdf || t.t !== 1 && (e.h._mdf || e.a._mdf)) { var a, o = this.globalData.canvasContext, l = e.s.v, p = e.e.v; if (t.t === 1) n = o.createLinearGradient(l[0], l[1], p[0], p[1]); else { var y = Math.sqrt(Math.pow(l[0] - p[0], 2) + Math.pow(l[1] - p[1], 2)), h = Math.atan2(p[1] - l[1], p[0] - l[0]), d = e.h.v; d >= 1 ? d = .99 : d <= -1 && (d = -.99); var f = y * d, g = Math.cos(h + e.a.v) * f + l[0], m = Math.sin(h + e.a.v) * f + l[1]; n = o.createRadialGradient(g, m, 0, l[0], l[1], y) } var c = t.g.p, u = e.g.c, v = 1; for (a = 0; a < c; a += 1)e.g._hasOpacity && e.g._collapsable && (v = e.g.o[2 * a + 1]), n.addColorStop(u[4 * a] / 100, "rgba(" + u[4 * a + 1] + "," + u[4 * a + 2] + "," + u[4 * a + 3] + "," + v + ")"); s.grd = n } s.coOp = e.o.v * r.opacity }, CVShapeElement.prototype.renderStroke = function (t, e, r) { var n = e.style, s = e.d; s && (s._mdf || this._isFirstFrame) && (n.da = s.dashArray, n.do = s.dashoffset[0]), (e.c._mdf || this._isFirstFrame) && (n.co = "rgb(" + bmFloor(e.c.v[0]) + "," + bmFloor(e.c.v[1]) + "," + bmFloor(e.c.v[2]) + ")"), (e.o._mdf || r._opMdf || this._isFirstFrame) && (n.coOp = e.o.v * r.opacity), (e.w._mdf || this._isFirstFrame) && (n.wi = e.w.v) }, CVShapeElement.prototype.destroy = function () { this.shapesData = null, this.globalData = null, this.canvasContext = null, this.stylesList.length = 0, this.itemsData.length = 0 }, extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement), CVTextElement.prototype.tHelper = createTag("canvas").getContext("2d"), CVTextElement.prototype.buildNewText = function () { var t = this.textProperty.currentData; this.renderedLetters = createSizedArray(t.l ? t.l.length : 0); var e = !1; t.fc ? (e = !0, this.values.fill = this.buildColor(t.fc)) : this.values.fill = "rgba(0,0,0,0)", this.fill = e; var r = !1; t.sc && (r = !0, this.values.stroke = this.buildColor(t.sc), this.values.sWidth = t.sw); var n, s, a, o, l, p, y, h, d, f, g, m, c = this.globalData.fontManager.getFontByName(t.f), u = t.l, v = this.mHelper; this.stroke = r, this.values.fValue = t.finalSize + "px " + this.globalData.fontManager.getFontByName(t.f).fFamily, s = t.finalText.length; var b = this.data.singleShape, E = .001 * t.tr * t.finalSize, _ = 0, x = 0, T = !0, w = 0; for (n = 0; n < s; n += 1) { o = (a = this.globalData.fontManager.getCharData(t.finalText[n], c.fStyle, this.globalData.fontManager.getFontByName(t.f).fFamily)) && a.data || {}, v.reset(), b && u[n].n && (_ = -E, x += t.yOffset, x += T ? 1 : 0, T = !1), d = (y = o.shapes ? o.shapes[0].it : []).length, v.scale(t.finalSize / 100, t.finalSize / 100), b && this.applyTextPropertiesToMatrix(t, v, u[n].line, _, x), g = createSizedArray(d - 1); var C = 0; for (h = 0; h < d; h += 1)if (y[h].ty === "sh") { for (p = y[h].ks.k.i.length, f = y[h].ks.k, m = [], l = 1; l < p; l += 1)l === 1 && m.push(v.applyToX(f.v[0][0], f.v[0][1], 0), v.applyToY(f.v[0][0], f.v[0][1], 0)), m.push(v.applyToX(f.o[l - 1][0], f.o[l - 1][1], 0), v.applyToY(f.o[l - 1][0], f.o[l - 1][1], 0), v.applyToX(f.i[l][0], f.i[l][1], 0), v.applyToY(f.i[l][0], f.i[l][1], 0), v.applyToX(f.v[l][0], f.v[l][1], 0), v.applyToY(f.v[l][0], f.v[l][1], 0)); m.push(v.applyToX(f.o[l - 1][0], f.o[l - 1][1], 0), v.applyToY(f.o[l - 1][0], f.o[l - 1][1], 0), v.applyToX(f.i[0][0], f.i[0][1], 0), v.applyToY(f.i[0][0], f.i[0][1], 0), v.applyToX(f.v[0][0], f.v[0][1], 0), v.applyToY(f.v[0][0], f.v[0][1], 0)), g[C] = m, C += 1 } b && (_ += u[n].l, _ += E), this.textSpans[w] ? this.textSpans[w].elem = g : this.textSpans[w] = { elem: g }, w += 1 } }, CVTextElement.prototype.renderInnerContent = function () { var t, e, r, n, s, a; this.validateText(), this.canvasContext.font = this.values.fValue, this.globalData.renderer.ctxLineCap("butt"), this.globalData.renderer.ctxLineJoin("miter"), this.globalData.renderer.ctxMiterLimit(4), this.data.singleShape || this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag); var o, l = this.textAnimator.renderedLetters, p = this.textProperty.currentData.l; e = p.length; var y, h, d = null, f = null, g = null, m = this.globalData.renderer; for (t = 0; t < e; t += 1)if (!p[t].n) { if ((o = l[t]) && (m.save(), m.ctxTransform(o.p), m.ctxOpacity(o.o)), this.fill) { for (o && o.fc ? d !== o.fc && (m.ctxFillStyle(o.fc), d = o.fc) : d !== this.values.fill && (d = this.values.fill, m.ctxFillStyle(this.values.fill)), n = (y = this.textSpans[t].elem).length, this.globalData.canvasContext.beginPath(), r = 0; r < n; r += 1)for (a = (h = y[r]).length, this.globalData.canvasContext.moveTo(h[0], h[1]), s = 2; s < a; s += 6)this.globalData.canvasContext.bezierCurveTo(h[s], h[s + 1], h[s + 2], h[s + 3], h[s + 4], h[s + 5]); this.globalData.canvasContext.closePath(), m.ctxFill() } if (this.stroke) { for (o && o.sw ? g !== o.sw && (g = o.sw, m.ctxLineWidth(o.sw)) : g !== this.values.sWidth && (g = this.values.sWidth, m.ctxLineWidth(this.values.sWidth)), o && o.sc ? f !== o.sc && (f = o.sc, m.ctxStrokeStyle(o.sc)) : f !== this.values.stroke && (f = this.values.stroke, m.ctxStrokeStyle(this.values.stroke)), n = (y = this.textSpans[t].elem).length, this.globalData.canvasContext.beginPath(), r = 0; r < n; r += 1)for (a = (h = y[r]).length, this.globalData.canvasContext.moveTo(h[0], h[1]), s = 2; s < a; s += 6)this.globalData.canvasContext.bezierCurveTo(h[s], h[s + 1], h[s + 2], h[s + 3], h[s + 4], h[s + 5]); this.globalData.canvasContext.closePath(), m.ctxStroke() } o && this.globalData.renderer.restore() } }, extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement), CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement, CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame, CVImageElement.prototype.createContent = function () { if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) { var t = createTag("canvas"); t.width = this.assetData.w, t.height = this.assetData.h; var e, r, n = t.getContext("2d"), s = this.img.width, a = this.img.height, o = s / a, l = this.assetData.w / this.assetData.h, p = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio; o > l && p === "xMidYMid slice" || o < l && p !== "xMidYMid slice" ? e = (r = a) * l : r = (e = s) / l, n.drawImage(this.img, (s - e) / 2, (a - r) / 2, e, r, 0, 0, this.assetData.w, this.assetData.h), this.img = t } }, CVImageElement.prototype.renderInnerContent = function () { this.canvasContext.drawImage(this.img, 0, 0) }, CVImageElement.prototype.destroy = function () { this.img = null }, extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement), CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement, CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame, CVSolidElement.prototype.renderInnerContent = function () { this.globalData.renderer.ctxFillStyle(this.data.sc), this.globalData.renderer.ctxFillRect(0, 0, this.data.sw, this.data.sh) }, extendPrototype([BaseRenderer], CanvasRendererBase), CanvasRendererBase.prototype.createShape = function (t) { return new CVShapeElement(t, this.globalData, this) }, CanvasRendererBase.prototype.createText = function (t) { return new CVTextElement(t, this.globalData, this) }, CanvasRendererBase.prototype.createImage = function (t) { return new CVImageElement(t, this.globalData, this) }, CanvasRendererBase.prototype.createSolid = function (t) { return new CVSolidElement(t, this.globalData, this) }, CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull, CanvasRendererBase.prototype.ctxTransform = function (t) { t[0] === 1 && t[1] === 0 && t[4] === 0 && t[5] === 1 && t[12] === 0 && t[13] === 0 || this.canvasContext.transform(t[0], t[1], t[4], t[5], t[12], t[13]) }, CanvasRendererBase.prototype.ctxOpacity = function (t) { this.canvasContext.globalAlpha *= t < 0 ? 0 : t }, CanvasRendererBase.prototype.ctxFillStyle = function (t) { this.canvasContext.fillStyle = t }, CanvasRendererBase.prototype.ctxStrokeStyle = function (t) { this.canvasContext.strokeStyle = t }, CanvasRendererBase.prototype.ctxLineWidth = function (t) { this.canvasContext.lineWidth = t }, CanvasRendererBase.prototype.ctxLineCap = function (t) { this.canvasContext.lineCap = t }, CanvasRendererBase.prototype.ctxLineJoin = function (t) { this.canvasContext.lineJoin = t }, CanvasRendererBase.prototype.ctxMiterLimit = function (t) { this.canvasContext.miterLimit = t }, CanvasRendererBase.prototype.ctxFill = function (t) { this.canvasContext.fill(t) }, CanvasRendererBase.prototype.ctxFillRect = function (t, e, r, n) { this.canvasContext.fillRect(t, e, r, n) }, CanvasRendererBase.prototype.ctxStroke = function () { this.canvasContext.stroke() }, CanvasRendererBase.prototype.reset = function () { this.renderConfig.clearCanvas ? this.contextData.reset() : this.canvasContext.restore() }, CanvasRendererBase.prototype.save = function () { this.canvasContext.save() }, CanvasRendererBase.prototype.restore = function (t) { this.renderConfig.clearCanvas ? (t && (this.globalData.blendMode = "source-over"), this.contextData.restore(t)) : this.canvasContext.restore() }, CanvasRendererBase.prototype.configAnimation = function (t) { if (this.animationItem.wrapper) { this.animationItem.container = createTag("canvas"); var e = this.animationItem.container.style; e.width = "100%", e.height = "100%"; var r = "0px 0px 0px"; e.transformOrigin = r, e.mozTransformOrigin = r, e.webkitTransformOrigin = r, e["-webkit-transform"] = r, e.contentVisibility = this.renderConfig.contentVisibility, this.animationItem.wrapper.appendChild(this.animationItem.container), this.canvasContext = this.animationItem.container.getContext("2d"), this.renderConfig.className && this.animationItem.container.setAttribute("class", this.renderConfig.className), this.renderConfig.id && this.animationItem.container.setAttribute("id", this.renderConfig.id) } else this.canvasContext = this.renderConfig.context; this.contextData.setContext(this.canvasContext), this.data = t, this.layers = t.layers, this.transformCanvas = { w: t.w, h: t.h, sx: 0, sy: 0, tx: 0, ty: 0 }, this.setupGlobalData(t, document.body), this.globalData.canvasContext = this.canvasContext, this.globalData.renderer = this, this.globalData.isDashed = !1, this.globalData.progressiveLoad = this.renderConfig.progressiveLoad, this.globalData.transformCanvas = this.transformCanvas, this.elements = createSizedArray(t.layers.length), this.updateContainerSize() }, CanvasRendererBase.prototype.updateContainerSize = function (t, e) { var r, n, s, a; if (this.reset(), t ? (r = t, n = e, this.canvasContext.canvas.width = r, this.canvasContext.canvas.height = n) : (this.animationItem.wrapper && this.animationItem.container ? (r = this.animationItem.wrapper.offsetWidth, n = this.animationItem.wrapper.offsetHeight) : (r = this.canvasContext.canvas.width, n = this.canvasContext.canvas.height), this.canvasContext.canvas.width = r * this.renderConfig.dpr, this.canvasContext.canvas.height = n * this.renderConfig.dpr), this.renderConfig.preserveAspectRatio.indexOf("meet") !== -1 || this.renderConfig.preserveAspectRatio.indexOf("slice") !== -1) { var o = this.renderConfig.preserveAspectRatio.split(" "), l = o[1] || "meet", p = o[0] || "xMidYMid", y = p.substr(0, 4), h = p.substr(4); s = r / n, (a = this.transformCanvas.w / this.transformCanvas.h) > s && l === "meet" || a < s && l === "slice" ? (this.transformCanvas.sx = r / (this.transformCanvas.w / this.renderConfig.dpr), this.transformCanvas.sy = r / (this.transformCanvas.w / this.renderConfig.dpr)) : (this.transformCanvas.sx = n / (this.transformCanvas.h / this.renderConfig.dpr), this.transformCanvas.sy = n / (this.transformCanvas.h / this.renderConfig.dpr)), this.transformCanvas.tx = y === "xMid" && (a < s && l === "meet" || a > s && l === "slice") ? (r - this.transformCanvas.w * (n / this.transformCanvas.h)) / 2 * this.renderConfig.dpr : y === "xMax" && (a < s && l === "meet" || a > s && l === "slice") ? (r - this.transformCanvas.w * (n / this.transformCanvas.h)) * this.renderConfig.dpr : 0, this.transformCanvas.ty = h === "YMid" && (a > s && l === "meet" || a < s && l === "slice") ? (n - this.transformCanvas.h * (r / this.transformCanvas.w)) / 2 * this.renderConfig.dpr : h === "YMax" && (a > s && l === "meet" || a < s && l === "slice") ? (n - this.transformCanvas.h * (r / this.transformCanvas.w)) * this.renderConfig.dpr : 0 } else this.renderConfig.preserveAspectRatio === "none" ? (this.transformCanvas.sx = r / (this.transformCanvas.w / this.renderConfig.dpr), this.transformCanvas.sy = n / (this.transformCanvas.h / this.renderConfig.dpr), this.transformCanvas.tx = 0, this.transformCanvas.ty = 0) : (this.transformCanvas.sx = this.renderConfig.dpr, this.transformCanvas.sy = this.renderConfig.dpr, this.transformCanvas.tx = 0, this.transformCanvas.ty = 0); this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1], this.ctxTransform(this.transformCanvas.props), this.canvasContext.beginPath(), this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h), this.canvasContext.closePath(), this.canvasContext.clip(), this.renderFrame(this.renderedFrame, !0) }, CanvasRendererBase.prototype.destroy = function () { var t; for (this.renderConfig.clearCanvas && this.animationItem.wrapper && (this.animationItem.wrapper.innerText = ""), t = (this.layers ? this.layers.length : 0) - 1; t >= 0; t -= 1)this.elements[t] && this.elements[t].destroy && this.elements[t].destroy(); this.elements.length = 0, this.globalData.canvasContext = null, this.animationItem.container = null, this.destroyed = !0 }, CanvasRendererBase.prototype.renderFrame = function (t, e) { if ((this.renderedFrame !== t || this.renderConfig.clearCanvas !== !0 || e) && !this.destroyed && t !== -1) { var r; this.renderedFrame = t, this.globalData.frameNum = t - this.animationItem._isFirstFrame, this.globalData.frameId += 1, this.globalData._mdf = !this.renderConfig.clearCanvas || e, this.globalData.projectInterface.currentFrame = t; var n = this.layers.length; for (this.completeLayers || this.checkLayers(t), r = n - 1; r >= 0; r -= 1)(this.completeLayers || this.elements[r]) && this.elements[r].prepareFrame(t - this.layers[r].st); if (this.globalData._mdf) { for (this.renderConfig.clearCanvas === !0 ? this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h) : this.save(), r = n - 1; r >= 0; r -= 1)(this.completeLayers || this.elements[r]) && this.elements[r].renderFrame(); this.renderConfig.clearCanvas !== !0 && this.restore() } } }, CanvasRendererBase.prototype.buildItem = function (t) { var e = this.elements; if (!e[t] && this.layers[t].ty !== 99) { var r = this.createItem(this.layers[t], this, this.globalData); e[t] = r, r.initExpressions() } }, CanvasRendererBase.prototype.checkPendingElements = function () { for (; this.pendingElements.length;)this.pendingElements.pop().checkParenting() }, CanvasRendererBase.prototype.hide = function () { this.animationItem.container.style.display = "none" }, CanvasRendererBase.prototype.show = function () { this.animationItem.container.style.display = "block" }, CVContextData.prototype.duplicate = function () { var t = 2 * this._length, e = 0; for (e = this._length; e < t; e += 1)this.stack[e] = new CanvasContext; this._length = t }, CVContextData.prototype.reset = function () { this.cArrPos = 0, this.cTr.reset(), this.stack[this.cArrPos].opacity = 1 }, CVContextData.prototype.restore = function (t) { this.cArrPos -= 1; var e, r = this.stack[this.cArrPos], n = r.transform, s = this.cTr.props; for (e = 0; e < 16; e += 1)s[e] = n[e]; if (t) { this.nativeContext.restore(); var a = this.stack[this.cArrPos + 1]; this.appliedFillStyle = a.fillStyle, this.appliedStrokeStyle = a.strokeStyle, this.appliedLineWidth = a.lineWidth, this.appliedLineCap = a.lineCap, this.appliedLineJoin = a.lineJoin, this.appliedMiterLimit = a.miterLimit } this.nativeContext.setTransform(n[0], n[1], n[4], n[5], n[12], n[13]), (t || r.opacity !== -1 && this.currentOpacity !== r.opacity) && (this.nativeContext.globalAlpha = r.opacity, this.currentOpacity = r.opacity), this.currentFillStyle = r.fillStyle, this.currentStrokeStyle = r.strokeStyle, this.currentLineWidth = r.lineWidth, this.currentLineCap = r.lineCap, this.currentLineJoin = r.lineJoin, this.currentMiterLimit = r.miterLimit }, CVContextData.prototype.save = function (t) { t && this.nativeContext.save(); var e = this.cTr.props; this._length <= this.cArrPos && this.duplicate(); var r, n = this.stack[this.cArrPos]; for (r = 0; r < 16; r += 1)n.transform[r] = e[r]; this.cArrPos += 1; var s = this.stack[this.cArrPos]; s.opacity = n.opacity, s.fillStyle = n.fillStyle, s.strokeStyle = n.strokeStyle, s.lineWidth = n.lineWidth, s.lineCap = n.lineCap, s.lineJoin = n.lineJoin, s.miterLimit = n.miterLimit }, CVContextData.prototype.setOpacity = function (t) { this.stack[this.cArrPos].opacity = t }, CVContextData.prototype.setContext = function (t) { this.nativeContext = t }, CVContextData.prototype.fillStyle = function (t) { this.stack[this.cArrPos].fillStyle !== t && (this.currentFillStyle = t, this.stack[this.cArrPos].fillStyle = t) }, CVContextData.prototype.strokeStyle = function (t) { this.stack[this.cArrPos].strokeStyle !== t && (this.currentStrokeStyle = t, this.stack[this.cArrPos].strokeStyle = t) }, CVContextData.prototype.lineWidth = function (t) { this.stack[this.cArrPos].lineWidth !== t && (this.currentLineWidth = t, this.stack[this.cArrPos].lineWidth = t) }, CVContextData.prototype.lineCap = function (t) { this.stack[this.cArrPos].lineCap !== t && (this.currentLineCap = t, this.stack[this.cArrPos].lineCap = t) }, CVContextData.prototype.lineJoin = function (t) { this.stack[this.cArrPos].lineJoin !== t && (this.currentLineJoin = t, this.stack[this.cArrPos].lineJoin = t) }, CVContextData.prototype.miterLimit = function (t) { this.stack[this.cArrPos].miterLimit !== t && (this.currentMiterLimit = t, this.stack[this.cArrPos].miterLimit = t) }, CVContextData.prototype.transform = function (t) { this.transformMat.cloneFromProps(t); var e = this.cTr; this.transformMat.multiply(e), e.cloneFromProps(this.transformMat.props); var r = e.props; this.nativeContext.setTransform(r[0], r[1], r[4], r[5], r[12], r[13]) }, CVContextData.prototype.opacity = function (t) { var e = this.stack[this.cArrPos].opacity; e *= t < 0 ? 0 : t, this.stack[this.cArrPos].opacity !== e && (this.currentOpacity !== t && (this.nativeContext.globalAlpha = t, this.currentOpacity = t), this.stack[this.cArrPos].opacity = e) }, CVContextData.prototype.fill = function (t) { this.appliedFillStyle !== this.currentFillStyle && (this.appliedFillStyle = this.currentFillStyle, this.nativeContext.fillStyle = this.appliedFillStyle), this.nativeContext.fill(t) }, CVContextData.prototype.fillRect = function (t, e, r, n) { this.appliedFillStyle !== this.currentFillStyle && (this.appliedFillStyle = this.currentFillStyle, this.nativeContext.fillStyle = this.appliedFillStyle), this.nativeContext.fillRect(t, e, r, n) }, CVContextData.prototype.stroke = function () { this.appliedStrokeStyle !== this.currentStrokeStyle && (this.appliedStrokeStyle = this.currentStrokeStyle, this.nativeContext.strokeStyle = this.appliedStrokeStyle), this.appliedLineWidth !== this.currentLineWidth && (this.appliedLineWidth = this.currentLineWidth, this.nativeContext.lineWidth = this.appliedLineWidth), this.appliedLineCap !== this.currentLineCap && (this.appliedLineCap = this.currentLineCap, this.nativeContext.lineCap = this.appliedLineCap), this.appliedLineJoin !== this.currentLineJoin && (this.appliedLineJoin = this.currentLineJoin, this.nativeContext.lineJoin = this.appliedLineJoin), this.appliedMiterLimit !== this.currentMiterLimit && (this.appliedMiterLimit = this.currentMiterLimit, this.nativeContext.miterLimit = this.appliedMiterLimit), this.nativeContext.stroke() }, extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement), CVCompElement.prototype.renderInnerContent = function () { var t, e = this.canvasContext; for (e.beginPath(), e.moveTo(0, 0), e.lineTo(this.data.w, 0), e.lineTo(this.data.w, this.data.h), e.lineTo(0, this.data.h), e.lineTo(0, 0), e.clip(), t = this.layers.length - 1; t >= 0; t -= 1)(this.completeLayers || this.elements[t]) && this.elements[t].renderFrame() }, CVCompElement.prototype.destroy = function () { var t; for (t = this.layers.length - 1; t >= 0; t -= 1)this.elements[t] && this.elements[t].destroy(); this.layers = null, this.elements = null }, CVCompElement.prototype.createComp = function (t) { return new CVCompElement(t, this.globalData, this) }, extendPrototype([CanvasRendererBase], CanvasRenderer), CanvasRenderer.prototype.createComp = function (t) { return new CVCompElement(t, this.globalData, this) }, HBaseElement.prototype = { checkBlendMode: function () { }, initRendererElement: function () { this.baseElement = createTag(this.data.tg || "div"), this.data.hasMask ? (this.svgElement = createNS("svg"), this.layerElement = createNS("g"), this.maskedElement = this.layerElement, this.svgElement.appendChild(this.layerElement), this.baseElement.appendChild(this.svgElement)) : this.layerElement = this.baseElement, styleDiv(this.baseElement) }, createContainerElements: function () { this.renderableEffectsManager = new CVEffects(this), this.transformedElement = this.baseElement, this.maskedElement = this.layerElement, this.data.ln && this.layerElement.setAttribute("id", this.data.ln), this.data.cl && this.layerElement.setAttribute("class", this.data.cl), this.data.bm !== 0 && this.setBlendMode() }, renderElement: function () { var t = this.transformedElement ? this.transformedElement.style : {}; if (this.finalTransform._matMdf) { var e = this.finalTransform.mat.toCSS(); t.transform = e, t.webkitTransform = e } this.finalTransform._opMdf && (t.opacity = this.finalTransform.mProp.o.v) }, renderFrame: function () { this.data.hd || this.hidden || (this.renderTransform(), this.renderRenderable(), this.renderElement(), this.renderInnerContent(), this._isFirstFrame && (this._isFirstFrame = !1)) }, destroy: function () { this.layerElement = null, this.transformedElement = null, this.matteElement && (this.matteElement = null), this.maskManager && (this.maskManager.destroy(), this.maskManager = null) }, createRenderableComponents: function () { this.maskManager = new MaskElement(this.data, this, this.globalData) }, addEffects: function () { }, setMatte: function () { } }, HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement, HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy, HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting, extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement), HSolidElement.prototype.createContent = function () { var t; this.data.hasMask ? ((t = createNS("rect")).setAttribute("width", this.data.sw), t.setAttribute("height", this.data.sh), t.setAttribute("fill", this.data.sc), this.svgElement.setAttribute("width", this.data.sw), this.svgElement.setAttribute("height", this.data.sh)) : ((t = createTag("div")).style.width = this.data.sw + "px", t.style.height = this.data.sh + "px", t.style.backgroundColor = this.data.sc), this.layerElement.appendChild(t) }, extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement), HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent, HShapeElement.prototype.createContent = function () { var t; if (this.baseElement.style.fontSize = 0, this.data.hasMask) this.layerElement.appendChild(this.shapesContainer), t = this.svgElement; else { t = createNS("svg"); var e = this.comp.data ? this.comp.data : this.globalData.compSize; t.setAttribute("width", e.w), t.setAttribute("height", e.h), t.appendChild(this.shapesContainer), this.layerElement.appendChild(t) } this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], !0), this.filterUniqueShapes(), this.shapeCont = t }, HShapeElement.prototype.getTransformedPoint = function (t, e) { var r, n = t.length; for (r = 0; r < n; r += 1)e = t[r].mProps.v.applyToPointArray(e[0], e[1], 0); return e }, HShapeElement.prototype.calculateShapeBoundingBox = function (t, e) { var r, n, s, a, o, l = t.sh.v, p = t.transformers, y = l._length; if (!(y <= 1)) { for (r = 0; r < y - 1; r += 1)n = this.getTransformedPoint(p, l.v[r]), s = this.getTransformedPoint(p, l.o[r]), a = this.getTransformedPoint(p, l.i[r + 1]), o = this.getTransformedPoint(p, l.v[r + 1]), this.checkBounds(n, s, a, o, e); l.c && (n = this.getTransformedPoint(p, l.v[r]), s = this.getTransformedPoint(p, l.o[r]), a = this.getTransformedPoint(p, l.i[0]), o = this.getTransformedPoint(p, l.v[0]), this.checkBounds(n, s, a, o, e)) } }, HShapeElement.prototype.checkBounds = function (t, e, r, n, s) { this.getBoundsOfCurve(t, e, r, n); var a = this.shapeBoundingBox; s.x = bmMin(a.left, s.x), s.xMax = bmMax(a.right, s.xMax), s.y = bmMin(a.top, s.y), s.yMax = bmMax(a.bottom, s.yMax) }, HShapeElement.prototype.shapeBoundingBox = { left: 0, right: 0, top: 0, bottom: 0 }, HShapeElement.prototype.tempBoundingBox = { x: 0, xMax: 0, y: 0, yMax: 0, width: 0, height: 0 }, HShapeElement.prototype.getBoundsOfCurve = function (t, e, r, n) { for (var s, a, o, l, p, y, h, d = [[t[0], n[0]], [t[1], n[1]]], f = 0; f < 2; ++f)a = 6 * t[f] - 12 * e[f] + 6 * r[f], s = -3 * t[f] + 9 * e[f] - 9 * r[f] + 3 * n[f], o = 3 * e[f] - 3 * t[f], a |= 0, o |= 0, (s |= 0) == 0 && a === 0 || (s === 0 ? (l = -o / a) > 0 && l < 1 && d[f].push(this.calculateF(l, t, e, r, n, f)) : (p = a * a - 4 * o * s) >= 0 && ((y = (-a + bmSqrt(p)) / (2 * s)) > 0 && y < 1 && d[f].push(this.calculateF(y, t, e, r, n, f)), (h = (-a - bmSqrt(p)) / (2 * s)) > 0 && h < 1 && d[f].push(this.calculateF(h, t, e, r, n, f)))); this.shapeBoundingBox.left = bmMin.apply(null, d[0]), this.shapeBoundingBox.top = bmMin.apply(null, d[1]), this.shapeBoundingBox.right = bmMax.apply(null, d[0]), this.shapeBoundingBox.bottom = bmMax.apply(null, d[1]) }, HShapeElement.prototype.calculateF = function (t, e, r, n, s, a) { return bmPow(1 - t, 3) * e[a] + 3 * bmPow(1 - t, 2) * t * r[a] + 3 * (1 - t) * bmPow(t, 2) * n[a] + bmPow(t, 3) * s[a] }, HShapeElement.prototype.calculateBoundingBox = function (t, e) { var r, n = t.length; for (r = 0; r < n; r += 1)t[r] && t[r].sh ? this.calculateShapeBoundingBox(t[r], e) : t[r] && t[r].it ? this.calculateBoundingBox(t[r].it, e) : t[r] && t[r].style && t[r].w && this.expandStrokeBoundingBox(t[r].w, e) }, HShapeElement.prototype.expandStrokeBoundingBox = function (t, e) { var r = 0; if (t.keyframes) { for (var n = 0; n < t.keyframes.length; n += 1) { var s = t.keyframes[n].s; s > r && (r = s) } r *= t.mult } else r = t.v * t.mult; e.x -= r, e.xMax += r, e.y -= r, e.yMax += r }, HShapeElement.prototype.currentBoxContains = function (t) { return this.currentBBox.x <= t.x && this.currentBBox.y <= t.y && this.currentBBox.width + this.currentBBox.x >= t.x + t.width && this.currentBBox.height + this.currentBBox.y >= t.y + t.height }, HShapeElement.prototype.renderInnerContent = function () { if (this._renderShapeFrame(), !this.hidden && (this._isFirstFrame || this._mdf)) { var t = this.tempBoundingBox, e = 999999; if (t.x = e, t.xMax = -e, t.y = e, t.yMax = -e, this.calculateBoundingBox(this.itemsData, t), t.width = t.xMax < t.x ? 0 : t.xMax - t.x, t.height = t.yMax < t.y ? 0 : t.yMax - t.y, this.currentBoxContains(t)) return; var r = !1; if (this.currentBBox.w !== t.width && (this.currentBBox.w = t.width, this.shapeCont.setAttribute("width", t.width), r = !0), this.currentBBox.h !== t.height && (this.currentBBox.h = t.height, this.shapeCont.setAttribute("height", t.height), r = !0), r || this.currentBBox.x !== t.x || this.currentBBox.y !== t.y) { this.currentBBox.w = t.width, this.currentBBox.h = t.height, this.currentBBox.x = t.x, this.currentBBox.y = t.y, this.shapeCont.setAttribute("viewBox", this.currentBBox.x + " " + this.currentBBox.y + " " + this.currentBBox.w + " " + this.currentBBox.h); var n = this.shapeCont.style, s = "translate(" + this.currentBBox.x + "px," + this.currentBBox.y + "px)"; n.transform = s, n.webkitTransform = s } } }, extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement), HTextElement.prototype.createContent = function () { if (this.isMasked = this.checkMasks(), this.isMasked) { this.renderType = "svg", this.compW = this.comp.data.w, this.compH = this.comp.data.h, this.svgElement.setAttribute("width", this.compW), this.svgElement.setAttribute("height", this.compH); var t = createNS("g"); this.maskedElement.appendChild(t), this.innerElem = t } else this.renderType = "html", this.innerElem = this.layerElement; this.checkParenting() }, HTextElement.prototype.buildNewText = function () { var t = this.textProperty.currentData; this.renderedLetters = createSizedArray(t.l ? t.l.length : 0); var e = this.innerElem.style, r = t.fc ? this.buildColor(t.fc) : "rgba(0,0,0,0)"; e.fill = r, e.color = r, t.sc && (e.stroke = this.buildColor(t.sc), e.strokeWidth = t.sw + "px"); var n, s, a = this.globalData.fontManager.getFontByName(t.f); if (!this.globalData.fontManager.chars) if (e.fontSize = t.finalSize + "px", e.lineHeight = t.finalSize + "px", a.fClass) this.innerElem.className = a.fClass; else { e.fontFamily = a.fFamily; var o = t.fWeight, l = t.fStyle; e.fontStyle = l, e.fontWeight = o } var p, y, h, d = t.l; s = d.length; var f, g = this.mHelper, m = "", c = 0; for (n = 0; n < s; n += 1) { if (this.globalData.fontManager.chars ? (this.textPaths[c] ? p = this.textPaths[c] : ((p = createNS("path")).setAttribute("stroke-linecap", lineCapEnum[1]), p.setAttribute("stroke-linejoin", lineJoinEnum[2]), p.setAttribute("stroke-miterlimit", "4")), this.isMasked || (this.textSpans[c] ? h = (y = this.textSpans[c]).children[0] : ((y = createTag("div")).style.lineHeight = 0, (h = createNS("svg")).appendChild(p), styleDiv(y)))) : this.isMasked ? p = this.textPaths[c] ? this.textPaths[c] : createNS("text") : this.textSpans[c] ? (y = this.textSpans[c], p = this.textPaths[c]) : (styleDiv(y = createTag("span")), styleDiv(p = createTag("span")), y.appendChild(p)), this.globalData.fontManager.chars) { var u, v = this.globalData.fontManager.getCharData(t.finalText[n], a.fStyle, this.globalData.fontManager.getFontByName(t.f).fFamily); if (u = v ? v.data : null, g.reset(), u && u.shapes && u.shapes.length && (f = u.shapes[0].it, g.scale(t.finalSize / 100, t.finalSize / 100), m = this.createPathShape(g, f), p.setAttribute("d", m)), this.isMasked) this.innerElem.appendChild(p); else { if (this.innerElem.appendChild(y), u && u.shapes) { document.body.appendChild(h); var b = h.getBBox(); h.setAttribute("width", b.width + 2), h.setAttribute("height", b.height + 2), h.setAttribute("viewBox", b.x - 1 + " " + (b.y - 1) + " " + (b.width + 2) + " " + (b.height + 2)); var E = h.style, _ = "translate(" + (b.x - 1) + "px," + (b.y - 1) + "px)"; E.transform = _, E.webkitTransform = _, d[n].yOffset = b.y - 1 } else h.setAttribute("width", 1), h.setAttribute("height", 1); y.appendChild(h) } } else if (p.textContent = d[n].val, p.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"), this.isMasked) this.innerElem.appendChild(p); else { this.innerElem.appendChild(y); var x = p.style, T = "translate3d(0," + -t.finalSize / 1.2 + "px,0)"; x.transform = T, x.webkitTransform = T } this.isMasked ? this.textSpans[c] = p : this.textSpans[c] = y, this.textSpans[c].style.display = "block", this.textPaths[c] = p, c += 1 } for (; c < this.textSpans.length;)this.textSpans[c].style.display = "none", c += 1 }, HTextElement.prototype.renderInnerContent = function () { var t; if (this.validateText(), this.data.singleShape) { if (!this._isFirstFrame && !this.lettersChangedFlag) return; if (this.isMasked && this.finalTransform._matMdf) { this.svgElement.setAttribute("viewBox", -this.finalTransform.mProp.p.v[0] + " " + -this.finalTransform.mProp.p.v[1] + " " + this.compW + " " + this.compH), t = this.svgElement.style; var e = "translate(" + -this.finalTransform.mProp.p.v[0] + "px," + -this.finalTransform.mProp.p.v[1] + "px)"; t.transform = e, t.webkitTransform = e } } if (this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag), this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) { var r, n, s, a, o, l = 0, p = this.textAnimator.renderedLetters, y = this.textProperty.currentData.l; for (n = y.length, r = 0; r < n; r += 1)y[r].n ? l += 1 : (a = this.textSpans[r], o = this.textPaths[r], s = p[l], l += 1, s._mdf.m && (this.isMasked ? a.setAttribute("transform", s.m) : (a.style.webkitTransform = s.m, a.style.transform = s.m)), a.style.opacity = s.o, s.sw && s._mdf.sw && o.setAttribute("stroke-width", s.sw), s.sc && s._mdf.sc && o.setAttribute("stroke", s.sc), s.fc && s._mdf.fc && (o.setAttribute("fill", s.fc), o.style.color = s.fc)); if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) { var h = this.innerElem.getBBox(); if (this.currentBBox.w !== h.width && (this.currentBBox.w = h.width, this.svgElement.setAttribute("width", h.width)), this.currentBBox.h !== h.height && (this.currentBBox.h = h.height, this.svgElement.setAttribute("height", h.height)), this.currentBBox.w !== h.width + 2 || this.currentBBox.h !== h.height + 2 || this.currentBBox.x !== h.x - 1 || this.currentBBox.y !== h.y - 1) { this.currentBBox.w = h.width + 2, this.currentBBox.h = h.height + 2, this.currentBBox.x = h.x - 1, this.currentBBox.y = h.y - 1, this.svgElement.setAttribute("viewBox", this.currentBBox.x + " " + this.currentBBox.y + " " + this.currentBBox.w + " " + this.currentBBox.h), t = this.svgElement.style; var d = "translate(" + this.currentBBox.x + "px," + this.currentBBox.y + "px)"; t.transform = d, t.webkitTransform = d } } } }, extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement), HCameraElement.prototype.setup = function () { var t, e, r, n, s = this.comp.threeDElements.length; for (t = 0; t < s; t += 1)if ((e = this.comp.threeDElements[t]).type === "3d") { r = e.perspectiveElem.style, n = e.container.style; var a = this.pe.v + "px", o = "0px 0px 0px", l = "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"; r.perspective = a, r.webkitPerspective = a, n.transformOrigin = o, n.mozTransformOrigin = o, n.webkitTransformOrigin = o, r.transform = l, r.webkitTransform = l } }, HCameraElement.prototype.createElements = function () { }, HCameraElement.prototype.hide = function () { }, HCameraElement.prototype.renderFrame = function () { var t, e, r = this._isFirstFrame; if (this.hierarchy) for (e = this.hierarchy.length, t = 0; t < e; t += 1)r = this.hierarchy[t].finalTransform.mProp._mdf || r; if (r || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) { if (this.mat.reset(), this.hierarchy) for (t = e = this.hierarchy.length - 1; t >= 0; t -= 1) { var n = this.hierarchy[t].finalTransform.mProp; this.mat.translate(-n.p.v[0], -n.p.v[1], n.p.v[2]), this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]), this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v), this.mat.scale(1 / n.s.v[0], 1 / n.s.v[1], 1 / n.s.v[2]), this.mat.translate(n.a.v[0], n.a.v[1], n.a.v[2]) } if (this.p ? this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]) : this.mat.translate(-this.px.v, -this.py.v, this.pz.v), this.a) { var s; s = this.p ? [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]] : [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]]; var a = Math.sqrt(Math.pow(s[0], 2) + Math.pow(s[1], 2) + Math.pow(s[2], 2)), o = [s[0] / a, s[1] / a, s[2] / a], l = Math.sqrt(o[2] * o[2] + o[0] * o[0]), p = Math.atan2(o[1], l), y = Math.atan2(o[0], -o[2]); this.mat.rotateY(y).rotateX(-p) } this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v), this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]), this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0), this.mat.translate(0, 0, this.pe.v); var h = !this._prevMat.equals(this.mat); if ((h || this.pe._mdf) && this.comp.threeDElements) { var d, f, g; for (e = this.comp.threeDElements.length, t = 0; t < e; t += 1)if ((d = this.comp.threeDElements[t]).type === "3d") { if (h) { var m = this.mat.toCSS(); (g = d.container.style).transform = m, g.webkitTransform = m } this.pe._mdf && ((f = d.perspectiveElem.style).perspective = this.pe.v + "px", f.webkitPerspective = this.pe.v + "px") } this.mat.clone(this._prevMat) } } this._isFirstFrame = !1 }, HCameraElement.prototype.prepareFrame = function (t) { this.prepareProperties(t, !0) }, HCameraElement.prototype.destroy = function () { }, HCameraElement.prototype.getBaseElement = function () { return null }, extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement), HImageElement.prototype.createContent = function () { var t = this.globalData.getAssetsPath(this.assetData), e = new Image; this.data.hasMask ? (this.imageElem = createNS("image"), this.imageElem.setAttribute("width", this.assetData.w + "px"), this.imageElem.setAttribute("height", this.assetData.h + "px"), this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink", "href", t), this.layerElement.appendChild(this.imageElem), this.baseElement.setAttribute("width", this.assetData.w), this.baseElement.setAttribute("height", this.assetData.h)) : this.layerElement.appendChild(e), e.crossOrigin = "anonymous", e.src = t, this.data.ln && this.baseElement.setAttribute("id", this.data.ln) }, extendPrototype([BaseRenderer], HybridRendererBase), HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem, HybridRendererBase.prototype.checkPendingElements = function () { for (; this.pendingElements.length;)this.pendingElements.pop().checkParenting() }, HybridRendererBase.prototype.appendElementInPos = function (t, e) { var r = t.getBaseElement(); if (r) { var n = this.layers[e]; if (n.ddd && this.supports3d) this.addTo3dContainer(r, e); else if (this.threeDElements) this.addTo3dContainer(r, e); else { for (var s, a, o = 0; o < e;)this.elements[o] && this.elements[o] !== !0 && this.elements[o].getBaseElement && (a = this.elements[o], s = (this.layers[o].ddd ? this.getThreeDContainerByPos(o) : a.getBaseElement()) || s), o += 1; s ? n.ddd && this.supports3d || this.layerElement.insertBefore(r, s) : n.ddd && this.supports3d || this.layerElement.appendChild(r) } } }, HybridRendererBase.prototype.createShape = function (t) { return this.supports3d ? new HShapeElement(t, this.globalData, this) : new SVGShapeElement(t, this.globalData, this) }, HybridRendererBase.prototype.createText = function (t) { return this.supports3d ? new HTextElement(t, this.globalData, this) : new SVGTextLottieElement(t, this.globalData, this) }, HybridRendererBase.prototype.createCamera = function (t) { return this.camera = new HCameraElement(t, this.globalData, this), this.camera }, HybridRendererBase.prototype.createImage = function (t) { return this.supports3d ? new HImageElement(t, this.globalData, this) : new IImageElement(t, this.globalData, this) }, HybridRendererBase.prototype.createSolid = function (t) { return this.supports3d ? new HSolidElement(t, this.globalData, this) : new ISolidElement(t, this.globalData, this) }, HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull, HybridRendererBase.prototype.getThreeDContainerByPos = function (t) { for (var e = 0, r = this.threeDElements.length; e < r;) { if (this.threeDElements[e].startPos <= t && this.threeDElements[e].endPos >= t) return this.threeDElements[e].perspectiveElem; e += 1 } return null }, HybridRendererBase.prototype.createThreeDContainer = function (t, e) { var r, n, s = createTag("div"); styleDiv(s); var a = createTag("div"); if (styleDiv(a), e === "3d") { (r = s.style).width = this.globalData.compSize.w + "px", r.height = this.globalData.compSize.h + "px"; var o = "50% 50%"; r.webkitTransformOrigin = o, r.mozTransformOrigin = o, r.transformOrigin = o; var l = "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"; (n = a.style).transform = l, n.webkitTransform = l } s.appendChild(a); var p = { container: a, perspectiveElem: s, startPos: t, endPos: t, type: e }; return this.threeDElements.push(p), p }, HybridRendererBase.prototype.build3dContainers = function () { var t, e, r = this.layers.length, n = ""; for (t = 0; t < r; t += 1)this.layers[t].ddd && this.layers[t].ty !== 3 ? (n !== "3d" && (n = "3d", e = this.createThreeDContainer(t, "3d")), e.endPos = Math.max(e.endPos, t)) : (n !== "2d" && (n = "2d", e = this.createThreeDContainer(t, "2d")), e.endPos = Math.max(e.endPos, t)); for (t = (r = this.threeDElements.length) - 1; t >= 0; t -= 1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem) }, HybridRendererBase.prototype.addTo3dContainer = function (t, e) { for (var r = 0, n = this.threeDElements.length; r < n;) { if (e <= this.threeDElements[r].endPos) { for (var s, a = this.threeDElements[r].startPos; a < e;)this.elements[a] && this.elements[a].getBaseElement && (s = this.elements[a].getBaseElement()), a += 1; s ? this.threeDElements[r].container.insertBefore(t, s) : this.threeDElements[r].container.appendChild(t); break } r += 1 } }, HybridRendererBase.prototype.configAnimation = function (t) { var e = createTag("div"), r = this.animationItem.wrapper, n = e.style; n.width = t.w + "px", n.height = t.h + "px", this.resizerElem = e, styleDiv(e), n.transformStyle = "flat", n.mozTransformStyle = "flat", n.webkitTransformStyle = "flat", this.renderConfig.className && e.setAttribute("class", this.renderConfig.className), r.appendChild(e), n.overflow = "hidden"; var s = createNS("svg"); s.setAttribute("width", "1"), s.setAttribute("height", "1"), styleDiv(s), this.resizerElem.appendChild(s); var a = createNS("defs"); s.appendChild(a), this.data = t, this.setupGlobalData(t, s), this.globalData.defs = a, this.layers = t.layers, this.layerElement = this.resizerElem, this.build3dContainers(), this.updateContainerSize() }, HybridRendererBase.prototype.destroy = function () { var t; this.animationItem.wrapper && (this.animationItem.wrapper.innerText = ""), this.animationItem.container = null, this.globalData.defs = null; var e = this.layers ? this.layers.length : 0; for (t = 0; t < e; t += 1)this.elements[t] && this.elements[t].destroy && this.elements[t].destroy(); this.elements.length = 0, this.destroyed = !0, this.animationItem = null }, HybridRendererBase.prototype.updateContainerSize = function () { var t, e, r, n, s = this.animationItem.wrapper.offsetWidth, a = this.animationItem.wrapper.offsetHeight, o = s / a; this.globalData.compSize.w / this.globalData.compSize.h > o ? (t = s / this.globalData.compSize.w, e = s / this.globalData.compSize.w, r = 0, n = (a - this.globalData.compSize.h * (s / this.globalData.compSize.w)) / 2) : (t = a / this.globalData.compSize.h, e = a / this.globalData.compSize.h, r = (s - this.globalData.compSize.w * (a / this.globalData.compSize.h)) / 2, n = 0); var l = this.resizerElem.style; l.webkitTransform = "matrix3d(" + t + ",0,0,0,0," + e + ",0,0,0,0,1,0," + r + "," + n + ",0,1)", l.transform = l.webkitTransform }, HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame, HybridRendererBase.prototype.hide = function () { this.resizerElem.style.display = "none" }, HybridRendererBase.prototype.show = function () { this.resizerElem.style.display = "block" }, HybridRendererBase.prototype.initItems = function () { if (this.buildAllItems(), this.camera) this.camera.setup(); else { var t, e = this.globalData.compSize.w, r = this.globalData.compSize.h, n = this.threeDElements.length; for (t = 0; t < n; t += 1) { var s = this.threeDElements[t].perspectiveElem.style; s.webkitPerspective = Math.sqrt(Math.pow(e, 2) + Math.pow(r, 2)) + "px", s.perspective = s.webkitPerspective } } }, HybridRendererBase.prototype.searchExtraCompositions = function (t) { var e, r = t.length, n = createTag("div"); for (e = 0; e < r; e += 1)if (t[e].xt) { var s = this.createComp(t[e], n, this.globalData.comp, null); s.initExpressions(), this.globalData.projectInterface.registerComposition(s) } }, extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement), HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements, HCompElement.prototype.createContainerElements = function () { this._createBaseContainerElements(), this.data.hasMask ? (this.svgElement.setAttribute("width", this.data.w), this.svgElement.setAttribute("height", this.data.h), this.transformedElement = this.baseElement) : this.transformedElement = this.layerElement }, HCompElement.prototype.addTo3dContainer = function (t, e) { for (var r, n = 0; n < e;)this.elements[n] && this.elements[n].getBaseElement && (r = this.elements[n].getBaseElement()), n += 1; r ? this.layerElement.insertBefore(t, r) : this.layerElement.appendChild(t) }, HCompElement.prototype.createComp = function (t) { return this.supports3d ? new HCompElement(t, this.globalData, this) : new SVGCompElement(t, this.globalData, this) }, extendPrototype([HybridRendererBase], HybridRenderer), HybridRenderer.prototype.createComp = function (t) { return this.supports3d ? new HCompElement(t, this.globalData, this) : new SVGCompElement(t, this.globalData, this) }; var CompExpressionInterface = function (t) { function e(r) { for (var n = 0, s = t.layers.length; n < s;) { if (t.layers[n].nm === r || t.layers[n].ind === r) return t.elements[n].layerInterface; n += 1 } return null } return Object.defineProperty(e, "_name", { value: t.data.nm }), e.layer = e, e.pixelAspect = 1, e.height = t.data.h || t.globalData.compSize.h, e.width = t.data.w || t.globalData.compSize.w, e.pixelAspect = 1, e.frameDuration = 1 / t.globalData.frameRate, e.displayStartTime = 0, e.numLayers = t.layers.length, e }; function _typeof$2(t) { return _typeof$2 = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, _typeof$2(t) } function seedRandom(t, e) { var r = this, n = 256, s = e.pow(n, 6), a = e.pow(2, 52), o = 2 * a, l = 255; function p(g) { var m, c = g.length, u = this, v = 0, b = u.i = u.j = 0, E = u.S = []; for (c || (g = [c++]); v < n;)E[v] = v++; for (v = 0; v < n; v++)E[v] = E[b = l & b + g[v % c] + (m = E[v])], E[b] = m; u.g = function (_) { for (var x, T = 0, w = u.i, C = u.j, A = u.S; _--;)x = A[w = l & w + 1], T = T * n + A[l & (A[w] = A[C = l & C + x]) + (A[C] = x)]; return u.i = w, u.j = C, T } } function y(g, m) { return m.i = g.i, m.j = g.j, m.S = g.S.slice(), m } function h(g, m) { var c, u = [], v = _typeof$2(g); if (m && v == "object") for (c in g) try { u.push(h(g[c], m - 1)) } catch { } return u.length ? u : v == "string" ? g : g + "\0" } function d(g, m) { for (var c, u = g + "", v = 0; v < u.length;)m[l & v] = l & (c ^= 19 * m[l & v]) + u.charCodeAt(v++); return f(m) } function f(g) { return String.fromCharCode.apply(0, g) } e.seedrandom = function (g, m, c) { var u = [], v = d(h((m = m === !0 ? { entropy: !0 } : m || {}).entropy ? [g, f(t)] : g === null ? function () { try { var _ = new Uint8Array(n); return (r.crypto || r.msCrypto).getRandomValues(_), f(_) } catch { var x = r.navigator, T = x && x.plugins; return [+new Date, r, T, r.screen, f(t)] } }() : g, 3), u), b = new p(u), E = function () { for (var _ = b.g(6), x = s, T = 0; _ < a;)_ = (_ + T) * n, x *= n, T = b.g(1); for (; _ >= o;)_ /= 2, x /= 2, T >>>= 1; return (_ + T) / x }; return E.int32 = function () { return 0 | b.g(4) }, E.quick = function () { return b.g(4) / 4294967296 }, E.double = E, d(f(b.S), t), (m.pass || c || function (_, x, T, w) { return w && (w.S && y(w, b), _.state = function () { return y(b, {}) }), T ? (e.random = _, x) : _ })(E, v, "global" in m ? m.global : this == e, m.state) }, d(e.random(), t) } function initialize$2(t) { seedRandom([], t) } var propTypes = { SHAPE: "shape" }; function _typeof$1(t) { return _typeof$1 = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, _typeof$1(t) } var ExpressionManager = function () { var ob = {}, Math = BMMath, window = null, document = null, XMLHttpRequest = null, fetch = null, frames = null, _lottieGlobal = {}; function resetFrame() { _lottieGlobal = {} } function $bm_isInstanceOfArray(t) { return t.constructor === Array || t.constructor === Float32Array } function isNumerable(t, e) { return t === "number" || e instanceof Number || t === "boolean" || t === "string" } function $bm_neg(t) { var e = _typeof$1(t); if (e === "number" || t instanceof Number || e === "boolean") return -t; if ($bm_isInstanceOfArray(t)) { var r, n = t.length, s = []; for (r = 0; r < n; r += 1)s[r] = -t[r]; return s } return t.propType ? t.v : -t } initialize$2(BMMath); var easeInBez = BezierFactory.getBezierEasing(.333, 0, .833, .833, "easeIn").get, easeOutBez = BezierFactory.getBezierEasing(.167, .167, .667, 1, "easeOut").get, easeInOutBez = BezierFactory.getBezierEasing(.33, 0, .667, 1, "easeInOut").get; function sum(t, e) { var r = _typeof$1(t), n = _typeof$1(e); if (isNumerable(r, t) && isNumerable(n, e) || r === "string" || n === "string") return t + e; if ($bm_isInstanceOfArray(t) && isNumerable(n, e)) return (t = t.slice(0))[0] += e, t; if (isNumerable(r, t) && $bm_isInstanceOfArray(e)) return (e = e.slice(0))[0] = t + e[0], e; if ($bm_isInstanceOfArray(t) && $bm_isInstanceOfArray(e)) { for (var s = 0, a = t.length, o = e.length, l = []; s < a || s < o;)(typeof t[s] == "number" || t[s] instanceof Number) && (typeof e[s] == "number" || e[s] instanceof Number) ? l[s] = t[s] + e[s] : l[s] = e[s] === void 0 ? t[s] : t[s] || e[s], s += 1; return l } return 0 } var add = sum; function sub(t, e) { var r = _typeof$1(t), n = _typeof$1(e); if (isNumerable(r, t) && isNumerable(n, e)) return r === "string" && (t = parseInt(t, 10)), n === "string" && (e = parseInt(e, 10)), t - e; if ($bm_isInstanceOfArray(t) && isNumerable(n, e)) return (t = t.slice(0))[0] -= e, t; if (isNumerable(r, t) && $bm_isInstanceOfArray(e)) return (e = e.slice(0))[0] = t - e[0], e; if ($bm_isInstanceOfArray(t) && $bm_isInstanceOfArray(e)) { for (var s = 0, a = t.length, o = e.length, l = []; s < a || s < o;)(typeof t[s] == "number" || t[s] instanceof Number) && (typeof e[s] == "number" || e[s] instanceof Number) ? l[s] = t[s] - e[s] : l[s] = e[s] === void 0 ? t[s] : t[s] || e[s], s += 1; return l } return 0 } function mul(t, e) { var r, n, s, a = _typeof$1(t), o = _typeof$1(e); if (isNumerable(a, t) && isNumerable(o, e)) return t * e; if ($bm_isInstanceOfArray(t) && isNumerable(o, e)) { for (s = t.length, r = createTypedArray("float32", s), n = 0; n < s; n += 1)r[n] = t[n] * e; return r } if (isNumerable(a, t) && $bm_isInstanceOfArray(e)) { for (s = e.length, r = createTypedArray("float32", s), n = 0; n < s; n += 1)r[n] = t * e[n]; return r } return 0 } function div(t, e) { var r, n, s, a = _typeof$1(t), o = _typeof$1(e); if (isNumerable(a, t) && isNumerable(o, e)) return t / e; if ($bm_isInstanceOfArray(t) && isNumerable(o, e)) { for (s = t.length, r = createTypedArray("float32", s), n = 0; n < s; n += 1)r[n] = t[n] / e; return r } if (isNumerable(a, t) && $bm_isInstanceOfArray(e)) { for (s = e.length, r = createTypedArray("float32", s), n = 0; n < s; n += 1)r[n] = t / e[n]; return r } return 0 } function mod(t, e) { return typeof t == "string" && (t = parseInt(t, 10)), typeof e == "string" && (e = parseInt(e, 10)), t % e } var $bm_sum = sum, $bm_sub = sub, $bm_mul = mul, $bm_div = div, $bm_mod = mod; function clamp(t, e, r) { if (e > r) { var n = r; r = e, e = n } return Math.min(Math.max(t, e), r) } function radiansToDegrees(t) { return t / degToRads } var radians_to_degrees = radiansToDegrees; function degreesToRadians(t) { return t * degToRads } var degrees_to_radians = radiansToDegrees, helperLengthArray = [0, 0, 0, 0, 0, 0]; function length(t, e) { if (typeof t == "number" || t instanceof Number) return e = e || 0, Math.abs(t - e); var r; e || (e = helperLengthArray); var n = Math.min(t.length, e.length), s = 0; for (r = 0; r < n; r += 1)s += Math.pow(e[r] - t[r], 2); return Math.sqrt(s) } function normalize(t) { return div(t, length(t)) } function rgbToHsl(t) { var e, r, n = t[0], s = t[1], a = t[2], o = Math.max(n, s, a), l = Math.min(n, s, a), p = (o + l) / 2; if (o === l) e = 0, r = 0; else { var y = o - l; switch (r = p > .5 ? y / (2 - o - l) : y / (o + l), o) { case n: e = (s - a) / y + (s < a ? 6 : 0); break; case s: e = (a - n) / y + 2; break; case a: e = (n - s) / y + 4 }e /= 6 } return [e, r, p, t[3]] } function hue2rgb(t, e, r) { return r < 0 && (r += 1), r > 1 && (r -= 1), r < 1 / 6 ? t + 6 * (e - t) * r : r < .5 ? e : r < 2 / 3 ? t + (e - t) * (2 / 3 - r) * 6 : t } function hslToRgb(t) { var e, r, n, s = t[0], a = t[1], o = t[2]; if (a === 0) e = o, n = o, r = o; else { var l = o < .5 ? o * (1 + a) : o + a - o * a, p = 2 * o - l; e = hue2rgb(p, l, s + 1 / 3), r = hue2rgb(p, l, s), n = hue2rgb(p, l, s - 1 / 3) } return [e, r, n, t[3]] } function linear(t, e, r, n, s) { if (n !== void 0 && s !== void 0 || (n = e, s = r, e = 0, r = 1), r < e) { var a = r; r = e, e = a } if (t <= e) return n; if (t >= r) return s; var o, l = r === e ? 0 : (t - e) / (r - e); if (!n.length) return n + (s - n) * l; var p = n.length, y = createTypedArray("float32", p); for (o = 0; o < p; o += 1)y[o] = n[o] + (s[o] - n[o]) * l; return y } function random(t, e) { if (e === void 0 && (t === void 0 ? (t = 0, e = 1) : (e = t, t = void 0)), e.length) { var r, n = e.length; t || (t = createTypedArray("float32", n)); var s = createTypedArray("float32", n), a = BMMath.random(); for (r = 0; r < n; r += 1)s[r] = t[r] + a * (e[r] - t[r]); return s } return t === void 0 && (t = 0), t + BMMath.random() * (e - t) } function createPath(t, e, r, n) { var s, a = t.length, o = shapePool.newElement(); o.setPathData(!!n, a); var l, p, y = [0, 0]; for (s = 0; s < a; s += 1)l = e && e[s] ? e[s] : y, p = r && r[s] ? r[s] : y, o.setTripleAt(t[s][0], t[s][1], p[0] + t[s][0], p[1] + t[s][1], l[0] + t[s][0], l[1] + t[s][1], s, !0); return o } function initiateExpression(elem, data, property) { function noOp(t) { return t } if (!elem.globalData.renderConfig.runExpressions) return noOp; var val = data.x, needsVelocity = /velocity(?![\w\d])/.test(val), _needsRandom = val.indexOf("random") !== -1, elemType = elem.data.ty, transform, $bm_transform, content, effect, thisProperty = property; thisProperty.valueAtTime = thisProperty.getValueAtTime, Object.defineProperty(thisProperty, "value", { get: function () { return thisProperty.v } }), elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate, elem.comp.displayStartTime = 0; var inPoint = elem.data.ip / elem.comp.globalData.frameRate, outPoint = elem.data.op / elem.comp.globalData.frameRate, width = elem.data.sw ? elem.data.sw : 0, height = elem.data.sh ? elem.data.sh : 0, name = elem.data.nm, loopIn, loop_in, loopOut, loop_out, smooth, toWorld, fromWorld, fromComp, toComp, fromCompToSurface, position, rotation, anchorPoint, scale, thisLayer, thisComp, mask, valueAtTime, velocityAtTime, scoped_bm_rt, expression_function = eval("[function _expression_function(){" + val + ";scoped_bm_rt=$bm_rt}]")[0], numKeys = property.kf ? data.k.length : 0, active = !this.data || this.data.hd !== !0, wiggle = function (t, e) { var r, n, s = this.pv.length ? this.pv.length : 1, a = createTypedArray("float32", s), o = Math.floor(5 * time); for (r = 0, n = 0; r < o;) { for (n = 0; n < s; n += 1)a[n] += -e + 2 * e * BMMath.random(); r += 1 } var l = 5 * time, p = l - Math.floor(l), y = createTypedArray("float32", s); if (s > 1) { for (n = 0; n < s; n += 1)y[n] = this.pv[n] + a[n] + (-e + 2 * e * BMMath.random()) * p; return y } return this.pv + a[0] + (-e + 2 * e * BMMath.random()) * p }.bind(this); function loopInDuration(t, e) { return loopIn(t, e, !0) } function loopOutDuration(t, e) { return loopOut(t, e, !0) } thisProperty.loopIn && (loopIn = thisProperty.loopIn.bind(thisProperty), loop_in = loopIn), thisProperty.loopOut && (loopOut = thisProperty.loopOut.bind(thisProperty), loop_out = loopOut), thisProperty.smooth && (smooth = thisProperty.smooth.bind(thisProperty)), this.getValueAtTime && (valueAtTime = this.getValueAtTime.bind(this)), this.getVelocityAtTime && (velocityAtTime = this.getVelocityAtTime.bind(this)); var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface), time, velocity, value, text, textIndex, textTotal, selectorValue; function lookAt(t, e) { var r = [e[0] - t[0], e[1] - t[1], e[2] - t[2]], n = Math.atan2(r[0], Math.sqrt(r[1] * r[1] + r[2] * r[2])) / degToRads; return [-Math.atan2(r[1], r[2]) / degToRads, n, 0] } function easeOut(t, e, r, n, s) { return applyEase(easeOutBez, t, e, r, n, s) } function easeIn(t, e, r, n, s) { return applyEase(easeInBez, t, e, r, n, s) } function ease(t, e, r, n, s) { return applyEase(easeInOutBez, t, e, r, n, s) } function applyEase(t, e, r, n, s, a) { s === void 0 ? (s = r, a = n) : e = (e - r) / (n - r), e > 1 ? e = 1 : e < 0 && (e = 0); var o = t(e); if ($bm_isInstanceOfArray(s)) { var l, p = s.length, y = createTypedArray("float32", p); for (l = 0; l < p; l += 1)y[l] = (a[l] - s[l]) * o + s[l]; return y } return (a - s) * o + s } function nearestKey(t) { var e, r, n, s = data.k.length; if (data.k.length && typeof data.k[0] != "number") if (r = -1, (t *= elem.comp.globalData.frameRate) < data.k[0].t) r = 1, n = data.k[0].t; else { for (e = 0; e < s - 1; e += 1) { if (t === data.k[e].t) { r = e + 1, n = data.k[e].t; break } if (t > data.k[e].t && t < data.k[e + 1].t) { t - data.k[e].t > data.k[e + 1].t - t ? (r = e + 2, n = data.k[e + 1].t) : (r = e + 1, n = data.k[e].t); break } } r === -1 && (r = e + 1, n = data.k[e].t) } else r = 0, n = 0; var a = {}; return a.index = r, a.time = n / elem.comp.globalData.frameRate, a } function key(t) { var e, r, n; if (!data.k.length || typeof data.k[0] == "number") throw new Error("The property has no keyframe at index " + t); t -= 1, e = { time: data.k[t].t / elem.comp.globalData.frameRate, value: [] }; var s = Object.prototype.hasOwnProperty.call(data.k[t], "s") ? data.k[t].s : data.k[t - 1].e; for (n = s.length, r = 0; r < n; r += 1)e[r] = s[r], e.value[r] = s[r]; return e } function framesToTime(t, e) { return e || (e = elem.comp.globalData.frameRate), t / e } function timeToFrames(t, e) { return t || t === 0 || (t = time), e || (e = elem.comp.globalData.frameRate), t * e } function seedRandom(t) { BMMath.seedrandom(randSeed + t) } function sourceRectAtTime() { return elem.sourceRectAtTime() } function substring(t, e) { return typeof value == "string" ? e === void 0 ? value.substring(t) : value.substring(t, e) : "" } function substr(t, e) { return typeof value == "string" ? e === void 0 ? value.substr(t) : value.substr(t, e) : "" } function posterizeTime(t) { time = t === 0 ? 0 : Math.floor(time * t) / t, value = valueAtTime(time) } var index = elem.data.ind, hasParent = !(!elem.hierarchy || !elem.hierarchy.length), parent, randSeed = Math.floor(1e6 * Math.random()), globalData = elem.globalData; function executeExpression(t) { return value = t, this.frameExpressionId === elem.globalData.frameId && this.propType !== "textSelector" ? value : (this.propType === "textSelector" && (textIndex = this.textIndex, textTotal = this.textTotal, selectorValue = this.selectorValue), thisLayer || (text = elem.layerInterface.text, thisLayer = elem.layerInterface, thisComp = elem.comp.compInterface, toWorld = thisLayer.toWorld.bind(thisLayer), fromWorld = thisLayer.fromWorld.bind(thisLayer), fromComp = thisLayer.fromComp.bind(thisLayer), toComp = thisLayer.toComp.bind(thisLayer), mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null, fromCompToSurface = fromComp), transform || (transform = elem.layerInterface("ADBE Transform Group"), $bm_transform = transform, transform && (anchorPoint = transform.anchorPoint)), elemType !== 4 || content || (content = thisLayer("ADBE Root Vectors Group")), effect || (effect = thisLayer(4)), (hasParent = !(!elem.hierarchy || !elem.hierarchy.length)) && !parent && (parent = elem.hierarchy[0].layerInterface), time = this.comp.renderedFrame / this.comp.globalData.frameRate, _needsRandom && seedRandom(randSeed + time), needsVelocity && (velocity = velocityAtTime(time)), expression_function(), this.frameExpressionId = elem.globalData.frameId, scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt) } return executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData], executeExpression } return ob.initiateExpression = initiateExpression, ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath, _lottieGlobal], ob.resetFrame = resetFrame, ob }(), Expressions = function () { var t = { initExpressions: function (e) { var r = 0, n = []; e.renderer.compInterface = CompExpressionInterface(e.renderer), e.renderer.globalData.projectInterface.registerComposition(e.renderer), e.renderer.globalData.pushExpression = function () { r += 1 }, e.renderer.globalData.popExpression = function () { (r -= 1) == 0 && function () { var s, a = n.length; for (s = 0; s < a; s += 1)n[s].release(); n.length = 0 }() }, e.renderer.globalData.registerExpressionProperty = function (s) { n.indexOf(s) === -1 && n.push(s) } } }; return t.resetFrame = ExpressionManager.resetFrame, t }(), MaskManagerInterface = function () { function t(e, r) { this._mask = e, this._data = r } return Object.defineProperty(t.prototype, "maskPath", { get: function () { return this._mask.prop.k && this._mask.prop.getValue(), this._mask.prop } }), Object.defineProperty(t.prototype, "maskOpacity", { get: function () { return this._mask.op.k && this._mask.op.getValue(), 100 * this._mask.op.v } }), function (e) { var r, n = createSizedArray(e.viewData.length), s = e.viewData.length; for (r = 0; r < s; r += 1)n[r] = new t(e.viewData[r], e.masksProperties[r]); return function (a) { for (r = 0; r < s;) { if (e.masksProperties[r].nm === a) return n[r]; r += 1 } return null } } }(), ExpressionPropertyInterface = function () { var t = { pv: 0, v: 0, mult: 1 }, e = { pv: [0, 0, 0], v: [0, 0, 0], mult: 1 }; function r(s, a, o) { Object.defineProperty(s, "velocity", { get: function () { return a.getVelocityAtTime(a.comp.currentFrame) } }), s.numKeys = a.keyframes ? a.keyframes.length : 0, s.key = function (l) { if (!s.numKeys) return 0; var p = ""; p = "s" in a.keyframes[l - 1] ? a.keyframes[l - 1].s : "e" in a.keyframes[l - 2] ? a.keyframes[l - 2].e : a.keyframes[l - 2].s; var y = o === "unidimensional" ? new Number(p) : Object.assign({}, p); return y.time = a.keyframes[l - 1].t / a.elem.comp.globalData.frameRate, y.value = o === "unidimensional" ? p[0] : p, y }, s.valueAtTime = a.getValueAtTime, s.speedAtTime = a.getSpeedAtTime, s.velocityAtTime = a.getVelocityAtTime, s.propertyGroup = a.propertyGroup } function n() { return t } return function (s) { return s ? s.propType === "unidimensional" ? function (a) { a && "pv" in a || (a = t); var o = 1 / a.mult, l = a.pv * o, p = new Number(l); return p.value = l, r(p, a, "unidimensional"), function () { return a.k && a.getValue(), l = a.v * o, p.value !== l && ((p = new Number(l)).value = l, r(p, a, "unidimensional")), p } }(s) : function (a) { a && "pv" in a || (a = e); var o = 1 / a.mult, l = a.data && a.data.l || a.pv.length, p = createTypedArray("float32", l), y = createTypedArray("float32", l); return p.value = y, r(p, a, "multidimensional"), function () { a.k && a.getValue(); for (var h = 0; h < l; h += 1)y[h] = a.v[h] * o, p[h] = y[h]; return p } }(s) : n } }(), TransformExpressionInterface = function (t) { function e(o) { switch (o) { case "scale": case "Scale": case "ADBE Scale": case 6: return e.scale; case "rotation": case "Rotation": case "ADBE Rotation": case "ADBE Rotate Z": case 10: return e.rotation; case "ADBE Rotate X": return e.xRotation; case "ADBE Rotate Y": return e.yRotation; case "position": case "Position": case "ADBE Position": case 2: return e.position; case "ADBE Position_0": return e.xPosition; case "ADBE Position_1": return e.yPosition; case "ADBE Position_2": return e.zPosition; case "anchorPoint": case "AnchorPoint": case "Anchor Point": case "ADBE AnchorPoint": case 1: return e.anchorPoint; case "opacity": case "Opacity": case 11: return e.opacity; default: return null } } var r, n, s, a; return Object.defineProperty(e, "rotation", { get: ExpressionPropertyInterface(t.r || t.rz) }), Object.defineProperty(e, "zRotation", { get: ExpressionPropertyInterface(t.rz || t.r) }), Object.defineProperty(e, "xRotation", { get: ExpressionPropertyInterface(t.rx) }), Object.defineProperty(e, "yRotation", { get: ExpressionPropertyInterface(t.ry) }), Object.defineProperty(e, "scale", { get: ExpressionPropertyInterface(t.s) }), t.p ? a = ExpressionPropertyInterface(t.p) : (r = ExpressionPropertyInterface(t.px), n = ExpressionPropertyInterface(t.py), t.pz && (s = ExpressionPropertyInterface(t.pz))), Object.defineProperty(e, "position", { get: function () { return t.p ? a() : [r(), n(), s ? s() : 0] } }), Object.defineProperty(e, "xPosition", { get: ExpressionPropertyInterface(t.px) }), Object.defineProperty(e, "yPosition", { get: ExpressionPropertyInterface(t.py) }), Object.defineProperty(e, "zPosition", { get: ExpressionPropertyInterface(t.pz) }), Object.defineProperty(e, "anchorPoint", { get: ExpressionPropertyInterface(t.a) }), Object.defineProperty(e, "opacity", { get: ExpressionPropertyInterface(t.o) }), Object.defineProperty(e, "skew", { get: ExpressionPropertyInterface(t.sk) }), Object.defineProperty(e, "skewAxis", { get: ExpressionPropertyInterface(t.sa) }), Object.defineProperty(e, "orientation", { get: ExpressionPropertyInterface(t.or) }), e }, LayerExpressionInterface = function () { function t(y) { var h = new Matrix; return y !== void 0 ? this._elem.finalTransform.mProp.getValueAtTime(y).clone(h) : this._elem.finalTransform.mProp.applyToMatrix(h), h } function e(y, h) { var d = this.getMatrix(h); return d.props[12] = 0, d.props[13] = 0, d.props[14] = 0, this.applyPoint(d, y) } function r(y, h) { var d = this.getMatrix(h); return this.applyPoint(d, y) } function n(y, h) { var d = this.getMatrix(h); return d.props[12] = 0, d.props[13] = 0, d.props[14] = 0, this.invertPoint(d, y) } function s(y, h) { var d = this.getMatrix(h); return this.invertPoint(d, y) } function a(y, h) { if (this._elem.hierarchy && this._elem.hierarchy.length) { var d, f = this._elem.hierarchy.length; for (d = 0; d < f; d += 1)this._elem.hierarchy[d].finalTransform.mProp.applyToMatrix(y) } return y.applyToPointArray(h[0], h[1], h[2] || 0) } function o(y, h) { if (this._elem.hierarchy && this._elem.hierarchy.length) { var d, f = this._elem.hierarchy.length; for (d = 0; d < f; d += 1)this._elem.hierarchy[d].finalTransform.mProp.applyToMatrix(y) } return y.inversePoint(h) } function l(y) { var h = new Matrix; if (h.reset(), this._elem.finalTransform.mProp.applyToMatrix(h), this._elem.hierarchy && this._elem.hierarchy.length) { var d, f = this._elem.hierarchy.length; for (d = 0; d < f; d += 1)this._elem.hierarchy[d].finalTransform.mProp.applyToMatrix(h); return h.inversePoint(y) } return h.inversePoint(y) } function p() { return [1, 1, 1, 1] } return function (y) { var h; function d(g) { switch (g) { case "ADBE Root Vectors Group": case "Contents": case 2: return d.shapeInterface; case 1: case 6: case "Transform": case "transform": case "ADBE Transform Group": return h; case 4: case "ADBE Effect Parade": case "effects": case "Effects": return d.effect; case "ADBE Text Properties": return d.textInterface; default: return null } } d.getMatrix = t, d.invertPoint = o, d.applyPoint = a, d.toWorld = r, d.toWorldVec = e, d.fromWorld = s, d.fromWorldVec = n, d.toComp = r, d.fromComp = l, d.sampleImage = p, d.sourceRectAtTime = y.sourceRectAtTime.bind(y), d._elem = y; var f = getDescriptor(h = TransformExpressionInterface(y.finalTransform.mProp), "anchorPoint"); return Object.defineProperties(d, { hasParent: { get: function () { return y.hierarchy.length } }, parent: { get: function () { return y.hierarchy[0].layerInterface } }, rotation: getDescriptor(h, "rotation"), scale: getDescriptor(h, "scale"), position: getDescriptor(h, "position"), opacity: getDescriptor(h, "opacity"), anchorPoint: f, anchor_point: f, transform: { get: function () { return h } }, active: { get: function () { return y.isInRange } } }), d.startTime = y.data.st, d.index = y.data.ind, d.source = y.data.refId, d.height = y.data.ty === 0 ? y.data.h : 100, d.width = y.data.ty === 0 ? y.data.w : 100, d.inPoint = y.data.ip / y.comp.globalData.frameRate, d.outPoint = y.data.op / y.comp.globalData.frameRate, d._name = y.data.nm, d.registerMaskInterface = function (g) { d.mask = new MaskManagerInterface(g, y) }, d.registerEffectsInterface = function (g) { d.effect = g }, d } }(), propertyGroupFactory = function (t, e) { return function (r) { return (r = r === void 0 ? 1 : r) <= 0 ? t : e(r - 1) } }, PropertyInterface = function (t, e) { var r = { _name: t }; return function (n) { return (n = n === void 0 ? 1 : n) <= 0 ? r : e(n - 1) } }, EffectsExpressionInterface = function () { var t = { createEffectsInterface: function (n, s) { if (n.effectsManager) { var a, o = [], l = n.data.ef, p = n.effectsManager.effectElements.length; for (a = 0; a < p; a += 1)o.push(e(l[a], n.effectsManager.effectElements[a], s, n)); var y = n.data.ef || [], h = function (d) { for (a = 0, p = y.length; a < p;) { if (d === y[a].nm || d === y[a].mn || d === y[a].ix) return o[a]; a += 1 } return null }; return Object.defineProperty(h, "numProperties", { get: function () { return y.length } }), h } return null } }; function e(n, s, a, o) { function l(f) { for (var g = n.ef, m = 0, c = g.length; m < c;) { if (f === g[m].nm || f === g[m].mn || f === g[m].ix) return g[m].ty === 5 ? h[m] : h[m](); m += 1 } throw new Error } var p, y = propertyGroupFactory(l, a), h = [], d = n.ef.length; for (p = 0; p < d; p += 1)n.ef[p].ty === 5 ? h.push(e(n.ef[p], s.effectElements[p], s.effectElements[p].propertyGroup, o)) : h.push(r(s.effectElements[p], n.ef[p].ty, o, y)); return n.mn === "ADBE Color Control" && Object.defineProperty(l, "color", { get: function () { return h[0]() } }), Object.defineProperties(l, { numProperties: { get: function () { return n.np } }, _name: { value: n.nm }, propertyGroup: { value: y } }), l.enabled = n.en !== 0, l.active = l.enabled, l } function r(n, s, a, o) { var l = ExpressionPropertyInterface(n.p); return n.p.setGroupProperty && n.p.setGroupProperty(PropertyInterface("", o)), function () { return s === 10 ? a.comp.compInterface(n.p.v) : l() } } return t }(), ShapePathInterface = function (t, e, r) { var n = e.sh; function s(o) { return o === "Shape" || o === "shape" || o === "Path" || o === "path" || o === "ADBE Vector Shape" || o === 2 ? s.path : null } var a = propertyGroupFactory(s, r); return n.setGroupProperty(PropertyInterface("Path", a)), Object.defineProperties(s, { path: { get: function () { return n.k && n.getValue(), n } }, shape: { get: function () { return n.k && n.getValue(), n } }, _name: { value: t.nm }, ix: { value: t.ix }, propertyIndex: { value: t.ix }, mn: { value: t.mn }, propertyGroup: { value: r } }), s }, ShapeExpressionInterface = function () { function t(f, g, m) { var c, u = [], v = f ? f.length : 0; for (c = 0; c < v; c += 1)f[c].ty === "gr" ? u.push(e(f[c], g[c], m)) : f[c].ty === "fl" ? u.push(r(f[c], g[c], m)) : f[c].ty === "st" ? u.push(s(f[c], g[c], m)) : f[c].ty === "tm" ? u.push(a(f[c], g[c], m)) : f[c].ty === "tr" || (f[c].ty === "el" ? u.push(l(f[c], g[c], m)) : f[c].ty === "sr" ? u.push(p(f[c], g[c], m)) : f[c].ty === "sh" ? u.push(ShapePathInterface(f[c], g[c], m)) : f[c].ty === "rc" ? u.push(y(f[c], g[c], m)) : f[c].ty === "rd" ? u.push(h(f[c], g[c], m)) : f[c].ty === "rp" ? u.push(d(f[c], g[c], m)) : f[c].ty === "gf" ? u.push(n(f[c], g[c], m)) : u.push((f[c], g[c], function () { return null }))); return u } function e(f, g, m) { var c = function (b) { switch (b) { case "ADBE Vectors Group": case "Contents": case 2: return c.content; default: return c.transform } }; c.propertyGroup = propertyGroupFactory(c, m); var u = function (b, E, _) { var x, T = function (C) { for (var A = 0, k = x.length; A < k;) { if (x[A]._name === C || x[A].mn === C || x[A].propertyIndex === C || x[A].ix === C || x[A].ind === C) return x[A]; A += 1 } return typeof C == "number" ? x[C - 1] : null }; T.propertyGroup = propertyGroupFactory(T, _), x = t(b.it, E.it, T.propertyGroup), T.numProperties = x.length; var w = o(b.it[b.it.length - 1], E.it[E.it.length - 1], T.propertyGroup); return T.transform = w, T.propertyIndex = b.cix, T._name = b.nm, T }(f, g, c.propertyGroup), v = o(f.it[f.it.length - 1], g.it[g.it.length - 1], c.propertyGroup); return c.content = u, c.transform = v, Object.defineProperty(c, "_name", { get: function () { return f.nm } }), c.numProperties = f.np, c.propertyIndex = f.ix, c.nm = f.nm, c.mn = f.mn, c } function r(f, g, m) { function c(u) { return u === "Color" || u === "color" ? c.color : u === "Opacity" || u === "opacity" ? c.opacity : null } return Object.defineProperties(c, { color: { get: ExpressionPropertyInterface(g.c) }, opacity: { get: ExpressionPropertyInterface(g.o) }, _name: { value: f.nm }, mn: { value: f.mn } }), g.c.setGroupProperty(PropertyInterface("Color", m)), g.o.setGroupProperty(PropertyInterface("Opacity", m)), c } function n(f, g, m) { function c(u) { return u === "Start Point" || u === "start point" ? c.startPoint : u === "End Point" || u === "end point" ? c.endPoint : u === "Opacity" || u === "opacity" ? c.opacity : null } return Object.defineProperties(c, { startPoint: { get: ExpressionPropertyInterface(g.s) }, endPoint: { get: ExpressionPropertyInterface(g.e) }, opacity: { get: ExpressionPropertyInterface(g.o) }, type: { get: function () { return "a" } }, _name: { value: f.nm }, mn: { value: f.mn } }), g.s.setGroupProperty(PropertyInterface("Start Point", m)), g.e.setGroupProperty(PropertyInterface("End Point", m)), g.o.setGroupProperty(PropertyInterface("Opacity", m)), c } function s(f, g, m) { var c, u = propertyGroupFactory(x, m), v = propertyGroupFactory(_, u); function b(T) { Object.defineProperty(_, f.d[T].nm, { get: ExpressionPropertyInterface(g.d.dataProps[T].p) }) } var E = f.d ? f.d.length : 0, _ = {}; for (c = 0; c < E; c += 1)b(c), g.d.dataProps[c].p.setGroupProperty(v); function x(T) { return T === "Color" || T === "color" ? x.color : T === "Opacity" || T === "opacity" ? x.opacity : T === "Stroke Width" || T === "stroke width" ? x.strokeWidth : null } return Object.defineProperties(x, { color: { get: ExpressionPropertyInterface(g.c) }, opacity: { get: ExpressionPropertyInterface(g.o) }, strokeWidth: { get: ExpressionPropertyInterface(g.w) }, dash: { get: function () { return _ } }, _name: { value: f.nm }, mn: { value: f.mn } }), g.c.setGroupProperty(PropertyInterface("Color", u)), g.o.setGroupProperty(PropertyInterface("Opacity", u)), g.w.setGroupProperty(PropertyInterface("Stroke Width", u)), x } function a(f, g, m) { function c(v) { return v === f.e.ix || v === "End" || v === "end" ? c.end : v === f.s.ix ? c.start : v === f.o.ix ? c.offset : null } var u = propertyGroupFactory(c, m); return c.propertyIndex = f.ix, g.s.setGroupProperty(PropertyInterface("Start", u)), g.e.setGroupProperty(PropertyInterface("End", u)), g.o.setGroupProperty(PropertyInterface("Offset", u)), c.propertyIndex = f.ix, c.propertyGroup = m, Object.defineProperties(c, { start: { get: ExpressionPropertyInterface(g.s) }, end: { get: ExpressionPropertyInterface(g.e) }, offset: { get: ExpressionPropertyInterface(g.o) }, _name: { value: f.nm } }), c.mn = f.mn, c } function o(f, g, m) { function c(v) { return f.a.ix === v || v === "Anchor Point" ? c.anchorPoint : f.o.ix === v || v === "Opacity" ? c.opacity : f.p.ix === v || v === "Position" ? c.position : f.r.ix === v || v === "Rotation" || v === "ADBE Vector Rotation" ? c.rotation : f.s.ix === v || v === "Scale" ? c.scale : f.sk && f.sk.ix === v || v === "Skew" ? c.skew : f.sa && f.sa.ix === v || v === "Skew Axis" ? c.skewAxis : null } var u = propertyGroupFactory(c, m); return g.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity", u)), g.transform.mProps.p.setGroupProperty(PropertyInterface("Position", u)), g.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point", u)), g.transform.mProps.s.setGroupProperty(PropertyInterface("Scale", u)), g.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation", u)), g.transform.mProps.sk && (g.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew", u)), g.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle", u))), g.transform.op.setGroupProperty(PropertyInterface("Opacity", u)), Object.defineProperties(c, { opacity: { get: ExpressionPropertyInterface(g.transform.mProps.o) }, position: { get: ExpressionPropertyInterface(g.transform.mProps.p) }, anchorPoint: { get: ExpressionPropertyInterface(g.transform.mProps.a) }, scale: { get: ExpressionPropertyInterface(g.transform.mProps.s) }, rotation: { get: ExpressionPropertyInterface(g.transform.mProps.r) }, skew: { get: ExpressionPropertyInterface(g.transform.mProps.sk) }, skewAxis: { get: ExpressionPropertyInterface(g.transform.mProps.sa) }, _name: { value: f.nm } }), c.ty = "tr", c.mn = f.mn, c.propertyGroup = m, c } function l(f, g, m) { function c(b) { return f.p.ix === b ? c.position : f.s.ix === b ? c.size : null } var u = propertyGroupFactory(c, m); c.propertyIndex = f.ix; var v = g.sh.ty === "tm" ? g.sh.prop : g.sh; return v.s.setGroupProperty(PropertyInterface("Size", u)), v.p.setGroupProperty(PropertyInterface("Position", u)), Object.defineProperties(c, { size: { get: ExpressionPropertyInterface(v.s) }, position: { get: ExpressionPropertyInterface(v.p) }, _name: { value: f.nm } }), c.mn = f.mn, c } function p(f, g, m) { function c(b) { return f.p.ix === b ? c.position : f.r.ix === b ? c.rotation : f.pt.ix === b ? c.points : f.or.ix === b || b === "ADBE Vector Star Outer Radius" ? c.outerRadius : f.os.ix === b ? c.outerRoundness : !f.ir || f.ir.ix !== b && b !== "ADBE Vector Star Inner Radius" ? f.is && f.is.ix === b ? c.innerRoundness : null : c.innerRadius } var u = propertyGroupFactory(c, m), v = g.sh.ty === "tm" ? g.sh.prop : g.sh; return c.propertyIndex = f.ix, v.or.setGroupProperty(PropertyInterface("Outer Radius", u)), v.os.setGroupProperty(PropertyInterface("Outer Roundness", u)), v.pt.setGroupProperty(PropertyInterface("Points", u)), v.p.setGroupProperty(PropertyInterface("Position", u)), v.r.setGroupProperty(PropertyInterface("Rotation", u)), f.ir && (v.ir.setGroupProperty(PropertyInterface("Inner Radius", u)), v.is.setGroupProperty(PropertyInterface("Inner Roundness", u))), Object.defineProperties(c, { position: { get: ExpressionPropertyInterface(v.p) }, rotation: { get: ExpressionPropertyInterface(v.r) }, points: { get: ExpressionPropertyInterface(v.pt) }, outerRadius: { get: ExpressionPropertyInterface(v.or) }, outerRoundness: { get: ExpressionPropertyInterface(v.os) }, innerRadius: { get: ExpressionPropertyInterface(v.ir) }, innerRoundness: { get: ExpressionPropertyInterface(v.is) }, _name: { value: f.nm } }), c.mn = f.mn, c } function y(f, g, m) { function c(b) { return f.p.ix === b ? c.position : f.r.ix === b ? c.roundness : f.s.ix === b || b === "Size" || b === "ADBE Vector Rect Size" ? c.size : null } var u = propertyGroupFactory(c, m), v = g.sh.ty === "tm" ? g.sh.prop : g.sh; return c.propertyIndex = f.ix, v.p.setGroupProperty(PropertyInterface("Position", u)), v.s.setGroupProperty(PropertyInterface("Size", u)), v.r.setGroupProperty(PropertyInterface("Rotation", u)), Object.defineProperties(c, { position: { get: ExpressionPropertyInterface(v.p) }, roundness: { get: ExpressionPropertyInterface(v.r) }, size: { get: ExpressionPropertyInterface(v.s) }, _name: { value: f.nm } }), c.mn = f.mn, c } function h(f, g, m) { function c(b) { return f.r.ix === b || b === "Round Corners 1" ? c.radius : null } var u = propertyGroupFactory(c, m), v = g; return c.propertyIndex = f.ix, v.rd.setGroupProperty(PropertyInterface("Radius", u)), Object.defineProperties(c, { radius: { get: ExpressionPropertyInterface(v.rd) }, _name: { value: f.nm } }), c.mn = f.mn, c } function d(f, g, m) { function c(b) { return f.c.ix === b || b === "Copies" ? c.copies : f.o.ix === b || b === "Offset" ? c.offset : null } var u = propertyGroupFactory(c, m), v = g; return c.propertyIndex = f.ix, v.c.setGroupProperty(PropertyInterface("Copies", u)), v.o.setGroupProperty(PropertyInterface("Offset", u)), Object.defineProperties(c, { copies: { get: ExpressionPropertyInterface(v.c) }, offset: { get: ExpressionPropertyInterface(v.o) }, _name: { value: f.nm } }), c.mn = f.mn, c } return function (f, g, m) { var c; function u(v) { if (typeof v == "number") return (v = v === void 0 ? 1 : v) === 0 ? m : c[v - 1]; for (var b = 0, E = c.length; b < E;) { if (c[b]._name === v) return c[b]; b += 1 } return null } return u.propertyGroup = propertyGroupFactory(u, function () { return m }), c = t(f, g, u.propertyGroup), u.numProperties = c.length, u._name = "Contents", u } }(), TextExpressionInterface = function (t) { var e; function r(n) { return n === "ADBE Text Document" ? r.sourceText : null } return Object.defineProperty(r, "sourceText", { get: function () { t.textProperty.getValue(); var n = t.textProperty.currentData.t; return e && n === e.value || ((e = new String(n)).value = n || new String(n), Object.defineProperty(e, "style", { get: function () { return { fillColor: t.textProperty.currentData.fc } } })), e } }), r }; function _typeof(t) { return _typeof = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, _typeof(t) } var FootageInterface = (dataInterfaceFactory = function (t) { function e(r) { return r === "Outline" ? e.outlineInterface() : null } return e._name = "Outline", e.outlineInterface = function (r) { var n = "", s = r.getFootageData(); function a(o) { if (s[o]) return n = o, _typeof(s = s[o]) === "object" ? a : s; var l = o.indexOf(n); if (l !== -1) { var p = parseInt(o.substr(l + n.length), 10); return _typeof(s = s[p]) === "object" ? a : s } return "" } return function () { return n = "", s = r.getFootageData(), a } }(t), e }, function (t) { function e(r) { return r === "Data" ? e.dataInterface : null } return e._name = "Data", e.dataInterface = dataInterfaceFactory(t), e }), dataInterfaceFactory, interfaces = { layer: LayerExpressionInterface, effects: EffectsExpressionInterface, comp: CompExpressionInterface, shape: ShapeExpressionInterface, text: TextExpressionInterface, footage: FootageInterface }; function getInterface(t) { return interfaces[t] || null } var expressionHelpers = { searchExpressions: function (t, e, r) { e.x && (r.k = !0, r.x = !0, r.initiateExpression = ExpressionManager.initiateExpression, r.effectsSequence.push(r.initiateExpression(t, e, r).bind(r))) }, getSpeedAtTime: function (t) { var e = this.getValueAtTime(t), r = this.getValueAtTime(t + -.01), n = 0; if (e.length) { var s; for (s = 0; s < e.length; s += 1)n += Math.pow(r[s] - e[s], 2); n = 100 * Math.sqrt(n) } else n = 0; return n }, getVelocityAtTime: function (t) { if (this.vel !== void 0) return this.vel; var e, r, n = -.001, s = this.getValueAtTime(t), a = this.getValueAtTime(t + n); if (s.length) for (e = createTypedArray("float32", s.length), r = 0; r < s.length; r += 1)e[r] = (a[r] - s[r]) / n; else e = (a - s) / n; return e }, getValueAtTime: function (t) { return t *= this.elem.globalData.frameRate, (t -= this.offsetTime) !== this._cachingAtTime.lastFrame && (this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < t ? this._cachingAtTime.lastIndex : 0, this._cachingAtTime.value = this.interpolateValue(t, this._cachingAtTime), this._cachingAtTime.lastFrame = t), this._cachingAtTime.value }, getStaticValueAtTime: function () { return this.pv }, setGroupProperty: function (t) { this.propertyGroup = t } }; function addPropertyDecorator() { function t(d, f, g) { if (!this.k || !this.keyframes) return this.pv; d = d ? d.toLowerCase() : ""; var m, c, u, v, b, E = this.comp.renderedFrame, _ = this.keyframes, x = _[_.length - 1].t; if (E <= x) return this.pv; if (g ? c = x - (m = f ? Math.abs(x - this.elem.comp.globalData.frameRate * f) : Math.max(0, x - this.elem.data.ip)) : ((!f || f > _.length - 1) && (f = _.length - 1), m = x - (c = _[_.length - 1 - f].t)), d === "pingpong") { if (Math.floor((E - c) / m) % 2 != 0) return this.getValueAtTime((m - (E - c) % m + c) / this.comp.globalData.frameRate, 0) } else { if (d === "offset") { var T = this.getValueAtTime(c / this.comp.globalData.frameRate, 0), w = this.getValueAtTime(x / this.comp.globalData.frameRate, 0), C = this.getValueAtTime(((E - c) % m + c) / this.comp.globalData.frameRate, 0), A = Math.floor((E - c) / m); if (this.pv.length) { for (v = (b = new Array(T.length)).length, u = 0; u < v; u += 1)b[u] = (w[u] - T[u]) * A + C[u]; return b } return (w - T) * A + C } if (d === "continue") { var k = this.getValueAtTime(x / this.comp.globalData.frameRate, 0), P = this.getValueAtTime((x - .001) / this.comp.globalData.frameRate, 0); if (this.pv.length) { for (v = (b = new Array(k.length)).length, u = 0; u < v; u += 1)b[u] = k[u] + (k[u] - P[u]) * ((E - x) / this.comp.globalData.frameRate) / 5e-4; return b } return k + (E - x) / .001 * (k - P) } } return this.getValueAtTime(((E - c) % m + c) / this.comp.globalData.frameRate, 0) } function e(d, f, g) { if (!this.k) return this.pv; d = d ? d.toLowerCase() : ""; var m, c, u, v, b, E = this.comp.renderedFrame, _ = this.keyframes, x = _[0].t; if (E >= x) return this.pv; if (g ? c = x + (m = f ? Math.abs(this.elem.comp.globalData.frameRate * f) : Math.max(0, this.elem.data.op - x)) : ((!f || f > _.length - 1) && (f = _.length - 1), m = (c = _[f].t) - x), d === "pingpong") { if (Math.floor((x - E) / m) % 2 == 0) return this.getValueAtTime(((x - E) % m + x) / this.comp.globalData.frameRate, 0) } else { if (d === "offset") { var T = this.getValueAtTime(x / this.comp.globalData.frameRate, 0), w = this.getValueAtTime(c / this.comp.globalData.frameRate, 0), C = this.getValueAtTime((m - (x - E) % m + x) / this.comp.globalData.frameRate, 0), A = Math.floor((x - E) / m) + 1; if (this.pv.length) { for (v = (b = new Array(T.length)).length, u = 0; u < v; u += 1)b[u] = C[u] - (w[u] - T[u]) * A; return b } return C - (w - T) * A } if (d === "continue") { var k = this.getValueAtTime(x / this.comp.globalData.frameRate, 0), P = this.getValueAtTime((x + .001) / this.comp.globalData.frameRate, 0); if (this.pv.length) { for (v = (b = new Array(k.length)).length, u = 0; u < v; u += 1)b[u] = k[u] + (k[u] - P[u]) * (x - E) / .001; return b } return k + (k - P) * (x - E) / .001 } } return this.getValueAtTime((m - ((x - E) % m + x)) / this.comp.globalData.frameRate, 0) } function r(d, f) { if (!this.k) return this.pv; if (d = .5 * (d || .4), (f = Math.floor(f || 5)) <= 1) return this.pv; var g, m, c = this.comp.renderedFrame / this.comp.globalData.frameRate, u = c - d, v = f > 1 ? (c + d - u) / (f - 1) : 1, b = 0, E = 0; for (g = this.pv.length ? createTypedArray("float32", this.pv.length) : 0; b < f;) { if (m = this.getValueAtTime(u + b * v), this.pv.length) for (E = 0; E < this.pv.length; E += 1)g[E] += m[E]; else g += m; b += 1 } if (this.pv.length) for (E = 0; E < this.pv.length; E += 1)g[E] /= f; else g /= f; return g } function n(d) { this._transformCachingAtTime || (this._transformCachingAtTime = { v: new Matrix }); var f = this._transformCachingAtTime.v; if (f.cloneFromProps(this.pre.props), this.appliedTransformations < 1) { var g = this.a.getValueAtTime(d); f.translate(-g[0] * this.a.mult, -g[1] * this.a.mult, g[2] * this.a.mult) } if (this.appliedTransformations < 2) { var m = this.s.getValueAtTime(d); f.scale(m[0] * this.s.mult, m[1] * this.s.mult, m[2] * this.s.mult) } if (this.sk && this.appliedTransformations < 3) { var c = this.sk.getValueAtTime(d), u = this.sa.getValueAtTime(d); f.skewFromAxis(-c * this.sk.mult, u * this.sa.mult) } if (this.r && this.appliedTransformations < 4) { var v = this.r.getValueAtTime(d); f.rotate(-v * this.r.mult) } else if (!this.r && this.appliedTransformations < 4) { var b = this.rz.getValueAtTime(d), E = this.ry.getValueAtTime(d), _ = this.rx.getValueAtTime(d), x = this.or.getValueAtTime(d); f.rotateZ(-b * this.rz.mult).rotateY(E * this.ry.mult).rotateX(_ * this.rx.mult).rotateZ(-x[2] * this.or.mult).rotateY(x[1] * this.or.mult).rotateX(x[0] * this.or.mult) } if (this.data.p && this.data.p.s) { var T = this.px.getValueAtTime(d), w = this.py.getValueAtTime(d); if (this.data.p.z) { var C = this.pz.getValueAtTime(d); f.translate(T * this.px.mult, w * this.py.mult, -C * this.pz.mult) } else f.translate(T * this.px.mult, w * this.py.mult, 0) } else { var A = this.p.getValueAtTime(d); f.translate(A[0] * this.p.mult, A[1] * this.p.mult, -A[2] * this.p.mult) } return f } function s() { return this.v.clone(new Matrix) } var a = TransformPropertyFactory.getTransformProperty; TransformPropertyFactory.getTransformProperty = function (d, f, g) { var m = a(d, f, g); return m.dynamicProperties.length ? m.getValueAtTime = n.bind(m) : m.getValueAtTime = s.bind(m), m.setGroupProperty = expressionHelpers.setGroupProperty, m }; var o = PropertyFactory.getProp; PropertyFactory.getProp = function (d, f, g, m, c) { var u = o(d, f, g, m, c); u.kf ? u.getValueAtTime = expressionHelpers.getValueAtTime.bind(u) : u.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(u), u.setGroupProperty = expressionHelpers.setGroupProperty, u.loopOut = t, u.loopIn = e, u.smooth = r, u.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(u), u.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(u), u.numKeys = f.a === 1 ? f.k.length : 0, u.propertyIndex = f.ix; var v = 0; return g !== 0 && (v = createTypedArray("float32", f.a === 1 ? f.k[0].s.length : f.k.length)), u._cachingAtTime = { lastFrame: initialDefaultFrame, lastIndex: 0, value: v }, expressionHelpers.searchExpressions(d, f, u), u.k && c.addDynamicProperty(u), u }; var l = ShapePropertyFactory.getConstructorFunction(), p = ShapePropertyFactory.getKeyframedConstructorFunction(); function y() { } y.prototype = { vertices: function (d, f) { this.k && this.getValue(); var g, m = this.v; f !== void 0 && (m = this.getValueAtTime(f, 0)); var c = m._length, u = m[d], v = m.v, b = createSizedArray(c); for (g = 0; g < c; g += 1)b[g] = d === "i" || d === "o" ? [u[g][0] - v[g][0], u[g][1] - v[g][1]] : [u[g][0], u[g][1]]; return b }, points: function (d) { return this.vertices("v", d) }, inTangents: function (d) { return this.vertices("i", d) }, outTangents: function (d) { return this.vertices("o", d) }, isClosed: function () { return this.v.c }, pointOnPath: function (d, f) { var g = this.v; f !== void 0 && (g = this.getValueAtTime(f, 0)), this._segmentsLength || (this._segmentsLength = bez.getSegmentsLength(g)); for (var m, c = this._segmentsLength, u = c.lengths, v = c.totalLength * d, b = 0, E = u.length, _ = 0; b < E;) { if (_ + u[b].addedLength > v) { var x = b, T = g.c && b === E - 1 ? 0 : b + 1, w = (v - _) / u[b].addedLength; m = bez.getPointInSegment(g.v[x], g.v[T], g.o[x], g.i[T], w, u[b]); break } _ += u[b].addedLength, b += 1 } return m || (m = g.c ? [g.v[0][0], g.v[0][1]] : [g.v[g._length - 1][0], g.v[g._length - 1][1]]), m }, vectorOnPath: function (d, f, g) { d == 1 ? d = this.v.c : d == 0 && (d = .999); var m = this.pointOnPath(d, f), c = this.pointOnPath(d + .001, f), u = c[0] - m[0], v = c[1] - m[1], b = Math.sqrt(Math.pow(u, 2) + Math.pow(v, 2)); return b === 0 ? [0, 0] : g === "tangent" ? [u / b, v / b] : [-v / b, u / b] }, tangentOnPath: function (d, f) { return this.vectorOnPath(d, f, "tangent") }, normalOnPath: function (d, f) { return this.vectorOnPath(d, f, "normal") }, setGroupProperty: expressionHelpers.setGroupProperty, getValueAtTime: expressionHelpers.getStaticValueAtTime }, extendPrototype([y], l), extendPrototype([y], p), p.prototype.getValueAtTime = function (d) { return this._cachingAtTime || (this._cachingAtTime = { shapeValue: shapePool.clone(this.pv), lastIndex: 0, lastTime: initialDefaultFrame }), d *= this.elem.globalData.frameRate, (d -= this.offsetTime) !== this._cachingAtTime.lastTime && (this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < d ? this._caching.lastIndex : 0, this._cachingAtTime.lastTime = d, this.interpolateShape(d, this._cachingAtTime.shapeValue, this._cachingAtTime)), this._cachingAtTime.shapeValue }, p.prototype.initiateExpression = ExpressionManager.initiateExpression; var h = ShapePropertyFactory.getShapeProp; ShapePropertyFactory.getShapeProp = function (d, f, g, m, c) { var u = h(d, f, g, m, c); return u.propertyIndex = f.ix, u.lock = !1, g === 3 ? expressionHelpers.searchExpressions(d, f.pt, u) : g === 4 && expressionHelpers.searchExpressions(d, f.ks, u), u.k && d.addDynamicProperty(u), u } } function initialize$1() { addPropertyDecorator() } function addDecorator() { TextProperty.prototype.getExpressionValue = function (t, e) { var r = this.calculateExpression(e); if (t.t !== r) { var n = {}; return this.copyData(n, t), n.t = r.toString(), n.__complete = !1, n } return t }, TextProperty.prototype.searchProperty = function () { var t = this.searchKeyframes(), e = this.searchExpressions(); return this.kf = t || e, this.kf }, TextProperty.prototype.searchExpressions = function () { return this.data.d.x ? (this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this), this.addEffect(this.getExpressionValue.bind(this)), !0) : null } } function initialize() { addDecorator() } function SVGComposableEffect() { } SVGComposableEffect.prototype = { createMergeNode: function (t, e) { var r, n, s = createNS("feMerge"); for (s.setAttribute("result", t), n = 0; n < e.length; n += 1)(r = createNS("feMergeNode")).setAttribute("in", e[n]), s.appendChild(r), s.appendChild(r); return s } }; var linearFilterValue = "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0"; function SVGTintFilter(t, e, r, n, s) { this.filterManager = e; var a = createNS("feColorMatrix"); a.setAttribute("type", "matrix"), a.setAttribute("color-interpolation-filters", "linearRGB"), a.setAttribute("values", linearFilterValue + " 1 0"), this.linearFilter = a, a.setAttribute("result", n + "_tint_1"), t.appendChild(a), (a = createNS("feColorMatrix")).setAttribute("type", "matrix"), a.setAttribute("color-interpolation-filters", "sRGB"), a.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"), a.setAttribute("result", n + "_tint_2"), t.appendChild(a), this.matrixFilter = a; var o = this.createMergeNode(n, [s, n + "_tint_1", n + "_tint_2"]); t.appendChild(o) } function SVGFillFilter(t, e, r, n) { this.filterManager = e; var s = createNS("feColorMatrix"); s.setAttribute("type", "matrix"), s.setAttribute("color-interpolation-filters", "sRGB"), s.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"), s.setAttribute("result", n), t.appendChild(s), this.matrixFilter = s } function SVGStrokeEffect(t, e, r) { this.initialized = !1, this.filterManager = e, this.elem = r, this.paths = [] } function SVGTritoneFilter(t, e, r, n) { this.filterManager = e; var s = createNS("feColorMatrix"); s.setAttribute("type", "matrix"), s.setAttribute("color-interpolation-filters", "linearRGB"), s.setAttribute("values", "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"), t.appendChild(s); var a = createNS("feComponentTransfer"); a.setAttribute("color-interpolation-filters", "sRGB"), a.setAttribute("result", n), this.matrixFilter = a; var o = createNS("feFuncR"); o.setAttribute("type", "table"), a.appendChild(o), this.feFuncR = o; var l = createNS("feFuncG"); l.setAttribute("type", "table"), a.appendChild(l), this.feFuncG = l; var p = createNS("feFuncB"); p.setAttribute("type", "table"), a.appendChild(p), this.feFuncB = p, t.appendChild(a) } function SVGProLevelsFilter(t, e, r, n) { this.filterManager = e; var s = this.filterManager.effectElements, a = createNS("feComponentTransfer"); (s[10].p.k || s[10].p.v !== 0 || s[11].p.k || s[11].p.v !== 1 || s[12].p.k || s[12].p.v !== 1 || s[13].p.k || s[13].p.v !== 0 || s[14].p.k || s[14].p.v !== 1) && (this.feFuncR = this.createFeFunc("feFuncR", a)), (s[17].p.k || s[17].p.v !== 0 || s[18].p.k || s[18].p.v !== 1 || s[19].p.k || s[19].p.v !== 1 || s[20].p.k || s[20].p.v !== 0 || s[21].p.k || s[21].p.v !== 1) && (this.feFuncG = this.createFeFunc("feFuncG", a)), (s[24].p.k || s[24].p.v !== 0 || s[25].p.k || s[25].p.v !== 1 || s[26].p.k || s[26].p.v !== 1 || s[27].p.k || s[27].p.v !== 0 || s[28].p.k || s[28].p.v !== 1) && (this.feFuncB = this.createFeFunc("feFuncB", a)), (s[31].p.k || s[31].p.v !== 0 || s[32].p.k || s[32].p.v !== 1 || s[33].p.k || s[33].p.v !== 1 || s[34].p.k || s[34].p.v !== 0 || s[35].p.k || s[35].p.v !== 1) && (this.feFuncA = this.createFeFunc("feFuncA", a)), (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) && (a.setAttribute("color-interpolation-filters", "sRGB"), t.appendChild(a)), (s[3].p.k || s[3].p.v !== 0 || s[4].p.k || s[4].p.v !== 1 || s[5].p.k || s[5].p.v !== 1 || s[6].p.k || s[6].p.v !== 0 || s[7].p.k || s[7].p.v !== 1) && ((a = createNS("feComponentTransfer")).setAttribute("color-interpolation-filters", "sRGB"), a.setAttribute("result", n), t.appendChild(a), this.feFuncRComposed = this.createFeFunc("feFuncR", a), this.feFuncGComposed = this.createFeFunc("feFuncG", a), this.feFuncBComposed = this.createFeFunc("feFuncB", a)) } function SVGDropShadowEffect(t, e, r, n, s) { var a = e.container.globalData.renderConfig.filterSize, o = e.data.fs || a; t.setAttribute("x", o.x || a.x), t.setAttribute("y", o.y || a.y), t.setAttribute("width", o.width || a.width), t.setAttribute("height", o.height || a.height), this.filterManager = e; var l = createNS("feGaussianBlur"); l.setAttribute("in", "SourceAlpha"), l.setAttribute("result", n + "_drop_shadow_1"), l.setAttribute("stdDeviation", "0"), this.feGaussianBlur = l, t.appendChild(l); var p = createNS("feOffset"); p.setAttribute("dx", "25"), p.setAttribute("dy", "0"), p.setAttribute("in", n + "_drop_shadow_1"), p.setAttribute("result", n + "_drop_shadow_2"), this.feOffset = p, t.appendChild(p); var y = createNS("feFlood"); y.setAttribute("flood-color", "#00ff00"), y.setAttribute("flood-opacity", "1"), y.setAttribute("result", n + "_drop_shadow_3"), this.feFlood = y, t.appendChild(y); var h = createNS("feComposite"); h.setAttribute("in", n + "_drop_shadow_3"), h.setAttribute("in2", n + "_drop_shadow_2"), h.setAttribute("operator", "in"), h.setAttribute("result", n + "_drop_shadow_4"), t.appendChild(h); var d = this.createMergeNode(n, [n + "_drop_shadow_4", s]); t.appendChild(d) } extendPrototype([SVGComposableEffect], SVGTintFilter), SVGTintFilter.prototype.renderFrame = function (t) { if (t || this.filterManager._mdf) { var e = this.filterManager.effectElements[0].p.v, r = this.filterManager.effectElements[1].p.v, n = this.filterManager.effectElements[2].p.v / 100; this.linearFilter.setAttribute("values", linearFilterValue + " " + n + " 0"), this.matrixFilter.setAttribute("values", r[0] - e[0] + " 0 0 0 " + e[0] + " " + (r[1] - e[1]) + " 0 0 0 " + e[1] + " " + (r[2] - e[2]) + " 0 0 0 " + e[2] + " 0 0 0 1 0") } }, SVGFillFilter.prototype.renderFrame = function (t) { if (t || this.filterManager._mdf) { var e = this.filterManager.effectElements[2].p.v, r = this.filterManager.effectElements[6].p.v; this.matrixFilter.setAttribute("values", "0 0 0 0 " + e[0] + " 0 0 0 0 " + e[1] + " 0 0 0 0 " + e[2] + " 0 0 0 " + r + " 0") } }, SVGStrokeEffect.prototype.initialize = function () { var t, e, r, n, s = this.elem.layerElement.children || this.elem.layerElement.childNodes; for (this.filterManager.effectElements[1].p.v === 1 ? (n = this.elem.maskManager.masksProperties.length, r = 0) : n = 1 + (r = this.filterManager.effectElements[0].p.v - 1), (e = createNS("g")).setAttribute("fill", "none"), e.setAttribute("stroke-linecap", "round"), e.setAttribute("stroke-dashoffset", 1); r < n; r += 1)t = createNS("path"), e.appendChild(t), this.paths.push({ p: t, m: r }); if (this.filterManager.effectElements[10].p.v === 3) { var a = createNS("mask"), o = createElementID(); a.setAttribute("id", o), a.setAttribute("mask-type", "alpha"), a.appendChild(e), this.elem.globalData.defs.appendChild(a); var l = createNS("g"); for (l.setAttribute("mask", "url(" + getLocationHref() + "#" + o + ")"); s[0];)l.appendChild(s[0]); this.elem.layerElement.appendChild(l), this.masker = a, e.setAttribute("stroke", "#fff") } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) { if (this.filterManager.effectElements[10].p.v === 2) for (s = this.elem.layerElement.children || this.elem.layerElement.childNodes; s.length;)this.elem.layerElement.removeChild(s[0]); this.elem.layerElement.appendChild(e), this.elem.layerElement.removeAttribute("mask"), e.setAttribute("stroke", "#fff") } this.initialized = !0, this.pathMasker = e }, SVGStrokeEffect.prototype.renderFrame = function (t) { var e; this.initialized || this.initialize(); var r, n, s = this.paths.length; for (e = 0; e < s; e += 1)if (this.paths[e].m !== -1 && (r = this.elem.maskManager.viewData[this.paths[e].m], n = this.paths[e].p, (t || this.filterManager._mdf || r.prop._mdf) && n.setAttribute("d", r.lastPath), t || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || r.prop._mdf)) { var a; if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) { var o = .01 * Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v), l = .01 * Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v), p = n.getTotalLength(); a = "0 0 0 " + p * o + " "; var y, h = p * (l - o), d = 1 + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v * .01, f = Math.floor(h / d); for (y = 0; y < f; y += 1)a += "1 " + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v * .01 + " "; a += "0 " + 10 * p + " 0 0" } else a = "1 " + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v * .01; n.setAttribute("stroke-dasharray", a) } if ((t || this.filterManager.effectElements[4].p._mdf) && this.pathMasker.setAttribute("stroke-width", 2 * this.filterManager.effectElements[4].p.v), (t || this.filterManager.effectElements[6].p._mdf) && this.pathMasker.setAttribute("opacity", this.filterManager.effectElements[6].p.v), (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) && (t || this.filterManager.effectElements[3].p._mdf)) { var g = this.filterManager.effectElements[3].p.v; this.pathMasker.setAttribute("stroke", "rgb(" + bmFloor(255 * g[0]) + "," + bmFloor(255 * g[1]) + "," + bmFloor(255 * g[2]) + ")") } }, SVGTritoneFilter.prototype.renderFrame = function (t) { if (t || this.filterManager._mdf) { var e = this.filterManager.effectElements[0].p.v, r = this.filterManager.effectElements[1].p.v, n = this.filterManager.effectElements[2].p.v, s = n[0] + " " + r[0] + " " + e[0], a = n[1] + " " + r[1] + " " + e[1], o = n[2] + " " + r[2] + " " + e[2]; this.feFuncR.setAttribute("tableValues", s), this.feFuncG.setAttribute("tableValues", a), this.feFuncB.setAttribute("tableValues", o) } }, SVGProLevelsFilter.prototype.createFeFunc = function (t, e) { var r = createNS(t); return r.setAttribute("type", "table"), e.appendChild(r), r }, SVGProLevelsFilter.prototype.getTableValue = function (t, e, r, n, s) { for (var a, o, l = 0, p = Math.min(t, e), y = Math.max(t, e), h = Array.call(null, { length: 256 }), d = 0, f = s - n, g = e - t; l <= 256;)o = (a = l / 256) <= p ? g < 0 ? s : n : a >= y ? g < 0 ? n : s : n + f * Math.pow((a - t) / g, 1 / r), h[d] = o, d += 1, l += 256 / 255; return h.join(" ") }, SVGProLevelsFilter.prototype.renderFrame = function (t) { if (t || this.filterManager._mdf) { var e, r = this.filterManager.effectElements; this.feFuncRComposed && (t || r[3].p._mdf || r[4].p._mdf || r[5].p._mdf || r[6].p._mdf || r[7].p._mdf) && (e = this.getTableValue(r[3].p.v, r[4].p.v, r[5].p.v, r[6].p.v, r[7].p.v), this.feFuncRComposed.setAttribute("tableValues", e), this.feFuncGComposed.setAttribute("tableValues", e), this.feFuncBComposed.setAttribute("tableValues", e)), this.feFuncR && (t || r[10].p._mdf || r[11].p._mdf || r[12].p._mdf || r[13].p._mdf || r[14].p._mdf) && (e = this.getTableValue(r[10].p.v, r[11].p.v, r[12].p.v, r[13].p.v, r[14].p.v), this.feFuncR.setAttribute("tableValues", e)), this.feFuncG && (t || r[17].p._mdf || r[18].p._mdf || r[19].p._mdf || r[20].p._mdf || r[21].p._mdf) && (e = this.getTableValue(r[17].p.v, r[18].p.v, r[19].p.v, r[20].p.v, r[21].p.v), this.feFuncG.setAttribute("tableValues", e)), this.feFuncB && (t || r[24].p._mdf || r[25].p._mdf || r[26].p._mdf || r[27].p._mdf || r[28].p._mdf) && (e = this.getTableValue(r[24].p.v, r[25].p.v, r[26].p.v, r[27].p.v, r[28].p.v), this.feFuncB.setAttribute("tableValues", e)), this.feFuncA && (t || r[31].p._mdf || r[32].p._mdf || r[33].p._mdf || r[34].p._mdf || r[35].p._mdf) && (e = this.getTableValue(r[31].p.v, r[32].p.v, r[33].p.v, r[34].p.v, r[35].p.v), this.feFuncA.setAttribute("tableValues", e)) } }, extendPrototype([SVGComposableEffect], SVGDropShadowEffect), SVGDropShadowEffect.prototype.renderFrame = function (t) { if (t || this.filterManager._mdf) { if ((t || this.filterManager.effectElements[4].p._mdf) && this.feGaussianBlur.setAttribute("stdDeviation", this.filterManager.effectElements[4].p.v / 4), t || this.filterManager.effectElements[0].p._mdf) { var e = this.filterManager.effectElements[0].p.v; this.feFlood.setAttribute("flood-color", rgbToHex(Math.round(255 * e[0]), Math.round(255 * e[1]), Math.round(255 * e[2]))) } if ((t || this.filterManager.effectElements[1].p._mdf) && this.feFlood.setAttribute("flood-opacity", this.filterManager.effectElements[1].p.v / 255), t || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) { var r = this.filterManager.effectElements[3].p.v, n = (this.filterManager.effectElements[2].p.v - 90) * degToRads, s = r * Math.cos(n), a = r * Math.sin(n); this.feOffset.setAttribute("dx", s), this.feOffset.setAttribute("dy", a) } } }; var _svgMatteSymbols = []; function SVGMatte3Effect(t, e, r) { this.initialized = !1, this.filterManager = e, this.filterElem = t, this.elem = r, r.matteElement = createNS("g"), r.matteElement.appendChild(r.layerElement), r.matteElement.appendChild(r.transformedElement), r.baseElement = r.matteElement } function SVGGaussianBlurEffect(t, e, r, n) { t.setAttribute("x", "-100%"), t.setAttribute("y", "-100%"), t.setAttribute("width", "300%"), t.setAttribute("height", "300%"), this.filterManager = e; var s = createNS("feGaussianBlur"); s.setAttribute("result", n), t.appendChild(s), this.feGaussianBlur = s } function TransformEffect() { } function SVGTransformEffect(t, e) { this.init(e) } function CVTransformEffect(t) { this.init(t) } return SVGMatte3Effect.prototype.findSymbol = function (t) { for (var e = 0, r = _svgMatteSymbols.length; e < r;) { if (_svgMatteSymbols[e] === t) return _svgMatteSymbols[e]; e += 1 } return null }, SVGMatte3Effect.prototype.replaceInParent = function (t, e) { var r = t.layerElement.parentNode; if (r) { for (var n, s = r.children, a = 0, o = s.length; a < o && s[a] !== t.layerElement;)a += 1; a <= o - 2 && (n = s[a + 1]); var l = createNS("use"); l.setAttribute("href", "#" + e), n ? r.insertBefore(l, n) : r.appendChild(l) } }, SVGMatte3Effect.prototype.setElementAsMask = function (t, e) { if (!this.findSymbol(e)) { var r = createElementID(), n = createNS("mask"); n.setAttribute("id", e.layerId), n.setAttribute("mask-type", "alpha"), _svgMatteSymbols.push(e); var s = t.globalData.defs; s.appendChild(n); var a = createNS("symbol"); a.setAttribute("id", r), this.replaceInParent(e, r), a.appendChild(e.layerElement), s.appendChild(a); var o = createNS("use"); o.setAttribute("href", "#" + r), n.appendChild(o), e.data.hd = !1, e.show() } t.setMatte(e.layerId) }, SVGMatte3Effect.prototype.initialize = function () { for (var t = this.filterManager.effectElements[0].p.v, e = this.elem.comp.elements, r = 0, n = e.length; r < n;)e[r] && e[r].data.ind === t && this.setElementAsMask(this.elem, e[r]), r += 1; this.initialized = !0 }, SVGMatte3Effect.prototype.renderFrame = function () { this.initialized || this.initialize() }, SVGGaussianBlurEffect.prototype.renderFrame = function (t) { if (t || this.filterManager._mdf) { var e = .3 * this.filterManager.effectElements[0].p.v, r = this.filterManager.effectElements[1].p.v, n = r == 3 ? 0 : e, s = r == 2 ? 0 : e; this.feGaussianBlur.setAttribute("stdDeviation", n + " " + s); var a = this.filterManager.effectElements[2].p.v == 1 ? "wrap" : "duplicate"; this.feGaussianBlur.setAttribute("edgeMode", a) } }, TransformEffect.prototype.init = function (t) { this.effectsManager = t, this.type = effectTypes.TRANSFORM_EFFECT, this.matrix = new Matrix, this.opacity = -1, this._mdf = !1, this._opMdf = !1 }, TransformEffect.prototype.renderFrame = function (t) { if (this._opMdf = !1, this._mdf = !1, t || this.effectsManager._mdf) { var e = this.effectsManager.effectElements, r = e[0].p.v, n = e[1].p.v, s = e[2].p.v === 1, a = e[3].p.v, o = s ? a : e[4].p.v, l = e[5].p.v, p = e[6].p.v, y = e[7].p.v; this.matrix.reset(), this.matrix.translate(-r[0], -r[1], r[2]), this.matrix.scale(.01 * o, .01 * a, 1), this.matrix.rotate(-y * degToRads), this.matrix.skewFromAxis(-l * degToRads, (p + 90) * degToRads), this.matrix.translate(n[0], n[1], 0), this._mdf = !0, this.opacity !== e[8].p.v && (this.opacity = e[8].p.v, this._opMdf = !0) } }, extendPrototype([TransformEffect], SVGTransformEffect), extendPrototype([TransformEffect], CVTransformEffect), registerRenderer("canvas", CanvasRenderer), registerRenderer("html", HybridRenderer), registerRenderer("svg", SVGRenderer), ShapeModifiers.registerModifier("tm", TrimModifier), ShapeModifiers.registerModifier("pb", PuckerAndBloatModifier), ShapeModifiers.registerModifier("rp", RepeaterModifier), ShapeModifiers.registerModifier("rd", RoundCornersModifier), ShapeModifiers.registerModifier("zz", ZigZagModifier), ShapeModifiers.registerModifier("op", OffsetPathModifier), setExpressionsPlugin(Expressions), setExpressionInterfaces(getInterface), initialize$1(), initialize(), registerEffect$1(20, SVGTintFilter, !0), registerEffect$1(21, SVGFillFilter, !0), registerEffect$1(22, SVGStrokeEffect, !1), registerEffect$1(23, SVGTritoneFilter, !0), registerEffect$1(24, SVGProLevelsFilter, !0), registerEffect$1(25, SVGDropShadowEffect, !0), registerEffect$1(28, SVGMatte3Effect, !1), registerEffect$1(29, SVGGaussianBlurEffect, !0), registerEffect$1(35, SVGTransformEffect, !1), registerEffect(35, CVTransformEffect), lottie
        }, module.exports = factory())
    })(Gt, Gt.exports); var Qn = Gt.exports, Ye, Qr = Nr(Ye || (Ye = wt([`
  * {
    box-sizing: border-box;
  }
  :host {
    --lottie-player-toolbar-height: 35px;
    --lottie-player-toolbar-background-color: transparent;
    --lottie-player-toolbar-icon-color: #999;
    --lottie-player-toolbar-icon-hover-color: #222;
    --lottie-player-toolbar-icon-active-color: #555;
    --lottie-player-seeker-track-color: #ccc;
    --lottie-player-seeker-thumb-color: rgba(0, 107, 120, 0.8);
    --lottie-player-seeker-display: block;
    display: block;
    width: 100%;
    height: 100%;
  }
  .main {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
  }
  .animation {
    width: 100%;
    height: 100%;
    display: flex;
  }
  .animation.controls {
    height: calc(100% - 35px);
  }
  .toolbar {
    display: flex;
    align-items: center;
    justify-items: center;
    background-color: var(--lottie-player-toolbar-background-color);
    margin: 0 5px;
    height: 35px;
  }
  .toolbar button {
    cursor: pointer;
    fill: var(--lottie-player-toolbar-icon-color);
    display: flex;
    background: none;
    border: 0;
    padding: 0;
    outline: none;
    height: 100%;
  }
  .toolbar button:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }
  .toolbar button.active {
    fill: var(--lottie-player-toolbar-icon-active-color);
  }
  .toolbar button.active:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }
  .toolbar button:focus {
    outline: 1px dotted var(--lottie-player-toolbar-icon-active-color);
  }
  .toolbar button svg {
  }
  .toolbar button.disabled svg {
    display: none;
  }
  .seeker {
    -webkit-appearance: none;
    width: 95%;
    outline: none;
    background-color: var(--lottie-player-toolbar-background-color);
    display: var(--lottie-player-seeker-display);
  }
  .seeker::-webkit-slider-runnable-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-webkit-slider-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
    -webkit-appearance: none;
    margin-top: -5px;
  }
  .seeker:focus::-webkit-slider-runnable-track {
    background: #999;
  }
  .seeker::-moz-range-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-moz-range-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker::-ms-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: transparent;
    border-color: transparent;
    color: transparent;
  }
  .seeker::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-thumb {
    border: 0;
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker:focus::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
  }
  .seeker:focus::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
  }
  .error {
    display: flex;
    justify-content: center;
    height: 100%;
    align-items: center;
  }
`]))), Kr = "@lottiefiles/lottie-player", gr = "2.0.12", $r = "Lottie animation and Telegram Sticker player web components.", ti = "dist/lottie-player.js", ei = "dist/lottie-player.esm.js", ri = "dist/lottie-player.d.ts", ii = "https://lottiefiles.com/web-player", ni = "https://github.com/LottieFiles/lottie-player.git", si = "https://github.com/LottieFiles/lottie-player/issues", ai = "Jawish Hameed <jawish@lottiefiles.com>", oi = "MIT", li = { start: "npm run cleanup && rollup -c --watch", build: "npm run cleanup && npm run build-lottie && npm run build-tgs", "build-with-coverage": "npm run cleanup && CODE_COVERAGE=true npm run build-lottie && CODE_COVERAGE=true npm run build-tgs", "build-lottie": "rollup -c ", "build-tgs": "rollup -c rollup-tgs.config.js", "watch-lottie": "npm run cleanup && rollup -c --watch", "watch-tgs": "npm run cleanup && rollup -c rollup-tgs.config.js --watch", cleanup: "shx rm -rf dist && shx mkdir dist", release: "semantic-release", lint: "eslint . --ext .ts,.tsx,.js", "lint:fix": "eslint . --ext .ts,.tsx,.js --fix", serve: "node ./cypress/pages/server.js -p 8000 &", "start-cypress": "yarn run cypress run && npx nyc report --reporter=text-summary", "run-tests": "yarn run build-with-coverage && yarn run serve && yarn run start-cypress", "postrun-tests": "kill $(lsof -t -i:8000)" }, vr = { "@types/pako": "^1.0.1", lit: "^2.1.2", "lottie-web": "^5.12.2", pako: "^2.0.4", "resize-observer-polyfill": "^1.5.1" }, hi = { "@babel/core": "^7.11.0", "@babel/plugin-proposal-class-properties": "^7.10.4", "@babel/plugin-proposal-decorators": "^7.10.5", "@babel/preset-env": "^7.11.0", "@babel/preset-typescript": "^7.10.4", "@commitlint/cli": "^16.1.0", "@commitlint/config-conventional": "^16.0.0", "@cypress/code-coverage": "^3.9.12", "@istanbuljs/nyc-config-typescript": "^1.0.2", "@rollup/plugin-babel": "^5.1.0", "@rollup/plugin-commonjs": "^21.0.1", "@rollup/plugin-json": "^6.1.0", "@rollup/plugin-node-resolve": "^13.1.3", "@semantic-release/changelog": "^6.0.1", "@semantic-release/commit-analyzer": "^9.0.2", "@semantic-release/git": "^10.0.1", "@semantic-release/github": "^8.0.2", "@semantic-release/npm": "^9.0.0", "@semantic-release/release-notes-generator": "^10.0.3", "babel-eslint": "^10.1.0", "babel-plugin-istanbul": "^6.1.1", cypress: "^9.2.1", "cypress-real-events": "^1.6.0", eslint: "^7.27.0", "eslint-plugin-only-warn": "^1.0.2", fastify: "^3.25.3", "fastify-static": "^4.5.0", husky: ">=4", lerna: "^4.0.0", "lint-staged": "^12.3.2", "parcel-bundler": "^1.12.4", prettier: "^2.3.0", rollup: "^2.23.0", "rollup-plugin-copy": "^3.3.0", "rollup-plugin-filesize": "^9.0.2", "rollup-plugin-serve": "^1.0.3", "rollup-plugin-terser": "^7.0.2", "rollup-plugin-typescript2": "^0.31.1", "rollup-plugin-uglify": "^6.0.4", "rollup-plugin-visualizer": "^5.5.4", "semantic-release": "^19.0.2", shx: "^0.3.4", "source-map-support": "^0.5.21", "ts-node": "^10.4.0", typescript: "^4.5.5", "unicode-canonical-property-names-ecmascript": "^2.0.0" }, pi = ["dist/"], ci = ["lottie", "animation", "lottiefiles", "web component", "component", "lit-element", "player", "telegram sticker", "tgs"], fi = ["> 3%"], ui = { access: "public", provenance: !0 }, di = { hooks: { "commit-msg": "commitlint -E HUSKY_GIT_PARAMS", "pre-commit": "lint-staged" } }, mi = { extends: "@istanbuljs/nyc-config-typescript", all: !0 }, yi = "yarn@1.22.19+sha1.4ba7fc5c6e704fce2066ecbfb0b0d8976fe62447", Kn = { name: Kr, version: gr, description: $r, main: ti, module: ei, types: ri, homepage: ii, repository: ni, bugs: si, author: ai, license: oi, scripts: li, dependencies: vr, devDependencies: hi, files: pi, keywords: ci, browserslist: fi, publishConfig: ui, husky: di, "lint-staged": { "src/**/*.{css,scss,md}": ["prettier --write"], "src/**/*.{js,jsx,ts,tsx,json}": ["eslint . --ext .ts,.tsx,.js --fix"] }, nyc: mi, packageManager: yi }, Xe, Ze, Je, Qe, Ke, j, Ot, Q; function gi(t) { if (typeof t == "object") return t; try { return JSON.parse(t) } catch { return new URL(t, window.location.href).toString() } } function vi(t) { return ["v", "ip", "op", "layers", "fr", "w", "h"].every(e => Object.prototype.hasOwnProperty.call(t, e)) } function bi(t) { return br.apply(this, arguments) } function br() { return (br = re(function* (t) { if (typeof t != "string") throw new Error("The url value must be a string"); var e; try { var r = new URL(t), n = yield fetch(r.toString()); e = yield n.json() } catch { throw new Error("An error occurred while trying to load the Lottie file from URL") } return e })).apply(this, arguments) } (function (t) { t.Destroyed = "destroyed", t.Error = "error", t.Frozen = "frozen", t.Loading = "loading", t.Paused = "paused", t.Playing = "playing", t.Stopped = "stopped" })(j || (j = {})), function (t) { t.Bounce = "bounce", t.Normal = "normal" }(Ot || (Ot = {})), function (t) { t.Complete = "complete", t.Destroyed = "destroyed", t.Error = "error", t.Frame = "frame", t.Freeze = "freeze", t.Load = "load", t.Loop = "loop", t.Pause = "pause", t.Play = "play", t.Ready = "ready", t.Rendered = "rendered", t.Stop = "stop" }(Q || (Q = {})); var q = class extends bt {
        constructor() { super(...arguments), this.autoplay = !1, this.background = "transparent", this.controls = !1, this.currentState = j.Loading, this.description = "Lottie animation", this.direction = 1, this.disableCheck = !1, this.disableShadowDOM = !1, this.hover = !1, this.intermission = 1, this.loop = !1, this.mode = Ot.Normal, this.preserveAspectRatio = "xMidYMid meet", this.renderer = "svg", this.speed = 1, this._io = void 0, this._counter = 1, this._onVisibilityChange = () => { document.hidden === !0 && this.currentState === j.Playing ? this.freeze() : this.currentState === j.Frozen && this.play() } } load(t) { var e = this; return re(function* () { var r = { container: e.container, loop: !1, autoplay: !1, renderer: e.renderer, rendererSettings: Object.assign({ preserveAspectRatio: e.preserveAspectRatio, clearCanvas: !1, progressiveLoad: !0, hideOnTransparent: !0 }, e.viewBoxSize && { viewBoxSize: e.viewBoxSize }) }; try { var n = gi(t), s = {}, a = typeof n == "string" ? "path" : "animationData"; e._lottie && e._lottie.destroy(), e.webworkers && Gt.exports.useWebWorker(!0), e._lottie = Gt.exports.loadAnimation(Object.assign(Object.assign({}, r), { [a]: n })), e._attachEventListeners(), e.disableCheck || (a === "path" ? (s = yield bi(n), a = "animationData") : s = n, vi(s) || (e.currentState = j.Error, e.dispatchEvent(new CustomEvent(Q.Error)))) } catch { e.currentState = j.Error, e.dispatchEvent(new CustomEvent(Q.Error)) } })() } getLottie() { return this._lottie } getVersions() { return { lottieWebVersion: vr["lottie-web"], lottiePlayerVersion: gr } } play() { this._lottie && (this._lottie.play(), this.currentState = j.Playing, this.dispatchEvent(new CustomEvent(Q.Play))) } pause() { this._lottie && (this._lottie.pause(), this.currentState = j.Paused, this.dispatchEvent(new CustomEvent(Q.Pause))) } stop() { this._lottie && (this._counter = 1, this._lottie.stop(), this.currentState = j.Stopped, this.dispatchEvent(new CustomEvent(Q.Stop))) } destroy() { this._lottie && (this._lottie.destroy(), this._lottie = null, this.currentState = j.Destroyed, this.dispatchEvent(new CustomEvent(Q.Destroyed)), this.remove()) } seek(t) { if (this._lottie) { var e = /^(\d+)(%?)$/.exec(t.toString()); if (e) { var r = e[2] === "%" ? this._lottie.totalFrames * Number(e[1]) / 100 : Number(e[1]); this.seeker = r, this.currentState === j.Playing ? this._lottie.goToAndPlay(r, !0) : (this._lottie.goToAndStop(r, !0), this._lottie.pause()) } } } snapshot() { var t = !(arguments.length > 0 && arguments[0] !== void 0) || arguments[0]; if (this.shadowRoot) { var e = this.shadowRoot.querySelector(".animation svg"), r = new XMLSerializer().serializeToString(e); if (t) { var n = document.createElement("a"); n.href = "data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(r)), n.download = "download_".concat(this.seeker, ".svg"), document.body.appendChild(n), n.click(), document.body.removeChild(n) } return r } } setSpeed() { var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 1; this._lottie && this._lottie.setSpeed(t) } setDirection(t) { this._lottie && this._lottie.setDirection(t) } setLooping(t) { this._lottie && (this.loop = t, this._lottie.loop = t) } togglePlay() { return this.currentState === j.Playing ? this.pause() : this.play() } toggleLooping() { this.setLooping(!this.loop) } resize() { this._lottie && this._lottie.resize() } static get styles() { return Qr } disconnectedCallback() { this.isConnected || (this._io && (this._io.disconnect(), this._io = void 0), document.removeEventListener("visibilitychange", this._onVisibilityChange), this.destroy()) } render() {
            var t = this.controls ? "main controls" : "main", e = this.controls ? "animation controls" : "animation"; return Ut(Xe || (Xe = wt([` <div
      id="animation-container"
      class=`, `
      lang="en"
      aria-label=`, `
      role="img"
    >
      <div
        id="animation"
        class=`, `
        style="background:`, `;"
      >
        `, `
      </div>
      `, `
    </div>`])), t, this.description, e, this.background, this.currentState === j.Error ? Ut(Ze || (Ze = wt(['<div class="error">\u26A0\uFE0F</div>']))) : void 0, this.controls && !this.disableShadowDOM ? this.renderControls() : void 0)
        } createRenderRoot() { return this.disableShadowDOM && (this.style.display = "block"), this.disableShadowDOM ? this : super.createRenderRoot() } firstUpdated() { "IntersectionObserver" in window && (this._io = new IntersectionObserver(t => { t[0].isIntersecting ? this.currentState === j.Frozen && this.play() : this.currentState === j.Playing && this.freeze() }), this._io.observe(this.container)), document.hidden !== void 0 && document.addEventListener("visibilitychange", this._onVisibilityChange), this.src && this.load(this.src), this.dispatchEvent(new CustomEvent(Q.Rendered)) } renderControls() {
            var t = this.currentState === j.Playing, e = this.currentState === j.Paused, r = this.currentState === j.Stopped; return Ut(Je || (Je = wt([`
      <div
        id="lottie-controls"
        aria-label="lottie-animation-controls"
        class="toolbar"
      >
        <button
          id="lottie-play-button"
          @click=`, `
          class=`, `
          style="align-items:center;"
          tabindex="0"
          aria-label="play-pause"
        >
          `, `
        </button>
        <button
          id="lottie-stop-button"
          @click=`, `
          class=`, `
          style="align-items:center;"
          tabindex="0"
          aria-label="stop"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path d="M6 6h12v12H6V6z" />
          </svg>
        </button>
        <input
          id="lottie-seeker-input"
          class="seeker"
          type="range"
          min="0"
          step="1"
          max="100"
          .value=`, `
          @input=`, `
          @mousedown=`, `
          @mouseup=`, `
          aria-valuemin="1"
          aria-valuemax="100"
          role="slider"
          aria-valuenow=`, `
          tabindex="0"
          aria-label="lottie-seek-input"
        />
        <button
          id="lottie-loop-toggle"
          @click=`, `
          class=`, `
          style="align-items:center;"
          tabindex="0"
          aria-label="loop-toggle"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path
              d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"
            />
          </svg>
        </button>
      </div>
    `])), this.togglePlay, t || e ? "active" : "", Ut(t ? Qe || (Qe = wt([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path
                  d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"
                />
              </svg>`])) : Ke || (Ke = wt([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z" />
              </svg>`]))), this.stop, r ? "active" : "", this.seeker, this._handleSeekChange, () => { this._prevState = this.currentState, this.freeze() }, () => { this._prevState === j.Playing && this.play() }, this.seeker, this.toggleLooping, this.loop ? "active" : "")
        } _handleSeekChange(t) { if (this._lottie && !isNaN(t.target.value)) { var e = t.target.value / 100 * this._lottie.totalFrames; this.seek(e) } } _attachEventListeners() { this._lottie.addEventListener("enterFrame", () => { this.seeker = this._lottie.currentFrame / this._lottie.totalFrames * 100, this.dispatchEvent(new CustomEvent(Q.Frame, { detail: { frame: this._lottie.currentFrame, seeker: this.seeker } })) }), this._lottie.addEventListener("complete", () => { if (this.currentState === j.Playing) { if ((!this.loop || this.count && this._counter >= this.count) && (this.dispatchEvent(new CustomEvent(Q.Complete)), this.mode !== Ot.Bounce || this._lottie.currentFrame === 0)) return; this.mode === Ot.Bounce ? (this.count && (this._counter += .5), setTimeout(() => { this.dispatchEvent(new CustomEvent(Q.Loop)), this.currentState === j.Playing && (this._lottie.setDirection(-1 * this._lottie.playDirection), this._lottie.play()) }, this.intermission)) : (this.count && (this._counter += 1), window.setTimeout(() => { this.dispatchEvent(new CustomEvent(Q.Loop)), this.currentState === j.Playing && (this.direction === -1 ? (this.seek("99%"), this.play()) : (this._lottie.stop(), this._lottie.play())) }, this.intermission)) } else this.dispatchEvent(new CustomEvent(Q.Complete)) }), this._lottie.addEventListener("DOMLoaded", () => { this.setSpeed(this.speed), this.setDirection(this.direction), this.autoplay && (this.direction === -1 && this.seek("100%"), this.play()), this.dispatchEvent(new CustomEvent(Q.Ready)) }), this._lottie.addEventListener("data_ready", () => { this.dispatchEvent(new CustomEvent(Q.Load)) }), this._lottie.addEventListener("data_failed", () => { this.currentState = j.Error, this.dispatchEvent(new CustomEvent(Q.Error)) }), this.container.addEventListener("mouseenter", () => { this.hover && this.currentState !== j.Playing && this.play() }), this.container.addEventListener("mouseleave", () => { this.hover && this.currentState === j.Playing && this.stop() }) } freeze() { this._lottie && (this._lottie.pause(), this.currentState = j.Frozen, this.dispatchEvent(new CustomEvent(Q.Freeze))) }
    }; W([Y({ type: Boolean })], q.prototype, "autoplay", void 0), W([Y({ type: String, reflect: !0 })], q.prototype, "background", void 0), W([Y({ type: Boolean })], q.prototype, "controls", void 0), W([Y({ type: Number })], q.prototype, "count", void 0), W([Y({ type: String })], q.prototype, "currentState", void 0), W([Y({ type: String })], q.prototype, "description", void 0), W([Y({ type: Number })], q.prototype, "direction", void 0), W([Y({ type: Boolean })], q.prototype, "disableCheck", void 0), W([Y({ type: Boolean })], q.prototype, "disableShadowDOM", void 0), W([Y({ type: Boolean })], q.prototype, "hover", void 0), W([Y()], q.prototype, "intermission", void 0), W([Y({ type: Boolean, reflect: !0 })], q.prototype, "loop", void 0), W([Y()], q.prototype, "mode", void 0), W([Y({ type: String })], q.prototype, "preserveAspectRatio", void 0), W([Y({ type: String })], q.prototype, "renderer", void 0), W([Y({ type: String })], q.prototype, "viewBoxSize", void 0), W([Y()], q.prototype, "seeker", void 0), W([Y({ type: Number })], q.prototype, "speed", void 0), W([Y({ type: String })], q.prototype, "src", void 0), W([Y({ type: Boolean })], q.prototype, "webworkers", void 0), W([Xr(".animation")], q.prototype, "container", void 0), q = W([Ur("lottie-player")], q); var U = window.Theme || {}; (function (t) { "use strict"; U.init = function () { var p = [U.Header, U.Post, U.Video, U.Searchurl, U.Carousels, U.ModalForm, U.ModalVideo, U.Banner, U.Segment, U.LoadMore, U.Podcast, U.RemoveElementGaps, U.ScrollActivate, U.ScrollProgress, U.SliderCarousel, U.SubmenuSliders, U.QuizSlider, U.IC, U.Animations, U.AtlassianxAtlassian]; p.forEach(function (y) { y !== void 0 && y.init() }) }, t(document).ready(function (p) { U.init() }); var e = function () { var p = t(window).scrollTop(), y = t(window).height(); t(".site-main > div").each(function (h, d) { var f = t(d).offset().top, g = t(this).outerHeight(!0); if (p > f - 50 && p < f + g) { var m = t(d).attr("id"); t(".state-of-teams-navigation a.active").removeClass("active"), t(".state-of-teams-navigation a[href='#" + m + "']").addClass("active") } }), t(".scroll-element-animate").each(function () { var h = t(this).offset().top, d = t(this).outerHeight(!0); p >= h - y && !t(this).hasClass("scroll-element-animate-active scroll-element-number-active") && (t(this).addClass("scroll-element-animate-active"), t(this).hasClass("scroll-element-number") && (t(this).addClass("scroll-element-number-active"), r(t(this)))) }) }, r = function (p) { p.each(function () { var y = t(this), h = parseFloat(t(this).text().replace(/[^0-9.]/g, "")), d = n(y), f = parseFloat(h), g = 50 * (f >= 50), m = Number.isInteger(h), c = 30, u = setInterval(function () { y.text(g.toFixed(2).replace(/\.0+$/, "")), g >= f && (clearInterval(u), y.text(f)), g++ }, c); y.text(g) }) }, n = function (p) { if (p.text().indexOf("%") != -1) p.addClass("atl-percentage-number"); else return "" }; t(function () { t(window).on("scroll", function () { e() }); var p = document.querySelector(".top-bar"), y = document.querySelector(".top-bar__toggle"); y.addEventListener("click", function () { p.classList.contains("opened") ? p.classList.remove("opened") : p.classList.add("opened") }) }); var s = window.matchMedia("(prefers-reduced-motion: reduce)"); if (s.matches === !0) { var a = t(".scroll-element-animate"); a.each(function () { t(this).addClass("scroll-element-animate-active") }); var o = t(".scroll-element-number"); o.each(function () { t(this).addClass("scroll-element-number-active") }); var l = t(".scroll-element-change"); l.each(function () { t(this).addClass("scroll-element-change-active scroll-element-change-active-reduce") }) } })(jQuery);
})();
/*! Bundled license information:
@lottiefiles/lottie-player/dist/lottie-player.esm.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/;
/*!
  * Bootstrap util.js v4.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2019 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
(function (global, factory) { typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('jquery')) : typeof define === 'function' && define.amd ? define(['jquery'], factory) : (global = global || self, global.Util = factory(global.jQuery)); }(this, function ($) {
    'use strict'; $ = $ && $.hasOwnProperty('default') ? $['default'] : $; var TRANSITION_END = 'transitionend'; var MAX_UID = 1000000; var MILLISECONDS_MULTIPLIER = 1000; function toType(obj) { return {}.toString.call(obj).match(/\s([a-z]+)/i)[1].toLowerCase(); }
    function getSpecialTransitionEndEvent() {
        return {
            bindType: TRANSITION_END, delegateType: TRANSITION_END, handle: function handle(event) {
                if ($(event.target).is(this)) { return event.handleObj.handler.apply(this, arguments); }
                return undefined;
            }
        };
    }
    function transitionEndEmulator(duration) { var _this = this; var called = false; $(this).one(Util.TRANSITION_END, function () { called = true; }); setTimeout(function () { if (!called) { Util.triggerTransitionEnd(_this); } }, duration); return this; }
    function setTransitionEndSupport() { $.fn.emulateTransitionEnd = transitionEndEmulator; $.event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent(); }
    var Util = {
        TRANSITION_END: 'bsTransitionEnd', getUID: function getUID(prefix) { do { prefix += ~~(Math.random() * MAX_UID); } while (document.getElementById(prefix)); return prefix; }, getSelectorFromElement: function getSelectorFromElement(element) {
            var selector = element.getAttribute('data-target'); if (!selector || selector === '#') { var hrefAttr = element.getAttribute('href'); selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : ''; }
            try { return document.querySelector(selector) ? selector : null; } catch (err) { return null; }
        }, getTransitionDurationFromElement: function getTransitionDurationFromElement(element) {
            if (!element) { return 0; }
            var transitionDuration = $(element).css('transition-duration'); var transitionDelay = $(element).css('transition-delay'); var floatTransitionDuration = parseFloat(transitionDuration); var floatTransitionDelay = parseFloat(transitionDelay); if (!floatTransitionDuration && !floatTransitionDelay) { return 0; }
            transitionDuration = transitionDuration.split(',')[0]; transitionDelay = transitionDelay.split(',')[0]; return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER;
        }, reflow: function reflow(element) { return element.offsetHeight; }, triggerTransitionEnd: function triggerTransitionEnd(element) { $(element).trigger(TRANSITION_END); }, supportsTransitionEnd: function supportsTransitionEnd() { return Boolean(TRANSITION_END); }, isElement: function isElement(obj) { return (obj[0] || obj).nodeType; }, typeCheckConfig: function typeCheckConfig(componentName, config, configTypes) { for (var property in configTypes) { if (Object.prototype.hasOwnProperty.call(configTypes, property)) { var expectedTypes = configTypes[property]; var value = config[property]; var valueType = value && Util.isElement(value) ? 'element' : toType(value); if (!new RegExp(expectedTypes).test(valueType)) { throw new Error(componentName.toUpperCase() + ": " + ("Option \"" + property + "\" provided type \"" + valueType + "\" ") + ("but expected type \"" + expectedTypes + "\".")); } } } }, findShadowRoot: function findShadowRoot(element) {
            if (!document.documentElement.attachShadow) { return null; }
            if (typeof element.getRootNode === 'function') { var root = element.getRootNode(); return root instanceof ShadowRoot ? root : null; }
            if (element instanceof ShadowRoot) { return element; }
            if (!element.parentNode) { return null; }
            return Util.findShadowRoot(element.parentNode);
        }
    }; setTransitionEndSupport(); return Util;
}));
/*!
  * Bootstrap modal.js v4.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2019 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
(function (global, factory) { typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('jquery'), require('./util.js')) : typeof define === 'function' && define.amd ? define(['jquery', './util.js'], factory) : (global = global || self, global.Modal = factory(global.jQuery, global.Util)); }(this, function ($, Util) {
    'use strict'; $ = $ && $.hasOwnProperty('default') ? $['default'] : $; Util = Util && Util.hasOwnProperty('default') ? Util['default'] : Util; function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }
    function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }
    function _defineProperty(obj, key, value) {
        if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; }
        return obj;
    }
    function _objectSpread(target) {
        for (var i = 1; i < arguments.length; i++) {
            var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); }
            ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); });
        }
        return target;
    }
    var NAME = 'modal'; var VERSION = '4.3.0'; var DATA_KEY = 'bs.modal'; var EVENT_KEY = "." + DATA_KEY; var DATA_API_KEY = '.data-api'; var JQUERY_NO_CONFLICT = $.fn[NAME]; var ESCAPE_KEYCODE = 27; var Default = { backdrop: true, keyboard: true, focus: true, show: true }; var DefaultType = { backdrop: '(boolean|string)', keyboard: 'boolean', focus: 'boolean', show: 'boolean' }; var Event = { HIDE: "hide" + EVENT_KEY, HIDDEN: "hidden" + EVENT_KEY, SHOW: "show" + EVENT_KEY, SHOWN: "shown" + EVENT_KEY, FOCUSIN: "focusin" + EVENT_KEY, RESIZE: "resize" + EVENT_KEY, CLICK_DISMISS: "click.dismiss" + EVENT_KEY, KEYDOWN_DISMISS: "keydown.dismiss" + EVENT_KEY, MOUSEUP_DISMISS: "mouseup.dismiss" + EVENT_KEY, MOUSEDOWN_DISMISS: "mousedown.dismiss" + EVENT_KEY, CLICK_DATA_API: "click" + EVENT_KEY + DATA_API_KEY }; var ClassName = { SCROLLABLE: 'modal-dialog-scrollable', SCROLLBAR_MEASURER: 'modal-scrollbar-measure', BACKDROP: 'modal-backdrop', OPEN: 'modal-open', FADE: 'fade', SHOW: 'show' }; var Selector = { DIALOG: '.modal-dialog', MODAL_BODY: '.modal-body', DATA_TOGGLE: '[data-toggle="modal"]', DATA_DISMISS: '[data-dismiss="modal"]', FIXED_CONTENT: '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top', STICKY_CONTENT: '.sticky-top' }; var Modal = function () {
        function Modal(element, config) { this._config = this._getConfig(config); this._element = element; this._dialog = element.querySelector(Selector.DIALOG); this._backdrop = null; this._isShown = false; this._isBodyOverflowing = false; this._ignoreBackdropClick = false; this._isTransitioning = false; this._scrollbarWidth = 0; }
        var _proto = Modal.prototype; _proto.toggle = function toggle(relatedTarget) { return this._isShown ? this.hide() : this.show(relatedTarget); }; _proto.show = function show(relatedTarget) {
            var _this = this; if (this._isShown || this._isTransitioning) { return; }
            if ($(this._element).hasClass(ClassName.FADE)) { this._isTransitioning = true; }
            var showEvent = $.Event(Event.SHOW, { relatedTarget: relatedTarget }); $(this._element).trigger(showEvent); if (this._isShown || showEvent.isDefaultPrevented()) { return; }
            this._isShown = true; this._checkScrollbar(); this._setScrollbar(); this._adjustDialog(); this._setEscapeEvent(); this._setResizeEvent(); $(this._element).on(Event.CLICK_DISMISS, Selector.DATA_DISMISS, function (event) { return _this.hide(event); }); $(this._dialog).on(Event.MOUSEDOWN_DISMISS, function () { $(_this._element).one(Event.MOUSEUP_DISMISS, function (event) { if ($(event.target).is(_this._element)) { _this._ignoreBackdropClick = true; } }); }); this._showBackdrop(function () { return _this._showElement(relatedTarget); });
        }; _proto.hide = function hide(event) {
            var _this2 = this; if (event) { event.preventDefault(); }
            if (!this._isShown || this._isTransitioning) { return; }
            var hideEvent = $.Event(Event.HIDE); $(this._element).trigger(hideEvent); if (!this._isShown || hideEvent.isDefaultPrevented()) { return; }
            this._isShown = false; var transition = $(this._element).hasClass(ClassName.FADE); if (transition) { this._isTransitioning = true; }
            this._setEscapeEvent(); this._setResizeEvent(); $(document).off(Event.FOCUSIN); $(this._element).removeClass(ClassName.SHOW); $(this._element).off(Event.CLICK_DISMISS); $(this._dialog).off(Event.MOUSEDOWN_DISMISS); if (transition) { var transitionDuration = Util.getTransitionDurationFromElement(this._element); $(this._element).one(Util.TRANSITION_END, function (event) { return _this2._hideModal(event); }).emulateTransitionEnd(transitionDuration); } else { this._hideModal(); }
        }; _proto.dispose = function dispose() { [window, this._element, this._dialog].forEach(function (htmlElement) { return $(htmlElement).off(EVENT_KEY); }); $(document).off(Event.FOCUSIN); $.removeData(this._element, DATA_KEY); this._config = null; this._element = null; this._dialog = null; this._backdrop = null; this._isShown = null; this._isBodyOverflowing = null; this._ignoreBackdropClick = null; this._isTransitioning = null; this._scrollbarWidth = null; }; _proto.handleUpdate = function handleUpdate() { this._adjustDialog(); }; _proto._getConfig = function _getConfig(config) { config = _objectSpread({}, Default, config); Util.typeCheckConfig(NAME, config, DefaultType); return config; }; _proto._showElement = function _showElement(relatedTarget) {
            var _this3 = this; var transition = $(this._element).hasClass(ClassName.FADE); if (!this._element.parentNode || this._element.parentNode.nodeType !== Node.ELEMENT_NODE) { document.body.appendChild(this._element); }
            this._element.style.display = 'block'; this._element.removeAttribute('aria-hidden'); this._element.setAttribute('aria-modal', true); if ($(this._dialog).hasClass(ClassName.SCROLLABLE)) { this._dialog.querySelector(Selector.MODAL_BODY).scrollTop = 0; } else { this._element.scrollTop = 0; }
            if (transition) { Util.reflow(this._element); }
            $(this._element).addClass(ClassName.SHOW); if (this._config.focus) { this._enforceFocus(); }
            var shownEvent = $.Event(Event.SHOWN, { relatedTarget: relatedTarget }); var transitionComplete = function transitionComplete() {
                if (_this3._config.focus) { _this3._element.focus(); }
                _this3._isTransitioning = false; $(_this3._element).trigger(shownEvent);
            }; if (transition) { var transitionDuration = Util.getTransitionDurationFromElement(this._dialog); $(this._dialog).one(Util.TRANSITION_END, transitionComplete).emulateTransitionEnd(transitionDuration); } else { transitionComplete(); }
        }; _proto._enforceFocus = function _enforceFocus() { var _this4 = this; $(document).off(Event.FOCUSIN).on(Event.FOCUSIN, function (event) { if (document !== event.target && _this4._element !== event.target && $(_this4._element).has(event.target).length === 0) { _this4._element.focus(); } }); }; _proto._setEscapeEvent = function _setEscapeEvent() { var _this5 = this; if (this._isShown && this._config.keyboard) { $(this._element).on(Event.KEYDOWN_DISMISS, function (event) { if (event.which === ESCAPE_KEYCODE) { event.preventDefault(); _this5.hide(); } }); } else if (!this._isShown) { $(this._element).off(Event.KEYDOWN_DISMISS); } }; _proto._setResizeEvent = function _setResizeEvent() { var _this6 = this; if (this._isShown) { $(window).on(Event.RESIZE, function (event) { return _this6.handleUpdate(event); }); } else { $(window).off(Event.RESIZE); } }; _proto._hideModal = function _hideModal() { var _this7 = this; this._element.style.display = 'none'; this._element.setAttribute('aria-hidden', true); this._element.removeAttribute('aria-modal'); this._isTransitioning = false; this._showBackdrop(function () { $(document.body).removeClass(ClassName.OPEN); _this7._resetAdjustments(); _this7._resetScrollbar(); $(_this7._element).trigger(Event.HIDDEN); }); }; _proto._removeBackdrop = function _removeBackdrop() { if (this._backdrop) { $(this._backdrop).remove(); this._backdrop = null; } }; _proto._showBackdrop = function _showBackdrop(callback) {
            var _this8 = this; var animate = $(this._element).hasClass(ClassName.FADE) ? ClassName.FADE : ''; if (this._isShown && this._config.backdrop) {
                this._backdrop = document.createElement('div'); this._backdrop.className = ClassName.BACKDROP; if (animate) { this._backdrop.classList.add(animate); }
                $(this._backdrop).appendTo(document.body); $(this._element).on(Event.CLICK_DISMISS, function (event) {
                    if (_this8._ignoreBackdropClick) { _this8._ignoreBackdropClick = false; return; }
                    if (event.target !== event.currentTarget) { return; }
                    if (_this8._config.backdrop === 'static') { _this8._element.focus(); } else { _this8.hide(); }
                }); if (animate) { Util.reflow(this._backdrop); }
                $(this._backdrop).addClass(ClassName.SHOW); if (!callback) { return; }
                if (!animate) { callback(); return; }
                var backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop); $(this._backdrop).one(Util.TRANSITION_END, callback).emulateTransitionEnd(backdropTransitionDuration);
            } else if (!this._isShown && this._backdrop) { $(this._backdrop).removeClass(ClassName.SHOW); var callbackRemove = function callbackRemove() { _this8._removeBackdrop(); if (callback) { callback(); } }; if ($(this._element).hasClass(ClassName.FADE)) { var _backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop); $(this._backdrop).one(Util.TRANSITION_END, callbackRemove).emulateTransitionEnd(_backdropTransitionDuration); } else { callbackRemove(); } } else if (callback) { callback(); }
        }; _proto._adjustDialog = function _adjustDialog() {
            var isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight; if (!this._isBodyOverflowing && isModalOverflowing) { this._element.style.paddingLeft = this._scrollbarWidth + "px"; }
            if (this._isBodyOverflowing && !isModalOverflowing) { this._element.style.paddingRight = this._scrollbarWidth + "px"; }
        }; _proto._resetAdjustments = function _resetAdjustments() { this._element.style.paddingLeft = ''; this._element.style.paddingRight = ''; }; _proto._checkScrollbar = function _checkScrollbar() { var rect = document.body.getBoundingClientRect(); this._isBodyOverflowing = rect.left + rect.right < window.innerWidth; this._scrollbarWidth = this._getScrollbarWidth(); }; _proto._setScrollbar = function _setScrollbar() {
            var _this9 = this; if (this._isBodyOverflowing) { var fixedContent = [].slice.call(document.querySelectorAll(Selector.FIXED_CONTENT)); var stickyContent = [].slice.call(document.querySelectorAll(Selector.STICKY_CONTENT)); $(fixedContent).each(function (index, element) { var actualPadding = element.style.paddingRight; var calculatedPadding = $(element).css('padding-right'); $(element).data('padding-right', actualPadding).css('padding-right', parseFloat(calculatedPadding) + _this9._scrollbarWidth + "px"); }); $(stickyContent).each(function (index, element) { var actualMargin = element.style.marginRight; var calculatedMargin = $(element).css('margin-right'); $(element).data('margin-right', actualMargin).css('margin-right', parseFloat(calculatedMargin) - _this9._scrollbarWidth + "px"); }); var actualPadding = document.body.style.paddingRight; var calculatedPadding = $(document.body).css('padding-right'); $(document.body).data('padding-right', actualPadding).css('padding-right', parseFloat(calculatedPadding) + this._scrollbarWidth + "px"); }
            $(document.body).addClass(ClassName.OPEN);
        }; _proto._resetScrollbar = function _resetScrollbar() { var fixedContent = [].slice.call(document.querySelectorAll(Selector.FIXED_CONTENT)); $(fixedContent).each(function (index, element) { var padding = $(element).data('padding-right'); $(element).removeData('padding-right'); element.style.paddingRight = padding ? padding : ''; }); var elements = [].slice.call(document.querySelectorAll("" + Selector.STICKY_CONTENT)); $(elements).each(function (index, element) { var margin = $(element).data('margin-right'); if (typeof margin !== 'undefined') { $(element).css('margin-right', margin).removeData('margin-right'); } }); var padding = $(document.body).data('padding-right'); $(document.body).removeData('padding-right'); document.body.style.paddingRight = padding ? padding : ''; }; _proto._getScrollbarWidth = function _getScrollbarWidth() { var scrollDiv = document.createElement('div'); scrollDiv.className = ClassName.SCROLLBAR_MEASURER; document.body.appendChild(scrollDiv); var scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth; document.body.removeChild(scrollDiv); return scrollbarWidth; }; Modal._jQueryInterface = function _jQueryInterface(config, relatedTarget) {
            return this.each(function () {
                var data = $(this).data(DATA_KEY); var _config = _objectSpread({}, Default, $(this).data(), typeof config === 'object' && config ? config : {}); if (!data) { data = new Modal(this, _config); $(this).data(DATA_KEY, data); }
                if (typeof config === 'string') {
                    if (typeof data[config] === 'undefined') { throw new TypeError("No method named \"" + config + "\""); }
                    data[config](relatedTarget);
                } else if (_config.show) { data.show(relatedTarget); }
            });
        }; _createClass(Modal, null, [{ key: "VERSION", get: function get() { return VERSION; } }, { key: "Default", get: function get() { return Default; } }]); return Modal;
    }(); $(document).on(Event.CLICK_DATA_API, Selector.DATA_TOGGLE, function (event) {
        var _this10 = this; var target; var selector = Util.getSelectorFromElement(this); if (selector) { target = document.querySelector(selector); }
        var config = $(target).data(DATA_KEY) ? 'toggle' : _objectSpread({}, $(target).data(), $(this).data()); if (this.tagName === 'A' || this.tagName === 'AREA') { event.preventDefault(); }
        var $target = $(target).one(Event.SHOW, function (showEvent) {
            if (showEvent.isDefaultPrevented()) { return; }
            $target.one(Event.HIDDEN, function () { if ($(_this10).is(':visible')) { _this10.focus(); } });
        }); Modal._jQueryInterface.call($(target), config, this);
    }); $.fn[NAME] = Modal._jQueryInterface; $.fn[NAME].Constructor = Modal; $.fn[NAME].noConflict = function () { $.fn[NAME] = JQUERY_NO_CONFLICT; return Modal._jQueryInterface; }; return Modal;
}));
; (function ($, window, document, undefined) {
    function Owl(element, options) { this.settings = null; this.options = $.extend({}, Owl.Defaults, options); this.$element = $(element); this._handlers = {}; this._plugins = {}; this._supress = {}; this._current = null; this._speed = null; this._coordinates = []; this._breakpoint = null; this._width = null; this._items = []; this._clones = []; this._mergers = []; this._widths = []; this._invalidated = {}; this._pipe = []; this._drag = { time: null, target: null, pointer: null, stage: { start: null, current: null }, direction: null }; this._states = { current: {}, tags: { 'initializing': ['busy'], 'animating': ['busy'], 'dragging': ['interacting'] } }; $.each(['onResize', 'onThrottledResize'], $.proxy(function (i, handler) { this._handlers[handler] = $.proxy(this[handler], this); }, this)); $.each(Owl.Plugins, $.proxy(function (key, plugin) { this._plugins[key.charAt(0).toLowerCase() + key.slice(1)] = new plugin(this); }, this)); $.each(Owl.Workers, $.proxy(function (priority, worker) { this._pipe.push({ 'filter': worker.filter, 'run': $.proxy(worker.run, this) }); }, this)); this.setup(); this.initialize(); }
    Owl.Defaults = { items: 3, loop: false, center: false, rewind: false, checkVisibility: true, mouseDrag: true, touchDrag: true, pullDrag: true, freeDrag: false, margin: 0, stagePadding: 0, merge: false, mergeFit: true, autoWidth: false, startPosition: 0, rtl: false, smartSpeed: 250, fluidSpeed: false, dragEndSpeed: false, responsive: {}, responsiveRefreshRate: 200, responsiveBaseElement: window, fallbackEasing: 'swing', slideTransition: '', info: false, nestedItemSelector: false, itemElement: 'div', stageElement: 'div', refreshClass: 'owl-refresh', loadedClass: 'owl-loaded', loadingClass: 'owl-loading', rtlClass: 'owl-rtl', responsiveClass: 'owl-responsive', dragClass: 'owl-drag', itemClass: 'owl-item', stageClass: 'owl-stage', stageOuterClass: 'owl-stage-outer', grabClass: 'owl-grab' }; Owl.Width = { Default: 'default', Inner: 'inner', Outer: 'outer' }; Owl.Type = { Event: 'event', State: 'state' }; Owl.Plugins = {}; Owl.Workers = [{ filter: ['width', 'settings'], run: function () { this._width = this.$element.width(); } }, { filter: ['width', 'items', 'settings'], run: function (cache) { cache.current = this._items && this._items[this.relative(this._current)]; } }, { filter: ['items', 'settings'], run: function () { this.$stage.children('.cloned').remove(); } }, { filter: ['width', 'items', 'settings'], run: function (cache) { var margin = this.settings.margin || '', grid = !this.settings.autoWidth, rtl = this.settings.rtl, css = { 'width': 'auto', 'margin-left': rtl ? margin : '', 'margin-right': rtl ? '' : margin }; !grid && this.$stage.children().css(css); cache.css = css; } }, {
        filter: ['width', 'items', 'settings'], run: function (cache) {
            var width = (this.width() / this.settings.items).toFixed(3) - this.settings.margin, merge = null, iterator = this._items.length, grid = !this.settings.autoWidth, widths = []; cache.items = { merge: false, width: width }; while (iterator--) { merge = this._mergers[iterator]; merge = this.settings.mergeFit && Math.min(merge, this.settings.items) || merge; cache.items.merge = merge > 1 || cache.items.merge; widths[iterator] = !grid ? this._items[iterator].width() : width * merge; }
            this._widths = widths;
        }
    }, {
        filter: ['items', 'settings'], run: function () {
            var clones = [], items = this._items, settings = this.settings, view = Math.max(settings.items * 2, 4), size = Math.ceil(items.length / 2) * 2, repeat = settings.loop && items.length ? settings.rewind ? view : Math.max(view, size) : 0, append = '', prepend = ''; repeat /= 2; while (repeat > 0) { clones.push(this.normalize(clones.length / 2, true)); append = append + items[clones[clones.length - 1]][0].outerHTML; clones.push(this.normalize(items.length - 1 - (clones.length - 1) / 2, true)); prepend = items[clones[clones.length - 1]][0].outerHTML + prepend; repeat -= 1; }
            this._clones = clones; $(append).addClass('cloned').appendTo(this.$stage); $(prepend).addClass('cloned').prependTo(this.$stage);
        }
    }, {
        filter: ['width', 'items', 'settings'], run: function () {
            var rtl = this.settings.rtl ? 1 : -1, size = this._clones.length + this._items.length, iterator = -1, previous = 0, current = 0, coordinates = []; while (++iterator < size) { previous = coordinates[iterator - 1] || 0; current = this._widths[this.relative(iterator)] + this.settings.margin; coordinates.push(previous + current * rtl); }
            this._coordinates = coordinates;
        }
    }, { filter: ['width', 'items', 'settings'], run: function () { var padding = this.settings.stagePadding, coordinates = this._coordinates, css = { 'width': Math.ceil(Math.abs(coordinates[coordinates.length - 1])) + padding * 2, 'padding-left': padding || '', 'padding-right': padding || '' }; this.$stage.css(css); } }, { filter: ['width', 'items', 'settings'], run: function (cache) { var iterator = this._coordinates.length, grid = !this.settings.autoWidth, items = this.$stage.children(); if (grid && cache.items.merge) { while (iterator--) { cache.css.width = this._widths[this.relative(iterator)]; items.eq(iterator).css(cache.css); } } else if (grid) { cache.css.width = cache.items.width; items.css(cache.css); } } }, { filter: ['items'], run: function () { this._coordinates.length < 1 && this.$stage.removeAttr('style'); } }, { filter: ['width', 'items', 'settings'], run: function (cache) { cache.current = cache.current ? this.$stage.children().index(cache.current) : 0; cache.current = Math.max(this.minimum(), Math.min(this.maximum(), cache.current)); this.reset(cache.current); } }, { filter: ['position'], run: function () { this.animate(this.coordinates(this._current)); } }, {
        filter: ['width', 'position', 'items', 'settings'], run: function () {
            var rtl = this.settings.rtl ? 1 : -1, padding = this.settings.stagePadding * 2, begin = this.coordinates(this.current()) + padding, end = begin + this.width() * rtl, inner, outer, matches = [], i, n; for (i = 0, n = this._coordinates.length; i < n; i++) { inner = this._coordinates[i - 1] || 0; outer = Math.abs(this._coordinates[i]) + padding * rtl; if ((this.op(inner, '<=', begin) && (this.op(inner, '>', end))) || (this.op(outer, '<', begin) && this.op(outer, '>', end))) { matches.push(i); } }
            this.$stage.children('.active').removeClass('active'); this.$stage.children(':eq(' + matches.join('), :eq(') + ')').addClass('active'); this.$stage.children('.center').removeClass('center'); if (this.settings.center) { this.$stage.children().eq(this.current()).addClass('center'); }
        }
    }]; Owl.prototype.initializeStage = function () {
        this.$stage = this.$element.find('.' + this.settings.stageClass); if (this.$stage.length) { return; }
        this.$element.addClass(this.options.loadingClass); this.$stage = $('<' + this.settings.stageElement + '>', { "class": this.settings.stageClass }).wrap($('<div/>', { "class": this.settings.stageOuterClass })); this.$element.append(this.$stage.parent());
    }; Owl.prototype.initializeItems = function () {
        var $items = this.$element.find('.owl-item'); if ($items.length) { this._items = $items.get().map(function (item) { return $(item); }); this._mergers = this._items.map(function () { return 1; }); this.refresh(); return; }
        this.replace(this.$element.children().not(this.$stage.parent())); if (this.isVisible()) { this.refresh(); } else { this.invalidate('width'); }
        this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass);
    }; Owl.prototype.initialize = function () {
        this.enter('initializing'); this.trigger('initialize'); this.$element.toggleClass(this.settings.rtlClass, this.settings.rtl); if (this.settings.autoWidth && !this.is('pre-loading')) { var imgs, nestedSelector, width; imgs = this.$element.find('img'); nestedSelector = this.settings.nestedItemSelector ? '.' + this.settings.nestedItemSelector : undefined; width = this.$element.children(nestedSelector).width(); if (imgs.length && width <= 0) { this.preloadAutoWidthImages(imgs); } }
        this.initializeStage(); this.initializeItems(); this.registerEventHandlers(); this.leave('initializing'); this.trigger('initialized');
    }; Owl.prototype.isVisible = function () { return this.settings.checkVisibility ? this.$element.is(':visible') : true; }; Owl.prototype.setup = function () {
        var viewport = this.viewport(), overwrites = this.options.responsive, match = -1, settings = null; if (!overwrites) { settings = $.extend({}, this.options); } else {
            $.each(overwrites, function (breakpoint) { if (breakpoint <= viewport && breakpoint > match) { match = Number(breakpoint); } }); settings = $.extend({}, this.options, overwrites[match]); if (typeof settings.stagePadding === 'function') { settings.stagePadding = settings.stagePadding(); }
            delete settings.responsive; if (settings.responsiveClass) { this.$element.attr('class', this.$element.attr('class').replace(new RegExp('(' + this.options.responsiveClass + '-)\\S+\\s', 'g'), '$1' + match)); }
        }
        this.trigger('change', { property: { name: 'settings', value: settings } }); this._breakpoint = match; this.settings = settings; this.invalidate('settings'); this.trigger('changed', { property: { name: 'settings', value: this.settings } });
    }; Owl.prototype.optionsLogic = function () { if (this.settings.autoWidth) { this.settings.stagePadding = false; this.settings.merge = false; } }; Owl.prototype.prepare = function (item) {
        var event = this.trigger('prepare', { content: item }); if (!event.data) { event.data = $('<' + this.settings.itemElement + '/>').addClass(this.options.itemClass).append(item) }
        this.trigger('prepared', { content: event.data }); return event.data;
    }; Owl.prototype.update = function () {
        var i = 0, n = this._pipe.length, filter = $.proxy(function (p) { return this[p] }, this._invalidated), cache = {}; while (i < n) {
            if (this._invalidated.all || $.grep(this._pipe[i].filter, filter).length > 0) { this._pipe[i].run(cache); }
            i++;
        }
        this._invalidated = {}; !this.is('valid') && this.enter('valid');
    }; Owl.prototype.width = function (dimension) { dimension = dimension || Owl.Width.Default; switch (dimension) { case Owl.Width.Inner: case Owl.Width.Outer: return this._width; default: return this._width - this.settings.stagePadding * 2 + this.settings.margin; } }; Owl.prototype.refresh = function () { this.enter('refreshing'); this.trigger('refresh'); this.setup(); this.optionsLogic(); this.$element.addClass(this.options.refreshClass); this.update(); this.$element.removeClass(this.options.refreshClass); this.leave('refreshing'); this.trigger('refreshed'); }; Owl.prototype.onThrottledResize = function () { window.clearTimeout(this.resizeTimer); this.resizeTimer = window.setTimeout(this._handlers.onResize, this.settings.responsiveRefreshRate); }; Owl.prototype.onResize = function () {
        if (!this._items.length) { return false; }
        if (this._width === this.$element.width()) { return false; }
        if (!this.isVisible()) { return false; }
        this.enter('resizing'); if (this.trigger('resize').isDefaultPrevented()) { this.leave('resizing'); return false; }
        this.invalidate('width'); this.refresh(); this.leave('resizing'); this.trigger('resized');
    }; Owl.prototype.registerEventHandlers = function () {
        if ($.support.transition) { this.$stage.on($.support.transition.end + '.owl.core', $.proxy(this.onTransitionEnd, this)); }
        if (this.settings.responsive !== false) { this.on(window, 'resize', this._handlers.onThrottledResize); }
        if (this.settings.mouseDrag) { this.$element.addClass(this.options.dragClass); this.$stage.on('mousedown.owl.core', $.proxy(this.onDragStart, this)); this.$stage.on('dragstart.owl.core selectstart.owl.core', function () { return false }); }
        if (this.settings.touchDrag) { this.$stage.on('touchstart.owl.core', $.proxy(this.onDragStart, this)); this.$stage.on('touchcancel.owl.core', $.proxy(this.onDragEnd, this)); }
    }; Owl.prototype.onDragStart = function (event) {
        var stage = null; if (event.which === 3) { return; }
        if ($.support.transform) { stage = this.$stage.css('transform').replace(/.*\(|\)| /g, '').split(','); stage = { x: stage[stage.length === 16 ? 12 : 4], y: stage[stage.length === 16 ? 13 : 5] }; } else { stage = this.$stage.position(); stage = { x: this.settings.rtl ? stage.left + this.$stage.width() - this.width() + this.settings.margin : stage.left, y: stage.top }; }
        if (this.is('animating')) {
            $.support.transform ? this.animate(stage.x) : this.$stage.stop()
            this.invalidate('position');
        }
        this.$element.toggleClass(this.options.grabClass, event.type === 'mousedown'); this.speed(0); this._drag.time = new Date().getTime(); this._drag.target = $(event.target); this._drag.stage.start = stage; this._drag.stage.current = stage; this._drag.pointer = this.pointer(event); $(document).on('mouseup.owl.core touchend.owl.core', $.proxy(this.onDragEnd, this)); $(document).one('mousemove.owl.core touchmove.owl.core', $.proxy(function (event) {
            var delta = this.difference(this._drag.pointer, this.pointer(event)); $(document).on('mousemove.owl.core touchmove.owl.core', $.proxy(this.onDragMove, this)); if (Math.abs(delta.x) < Math.abs(delta.y) && this.is('valid')) { return; }
            event.preventDefault(); this.enter('dragging'); this.trigger('drag');
        }, this));
    }; Owl.prototype.onDragMove = function (event) {
        var minimum = null, maximum = null, pull = null, delta = this.difference(this._drag.pointer, this.pointer(event)), stage = this.difference(this._drag.stage.start, delta); if (!this.is('dragging')) { return; }
        event.preventDefault(); if (this.settings.loop) { minimum = this.coordinates(this.minimum()); maximum = this.coordinates(this.maximum() + 1) - minimum; stage.x = (((stage.x - minimum) % maximum + maximum) % maximum) + minimum; } else { minimum = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum()); maximum = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum()); pull = this.settings.pullDrag ? -1 * delta.x / 5 : 0; stage.x = Math.max(Math.min(stage.x, minimum + pull), maximum + pull); }
        this._drag.stage.current = stage; this.animate(stage.x);
    }; Owl.prototype.onDragEnd = function (event) {
        var delta = this.difference(this._drag.pointer, this.pointer(event)), stage = this._drag.stage.current, direction = delta.x > 0 ^ this.settings.rtl ? 'left' : 'right'; $(document).off('.owl.core'); this.$element.removeClass(this.options.grabClass); if (delta.x !== 0 && this.is('dragging') || !this.is('valid')) { this.speed(this.settings.dragEndSpeed || this.settings.smartSpeed); this.current(this.closest(stage.x, delta.x !== 0 ? direction : this._drag.direction)); this.invalidate('position'); this.update(); this._drag.direction = direction; if (Math.abs(delta.x) > 3 || new Date().getTime() - this._drag.time > 300) { this._drag.target.one('click.owl.core', function () { return false; }); } }
        if (!this.is('dragging')) { return; }
        this.leave('dragging'); this.trigger('dragged');
    }; Owl.prototype.closest = function (coordinate, direction) {
        var position = -1, pull = 30, width = this.width(), coordinates = this.coordinates(); if (!this.settings.freeDrag) {
            $.each(coordinates, $.proxy(function (index, value) {
                if (direction === 'left' && coordinate > value - pull && coordinate < value + pull) { position = index; } else if (direction === 'right' && coordinate > value - width - pull && coordinate < value - width + pull) { position = index + 1; } else if (this.op(coordinate, '<', value) && this.op(coordinate, '>', coordinates[index + 1] !== undefined ? coordinates[index + 1] : value - width)) { position = direction === 'left' ? index + 1 : index; }
                return position === -1;
            }, this));
        }
        if (!this.settings.loop) { if (this.op(coordinate, '>', coordinates[this.minimum()])) { position = coordinate = this.minimum(); } else if (this.op(coordinate, '<', coordinates[this.maximum()])) { position = coordinate = this.maximum(); } }
        return position;
    }; Owl.prototype.animate = function (coordinate) {
        var animate = this.speed() > 0; this.is('animating') && this.onTransitionEnd(); if (animate) { this.enter('animating'); this.trigger('translate'); }
        if ($.support.transform3d && $.support.transition) { this.$stage.css({ transform: 'translate3d(' + coordinate + 'px,0px,0px)', transition: (this.speed() / 1000) + 's' + (this.settings.slideTransition ? ' ' + this.settings.slideTransition : '') }); } else if (animate) { this.$stage.animate({ left: coordinate + 'px' }, this.speed(), this.settings.fallbackEasing, $.proxy(this.onTransitionEnd, this)); } else { this.$stage.css({ left: coordinate + 'px' }); }
    }; Owl.prototype.is = function (state) { return this._states.current[state] && this._states.current[state] > 0; }; Owl.prototype.current = function (position) {
        if (position === undefined) { return this._current; }
        if (this._items.length === 0) { return undefined; }
        position = this.normalize(position); if (this._current !== position) {
            var event = this.trigger('change', { property: { name: 'position', value: position } }); if (event.data !== undefined) { position = this.normalize(event.data); }
            this._current = position; this.invalidate('position'); this.trigger('changed', { property: { name: 'position', value: this._current } });
        }
        return this._current;
    }; Owl.prototype.invalidate = function (part) {
        if ($.type(part) === 'string') { this._invalidated[part] = true; this.is('valid') && this.leave('valid'); }
        return $.map(this._invalidated, function (v, i) { return i });
    }; Owl.prototype.reset = function (position) {
        position = this.normalize(position); if (position === undefined) { return; }
        this._speed = 0; this._current = position; this.suppress(['translate', 'translated']); this.animate(this.coordinates(position)); this.release(['translate', 'translated']);
    }; Owl.prototype.normalize = function (position, relative) {
        var n = this._items.length, m = relative ? 0 : this._clones.length; if (!this.isNumeric(position) || n < 1) { position = undefined; } else if (position < 0 || position >= n + m) { position = ((position - m / 2) % n + n) % n + m / 2; }
        return position;
    }; Owl.prototype.relative = function (position) { position -= this._clones.length / 2; return this.normalize(position, true); }; Owl.prototype.maximum = function (relative) {
        var settings = this.settings, maximum = this._coordinates.length, iterator, reciprocalItemsWidth, elementWidth; if (settings.loop) { maximum = this._clones.length / 2 + this._items.length - 1; } else if (settings.autoWidth || settings.merge) {
            iterator = this._items.length; if (iterator) { reciprocalItemsWidth = this._items[--iterator].width(); elementWidth = this.$element.width(); while (iterator--) { reciprocalItemsWidth += this._items[iterator].width() + this.settings.margin; if (reciprocalItemsWidth > elementWidth) { break; } } }
            maximum = iterator + 1;
        } else if (settings.center) { maximum = this._items.length - 1; } else { maximum = this._items.length - settings.items; }
        if (relative) { maximum -= this._clones.length / 2; }
        return Math.max(maximum, 0);
    }; Owl.prototype.minimum = function (relative) { return relative ? 0 : this._clones.length / 2; }; Owl.prototype.items = function (position) {
        if (position === undefined) { return this._items.slice(); }
        position = this.normalize(position, true); return this._items[position];
    }; Owl.prototype.mergers = function (position) {
        if (position === undefined) { return this._mergers.slice(); }
        position = this.normalize(position, true); return this._mergers[position];
    }; Owl.prototype.clones = function (position) {
        var odd = this._clones.length / 2, even = odd + this._items.length, map = function (index) { return index % 2 === 0 ? even + index / 2 : odd - (index + 1) / 2 }; if (position === undefined) { return $.map(this._clones, function (v, i) { return map(i) }); }
        return $.map(this._clones, function (v, i) { return v === position ? map(i) : null });
    }; Owl.prototype.speed = function (speed) {
        if (speed !== undefined) { this._speed = speed; }
        return this._speed;
    }; Owl.prototype.coordinates = function (position) {
        var multiplier = 1, newPosition = position - 1, coordinate; if (position === undefined) { return $.map(this._coordinates, $.proxy(function (coordinate, index) { return this.coordinates(index); }, this)); }
        if (this.settings.center) {
            if (this.settings.rtl) { multiplier = -1; newPosition = position + 1; }
            coordinate = this._coordinates[position]; coordinate += (this.width() - coordinate + (this._coordinates[newPosition] || 0)) / 2 * multiplier;
        } else { coordinate = this._coordinates[newPosition] || 0; }
        coordinate = Math.ceil(coordinate); return coordinate;
    }; Owl.prototype.duration = function (from, to, factor) {
        if (factor === 0) { return 0; }
        return Math.min(Math.max(Math.abs(to - from), 1), 6) * Math.abs((factor || this.settings.smartSpeed));
    }; Owl.prototype.to = function (position, speed) {
        var current = this.current(), revert = null, distance = position - this.relative(current), direction = (distance > 0) - (distance < 0), items = this._items.length, minimum = this.minimum(), maximum = this.maximum(); if (this.settings.loop) {
            if (!this.settings.rewind && Math.abs(distance) > items / 2) { distance += direction * -1 * items; }
            position = current + distance; revert = ((position - minimum) % items + items) % items + minimum; if (revert !== position && revert - distance <= maximum && revert - distance > 0) { current = revert - distance; position = revert; this.reset(current); }
        } else if (this.settings.rewind) { maximum += 1; position = (position % maximum + maximum) % maximum; } else { position = Math.max(minimum, Math.min(maximum, position)); }
        this.speed(this.duration(current, position, speed)); this.current(position); if (this.isVisible()) { this.update(); }
    }; Owl.prototype.next = function (speed) { speed = speed || false; this.to(this.relative(this.current()) + 1, speed); }; Owl.prototype.prev = function (speed) { speed = speed || false; this.to(this.relative(this.current()) - 1, speed); }; Owl.prototype.onTransitionEnd = function (event) {
        if (event !== undefined) { event.stopPropagation(); if ((event.target || event.srcElement || event.originalTarget) !== this.$stage.get(0)) { return false; } }
        this.leave('animating'); this.trigger('translated');
    }; Owl.prototype.viewport = function () {
        var width; if (this.options.responsiveBaseElement !== window) { width = $(this.options.responsiveBaseElement).width(); } else if (window.innerWidth) { width = window.innerWidth; } else if (document.documentElement && document.documentElement.clientWidth) { width = document.documentElement.clientWidth; } else { console.warn('Can not detect viewport width.'); }
        return width;
    }; Owl.prototype.replace = function (content) {
        this.$stage.empty(); this._items = []; if (content) { content = (content instanceof jQuery) ? content : $(content); }
        if (this.settings.nestedItemSelector) { content = content.find('.' + this.settings.nestedItemSelector); }
        content.filter(function () { return this.nodeType === 1; }).each($.proxy(function (index, item) { item = this.prepare(item); this.$stage.append(item); this._items.push(item); this._mergers.push(item.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1); }, this)); this.reset(this.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0); this.invalidate('items');
    }; Owl.prototype.add = function (content, position) {
        var current = this.relative(this._current); position = position === undefined ? this._items.length : this.normalize(position, true); content = content instanceof jQuery ? content : $(content); this.trigger('add', { content: content, position: position }); content = this.prepare(content); if (this._items.length === 0 || position === this._items.length) { this._items.length === 0 && this.$stage.append(content); this._items.length !== 0 && this._items[position - 1].after(content); this._items.push(content); this._mergers.push(content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1); } else { this._items[position].before(content); this._items.splice(position, 0, content); this._mergers.splice(position, 0, content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1); }
        this._items[current] && this.reset(this._items[current].index()); this.invalidate('items'); this.trigger('added', { content: content, position: position });
    }; Owl.prototype.remove = function (position) {
        position = this.normalize(position, true); if (position === undefined) { return; }
        this.trigger('remove', { content: this._items[position], position: position }); this._items[position].remove(); this._items.splice(position, 1); this._mergers.splice(position, 1); this.invalidate('items'); this.trigger('removed', { content: null, position: position });
    }; Owl.prototype.preloadAutoWidthImages = function (images) { images.each($.proxy(function (i, element) { this.enter('pre-loading'); element = $(element); $(new Image()).one('load', $.proxy(function (e) { element.attr('src', e.target.src); element.css('opacity', 1); this.leave('pre-loading'); !this.is('pre-loading') && !this.is('initializing') && this.refresh(); }, this)).attr('src', element.attr('src') || element.attr('data-src') || element.attr('data-src-retina')); }, this)); }; Owl.prototype.destroy = function () {
        this.$element.off('.owl.core'); this.$stage.off('.owl.core'); $(document).off('.owl.core'); if (this.settings.responsive !== false) { window.clearTimeout(this.resizeTimer); this.off(window, 'resize', this._handlers.onThrottledResize); }
        for (var i in this._plugins) { this._plugins[i].destroy(); }
        this.$stage.children('.cloned').remove(); this.$stage.unwrap(); this.$stage.children().contents().unwrap(); this.$stage.children().unwrap(); this.$stage.remove(); this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr('class', this.$element.attr('class').replace(new RegExp(this.options.responsiveClass + '-\\S+\\s', 'g'), '')).removeData('owl.carousel');
    }; Owl.prototype.op = function (a, o, b) { var rtl = this.settings.rtl; switch (o) { case '<': return rtl ? a > b : a < b; case '>': return rtl ? a < b : a > b; case '>=': return rtl ? a <= b : a >= b; case '<=': return rtl ? a >= b : a <= b; default: break; } }; Owl.prototype.on = function (element, event, listener, capture) { if (element.addEventListener) { element.addEventListener(event, listener, capture); } else if (element.attachEvent) { element.attachEvent('on' + event, listener); } }; Owl.prototype.off = function (element, event, listener, capture) { if (element.removeEventListener) { element.removeEventListener(event, listener, capture); } else if (element.detachEvent) { element.detachEvent('on' + event, listener); } }; Owl.prototype.trigger = function (name, data, namespace, state, enter) {
        var status = { item: { count: this._items.length, index: this.current() } }, handler = $.camelCase($.grep(['on', name, namespace], function (v) { return v }).join('-').toLowerCase()), event = $.Event([name, 'owl', namespace || 'carousel'].join('.').toLowerCase(), $.extend({ relatedTarget: this }, status, data)); if (!this._supress[name]) { $.each(this._plugins, function (name, plugin) { if (plugin.onTrigger) { plugin.onTrigger(event); } }); this.register({ type: Owl.Type.Event, name: name }); this.$element.trigger(event); if (this.settings && typeof this.settings[handler] === 'function') { this.settings[handler].call(this, event); } }
        return event;
    }; Owl.prototype.enter = function (name) {
        $.each([name].concat(this._states.tags[name] || []), $.proxy(function (i, name) {
            if (this._states.current[name] === undefined) { this._states.current[name] = 0; }
            this._states.current[name]++;
        }, this));
    }; Owl.prototype.leave = function (name) { $.each([name].concat(this._states.tags[name] || []), $.proxy(function (i, name) { this._states.current[name]--; }, this)); }; Owl.prototype.register = function (object) {
        if (object.type === Owl.Type.Event) {
            if (!$.event.special[object.name]) { $.event.special[object.name] = {}; }
            if (!$.event.special[object.name].owl) {
                var _default = $.event.special[object.name]._default; $.event.special[object.name]._default = function (e) {
                    if (_default && _default.apply && (!e.namespace || e.namespace.indexOf('owl') === -1)) { return _default.apply(this, arguments); }
                    return e.namespace && e.namespace.indexOf('owl') > -1;
                }; $.event.special[object.name].owl = true;
            }
        } else if (object.type === Owl.Type.State) {
            if (!this._states.tags[object.name]) { this._states.tags[object.name] = object.tags; } else { this._states.tags[object.name] = this._states.tags[object.name].concat(object.tags); }
            this._states.tags[object.name] = $.grep(this._states.tags[object.name], $.proxy(function (tag, i) { return $.inArray(tag, this._states.tags[object.name]) === i; }, this));
        }
    }; Owl.prototype.suppress = function (events) { $.each(events, $.proxy(function (index, event) { this._supress[event] = true; }, this)); }; Owl.prototype.release = function (events) { $.each(events, $.proxy(function (index, event) { delete this._supress[event]; }, this)); }; Owl.prototype.pointer = function (event) {
        var result = { x: null, y: null }; event = event.originalEvent || event || window.event; event = event.touches && event.touches.length ? event.touches[0] : event.changedTouches && event.changedTouches.length ? event.changedTouches[0] : event; if (event.pageX) { result.x = event.pageX; result.y = event.pageY; } else { result.x = event.clientX; result.y = event.clientY; }
        return result;
    }; Owl.prototype.isNumeric = function (number) { return !isNaN(parseFloat(number)); }; Owl.prototype.difference = function (first, second) { return { x: first.x - second.x, y: first.y - second.y }; }; $.fn.owlCarousel = function (option) {
        var args = Array.prototype.slice.call(arguments, 1); return this.each(function () {
            var $this = $(this), data = $this.data('owl.carousel'); if (!data) { data = new Owl(this, typeof option == 'object' && option); $this.data('owl.carousel', data); $.each(['next', 'prev', 'to', 'destroy', 'refresh', 'replace', 'add', 'remove'], function (i, event) { data.register({ type: Owl.Type.Event, name: event }); data.$element.on(event + '.owl.carousel.core', $.proxy(function (e) { if (e.namespace && e.relatedTarget !== this) { this.suppress([event]); data[event].apply(this, [].slice.call(arguments, 1)); this.release([event]); } }, data)); }); }
            if (typeof option == 'string' && option.charAt(0) !== '_') { data[option].apply(data, args); }
        });
    }; $.fn.owlCarousel.Constructor = Owl;
})(window.Zepto || window.jQuery, window, document);; (function ($, window, document, undefined) {
    var AutoRefresh = function (carousel) { this._core = carousel; this._interval = null; this._visible = null; this._handlers = { 'initialized.owl.carousel': $.proxy(function (e) { if (e.namespace && this._core.settings.autoRefresh) { this.watch(); } }, this) }; this._core.options = $.extend({}, AutoRefresh.Defaults, this._core.options); this._core.$element.on(this._handlers); }; AutoRefresh.Defaults = { autoRefresh: true, autoRefreshInterval: 500 }; AutoRefresh.prototype.watch = function () {
        if (this._interval) { return; }
        this._visible = this._core.isVisible(); this._interval = window.setInterval($.proxy(this.refresh, this), this._core.settings.autoRefreshInterval);
    }; AutoRefresh.prototype.refresh = function () {
        if (this._core.isVisible() === this._visible) { return; }
        this._visible = !this._visible; this._core.$element.toggleClass('owl-hidden', !this._visible); this._visible && (this._core.invalidate('width') && this._core.refresh());
    }; AutoRefresh.prototype.destroy = function () {
        var handler, property; window.clearInterval(this._interval); for (handler in this._handlers) { this._core.$element.off(handler, this._handlers[handler]); }
        for (property in Object.getOwnPropertyNames(this)) { typeof this[property] != 'function' && (this[property] = null); }
    }; $.fn.owlCarousel.Constructor.Plugins.AutoRefresh = AutoRefresh;
})(window.Zepto || window.jQuery, window, document);; (function ($, window, document, undefined) {
    var Lazy = function (carousel) {
        this._core = carousel; this._loaded = []; this._handlers = {
            'initialized.owl.carousel change.owl.carousel resized.owl.carousel': $.proxy(function (e) {
                if (!e.namespace) { return; }
                if (!this._core.settings || !this._core.settings.lazyLoad) { return; }
                if ((e.property && e.property.name == 'position') || e.type == 'initialized') {
                    var settings = this._core.settings, n = (settings.center && Math.ceil(settings.items / 2) || settings.items), i = ((settings.center && n * -1) || 0), position = (e.property && e.property.value !== undefined ? e.property.value : this._core.current()) + i, clones = this._core.clones().length, load = $.proxy(function (i, v) { this.load(v) }, this); if (settings.lazyLoadEager > 0) { n += settings.lazyLoadEager; if (settings.loop) { position -= settings.lazyLoadEager; n++; } }
                    while (i++ < n) { this.load(clones / 2 + this._core.relative(position)); clones && $.each(this._core.clones(this._core.relative(position)), load); position++; }
                }
            }, this)
        }; this._core.options = $.extend({}, Lazy.Defaults, this._core.options); this._core.$element.on(this._handlers);
    }; Lazy.Defaults = { lazyLoad: false, lazyLoadEager: 0 }; Lazy.prototype.load = function (position) {
        var $item = this._core.$stage.children().eq(position), $elements = $item && $item.find('.owl-lazy'); if (!$elements || $.inArray($item.get(0), this._loaded) > -1) { return; }
        $elements.each($.proxy(function (index, element) { var $element = $(element), image, url = (window.devicePixelRatio > 1 && $element.attr('data-src-retina')) || $element.attr('data-src') || $element.attr('data-srcset'); this._core.trigger('load', { element: $element, url: url }, 'lazy'); if ($element.is('img')) { $element.one('load.owl.lazy', $.proxy(function () { $element.css('opacity', 1); this._core.trigger('loaded', { element: $element, url: url }, 'lazy'); }, this)).attr('src', url); } else if ($element.is('source')) { $element.one('load.owl.lazy', $.proxy(function () { this._core.trigger('loaded', { element: $element, url: url }, 'lazy'); }, this)).attr('srcset', url); } else { image = new Image(); image.onload = $.proxy(function () { $element.css({ 'background-image': 'url("' + url + '")', 'opacity': '1' }); this._core.trigger('loaded', { element: $element, url: url }, 'lazy'); }, this); image.src = url; } }, this)); this._loaded.push($item.get(0));
    }; Lazy.prototype.destroy = function () {
        var handler, property; for (handler in this.handlers) { this._core.$element.off(handler, this.handlers[handler]); }
        for (property in Object.getOwnPropertyNames(this)) { typeof this[property] != 'function' && (this[property] = null); }
    }; $.fn.owlCarousel.Constructor.Plugins.Lazy = Lazy;
})(window.Zepto || window.jQuery, window, document);; (function ($, window, document, undefined) {
    var AutoHeight = function (carousel) {
        this._core = carousel; this._previousHeight = null; this._handlers = { 'initialized.owl.carousel refreshed.owl.carousel': $.proxy(function (e) { if (e.namespace && this._core.settings.autoHeight) { this.update(); } }, this), 'changed.owl.carousel': $.proxy(function (e) { if (e.namespace && this._core.settings.autoHeight && e.property.name === 'position') { this.update(); } }, this), 'loaded.owl.lazy': $.proxy(function (e) { if (e.namespace && this._core.settings.autoHeight && e.element.closest('.' + this._core.settings.itemClass).index() === this._core.current()) { this.update(); } }, this) }; this._core.options = $.extend({}, AutoHeight.Defaults, this._core.options); this._core.$element.on(this._handlers); this._intervalId = null; var refThis = this; $(window).on('load', function () { if (refThis._core.settings.autoHeight) { refThis.update(); } }); $(window).resize(function () {
            if (refThis._core.settings.autoHeight) {
                if (refThis._intervalId != null) { clearTimeout(refThis._intervalId); }
                refThis._intervalId = setTimeout(function () { refThis.update(); }, 250);
            }
        });
    }; AutoHeight.Defaults = { autoHeight: false, autoHeightClass: 'owl-height' }; AutoHeight.prototype.update = function () {
        var start = this._core._current, end = start + this._core.settings.items, lazyLoadEnabled = this._core.settings.lazyLoad, visible = this._core.$stage.children().toArray().slice(start, end), heights = [], maxheight = 0; $.each(visible, function (index, item) { heights.push($(item).height()); }); maxheight = Math.max.apply(null, heights); if (maxheight <= 1 && lazyLoadEnabled && this._previousHeight) { maxheight = this._previousHeight; }
        this._previousHeight = maxheight; this._core.$stage.parent().height(maxheight).addClass(this._core.settings.autoHeightClass);
    }; AutoHeight.prototype.destroy = function () {
        var handler, property; for (handler in this._handlers) { this._core.$element.off(handler, this._handlers[handler]); }
        for (property in Object.getOwnPropertyNames(this)) { typeof this[property] !== 'function' && (this[property] = null); }
    }; $.fn.owlCarousel.Constructor.Plugins.AutoHeight = AutoHeight;
})(window.Zepto || window.jQuery, window, document);; (function ($, window, document, undefined) {
    var Video = function (carousel) {
        this._core = carousel; this._videos = {}; this._playing = null; this._handlers = {
            'initialized.owl.carousel': $.proxy(function (e) { if (e.namespace) { this._core.register({ type: 'state', name: 'playing', tags: ['interacting'] }); } }, this), 'resize.owl.carousel': $.proxy(function (e) { if (e.namespace && this._core.settings.video && this.isInFullScreen()) { e.preventDefault(); } }, this), 'refreshed.owl.carousel': $.proxy(function (e) { if (e.namespace && this._core.is('resizing')) { this._core.$stage.find('.cloned .owl-video-frame').remove(); } }, this), 'changed.owl.carousel': $.proxy(function (e) { if (e.namespace && e.property.name === 'position' && this._playing) { this.stop(); } }, this), 'prepared.owl.carousel': $.proxy(function (e) {
                if (!e.namespace) { return; }
                var $element = $(e.content).find('.owl-video'); if ($element.length) { $element.css('display', 'none'); this.fetch($element, $(e.content)); }
            }, this)
        }; this._core.options = $.extend({}, Video.Defaults, this._core.options); this._core.$element.on(this._handlers); this._core.$element.on('click.owl.video', '.owl-video-play-icon', $.proxy(function (e) { this.play(e); }, this));
    }; Video.Defaults = { video: false, videoHeight: false, videoWidth: false }; Video.prototype.fetch = function (target, item) {
        var type = (function () { if (target.attr('data-vimeo-id')) { return 'vimeo'; } else if (target.attr('data-vzaar-id')) { return 'vzaar' } else { return 'youtube'; } })(), id = target.attr('data-vimeo-id') || target.attr('data-youtube-id') || target.attr('data-vzaar-id'), width = target.attr('data-width') || this._core.settings.videoWidth, height = target.attr('data-height') || this._core.settings.videoHeight, url = target.attr('href'); if (url) {
            id = url.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/); if (id[3].indexOf('youtu') > -1) { type = 'youtube'; } else if (id[3].indexOf('vimeo') > -1) { type = 'vimeo'; } else if (id[3].indexOf('vzaar') > -1) { type = 'vzaar'; } else { throw new Error('Video URL not supported.'); }
            id = id[6];
        } else { throw new Error('Missing video URL.'); }
        this._videos[url] = { type: type, id: id, width: width, height: height }; item.attr('data-video', url); this.thumbnail(target, this._videos[url]);
    }; Video.prototype.thumbnail = function (target, video) {
        var tnLink, icon, path, dimensions = video.width && video.height ? 'width:' + video.width + 'px;height:' + video.height + 'px;' : '', customTn = target.find('img'), srcType = 'src', lazyClass = '', settings = this._core.settings, create = function (path) {
            icon = '<div class="owl-video-play-icon"></div>'; if (settings.lazyLoad) { tnLink = $('<div/>', { "class": 'owl-video-tn ' + lazyClass, "srcType": path }); } else { tnLink = $('<div/>', { "class": "owl-video-tn", "style": 'opacity:1;background-image:url(' + path + ')' }); }
            target.after(tnLink); target.after(icon);
        }; target.wrap($('<div/>', { "class": "owl-video-wrapper", "style": dimensions })); if (this._core.settings.lazyLoad) { srcType = 'data-src'; lazyClass = 'owl-lazy'; }
        if (customTn.length) { create(customTn.attr(srcType)); customTn.remove(); return false; }
        if (video.type === 'youtube') { path = "//img.youtube.com/vi/" + video.id + "/hqdefault.jpg"; create(path); } else if (video.type === 'vimeo') { $.ajax({ type: 'GET', url: '//vimeo.com/api/v2/video/' + video.id + '.json', jsonp: 'callback', dataType: 'jsonp', success: function (data) { path = data[0].thumbnail_large; create(path); } }); } else if (video.type === 'vzaar') { $.ajax({ type: 'GET', url: '//vzaar.com/api/videos/' + video.id + '.json', jsonp: 'callback', dataType: 'jsonp', success: function (data) { path = data.framegrab_url; create(path); } }); }
    }; Video.prototype.stop = function () { this._core.trigger('stop', null, 'video'); this._playing.find('.owl-video-frame').remove(); this._playing.removeClass('owl-video-playing'); this._playing = null; this._core.leave('playing'); this._core.trigger('stopped', null, 'video'); }; Video.prototype.play = function (event) {
        var target = $(event.target), item = target.closest('.' + this._core.settings.itemClass), video = this._videos[item.attr('data-video')], width = video.width || '100%', height = video.height || this._core.$stage.height(), html, iframe; if (this._playing) { return; }
        this._core.enter('playing'); this._core.trigger('play', null, 'video'); item = this._core.items(this._core.relative(item.index())); this._core.reset(item.index()); html = $('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'); html.attr('height', height); html.attr('width', width); if (video.type === 'youtube') { html.attr('src', '//www.youtube.com/embed/' + video.id + '?autoplay=1&rel=0&v=' + video.id); } else if (video.type === 'vimeo') { html.attr('src', '//player.vimeo.com/video/' + video.id + '?autoplay=1'); } else if (video.type === 'vzaar') { html.attr('src', '//view.vzaar.com/' + video.id + '/player?autoplay=true'); }
        iframe = $(html).wrap('<div class="owl-video-frame" />').insertAfter(item.find('.owl-video')); this._playing = item.addClass('owl-video-playing');
    }; Video.prototype.isInFullScreen = function () { var element = document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement; return element && $(element).parent().hasClass('owl-video-frame'); }; Video.prototype.destroy = function () {
        var handler, property; this._core.$element.off('click.owl.video'); for (handler in this._handlers) { this._core.$element.off(handler, this._handlers[handler]); }
        for (property in Object.getOwnPropertyNames(this)) { typeof this[property] != 'function' && (this[property] = null); }
    }; $.fn.owlCarousel.Constructor.Plugins.Video = Video;
})(window.Zepto || window.jQuery, window, document);; (function ($, window, document, undefined) {
    var Animate = function (scope) { this.core = scope; this.core.options = $.extend({}, Animate.Defaults, this.core.options); this.swapping = true; this.previous = undefined; this.next = undefined; this.handlers = { 'change.owl.carousel': $.proxy(function (e) { if (e.namespace && e.property.name == 'position') { this.previous = this.core.current(); this.next = e.property.value; } }, this), 'drag.owl.carousel dragged.owl.carousel translated.owl.carousel': $.proxy(function (e) { if (e.namespace) { this.swapping = e.type == 'translated'; } }, this), 'translate.owl.carousel': $.proxy(function (e) { if (e.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn)) { this.swap(); } }, this) }; this.core.$element.on(this.handlers); }; Animate.Defaults = { animateOut: false, animateIn: false }; Animate.prototype.swap = function () {
        if (this.core.settings.items !== 1) { return; }
        if (!$.support.animation || !$.support.transition) { return; }
        this.core.speed(0); var left, clear = $.proxy(this.clear, this), previous = this.core.$stage.children().eq(this.previous), next = this.core.$stage.children().eq(this.next), incoming = this.core.settings.animateIn, outgoing = this.core.settings.animateOut; if (this.core.current() === this.previous) { return; }
        if (outgoing) { left = this.core.coordinates(this.previous) - this.core.coordinates(this.next); previous.one($.support.animation.end, clear).css({ 'left': left + 'px' }).addClass('animated owl-animated-out').addClass(outgoing); }
        if (incoming) { next.one($.support.animation.end, clear).addClass('animated owl-animated-in').addClass(incoming); }
    }; Animate.prototype.clear = function (e) { $(e.target).css({ 'left': '' }).removeClass('animated owl-animated-out owl-animated-in').removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut); this.core.onTransitionEnd(); }; Animate.prototype.destroy = function () {
        var handler, property; for (handler in this.handlers) { this.core.$element.off(handler, this.handlers[handler]); }
        for (property in Object.getOwnPropertyNames(this)) { typeof this[property] != 'function' && (this[property] = null); }
    }; $.fn.owlCarousel.Constructor.Plugins.Animate = Animate;
})(window.Zepto || window.jQuery, window, document);; (function ($, window, document, undefined) {
    var Autoplay = function (carousel) { this._core = carousel; this._call = null; this._time = 0; this._timeout = 0; this._paused = true; this._handlers = { 'changed.owl.carousel': $.proxy(function (e) { if (e.namespace && e.property.name === 'settings') { if (this._core.settings.autoplay) { this.play(); } else { this.stop(); } } else if (e.namespace && e.property.name === 'position' && this._paused) { this._time = 0; } }, this), 'initialized.owl.carousel': $.proxy(function (e) { if (e.namespace && this._core.settings.autoplay) { this.play(); } }, this), 'play.owl.autoplay': $.proxy(function (e, t, s) { if (e.namespace) { this.play(t, s); } }, this), 'stop.owl.autoplay': $.proxy(function (e) { if (e.namespace) { this.stop(); } }, this), 'mouseover.owl.autoplay': $.proxy(function () { if (this._core.settings.autoplayHoverPause && this._core.is('rotating')) { this.pause(); } }, this), 'mouseleave.owl.autoplay': $.proxy(function () { if (this._core.settings.autoplayHoverPause && this._core.is('rotating')) { this.play(); } }, this), 'touchstart.owl.core': $.proxy(function () { if (this._core.settings.autoplayHoverPause && this._core.is('rotating')) { this.pause(); } }, this), 'touchend.owl.core': $.proxy(function () { if (this._core.settings.autoplayHoverPause) { this.play(); } }, this) }; this._core.$element.on(this._handlers); this._core.options = $.extend({}, Autoplay.Defaults, this._core.options); }; Autoplay.Defaults = { autoplay: false, autoplayTimeout: 5000, autoplayHoverPause: false, autoplaySpeed: false }; Autoplay.prototype._next = function (speed) {
        this._call = window.setTimeout($.proxy(this._next, this, speed), this._timeout * (Math.round(this.read() / this._timeout) + 1) - this.read()); if (this._core.is('interacting') || document.hidden) { return; }
        this._core.next(speed || this._core.settings.autoplaySpeed);
    }
    Autoplay.prototype.read = function () { return new Date().getTime() - this._time; }; Autoplay.prototype.play = function (timeout, speed) {
        var elapsed; if (!this._core.is('rotating')) { this._core.enter('rotating'); }
        timeout = timeout || this._core.settings.autoplayTimeout; elapsed = Math.min(this._time % (this._timeout || timeout), timeout); if (this._paused) { this._time = this.read(); this._paused = false; } else { window.clearTimeout(this._call); }
        this._time += this.read() % timeout - elapsed; this._timeout = timeout; this._call = window.setTimeout($.proxy(this._next, this, speed), timeout - elapsed);
    }; Autoplay.prototype.stop = function () { if (this._core.is('rotating')) { this._time = 0; this._paused = true; window.clearTimeout(this._call); this._core.leave('rotating'); } }; Autoplay.prototype.pause = function () { if (this._core.is('rotating') && !this._paused) { this._time = this.read(); this._paused = true; window.clearTimeout(this._call); } }; Autoplay.prototype.destroy = function () {
        var handler, property; this.stop(); for (handler in this._handlers) { this._core.$element.off(handler, this._handlers[handler]); }
        for (property in Object.getOwnPropertyNames(this)) { typeof this[property] != 'function' && (this[property] = null); }
    }; $.fn.owlCarousel.Constructor.Plugins.autoplay = Autoplay;
})(window.Zepto || window.jQuery, window, document);; (function ($, window, document, undefined) {
    'use strict'; var Navigation = function (carousel) {
        this._core = carousel; this._initialized = false; this._pages = []; this._controls = {}; this._templates = []; this.$element = this._core.$element; this._overrides = { next: this._core.next, prev: this._core.prev, to: this._core.to }; this._handlers = {
            'prepared.owl.carousel': $.proxy(function (e) {
                if (e.namespace && this._core.settings.dotsData) {
                    this._templates.push('<div class="' + this._core.settings.dotClass + '">' +
                        $(e.content).find('[data-dot]').addBack('[data-dot]').attr('data-dot') + '</div>');
                }
            }, this), 'added.owl.carousel': $.proxy(function (e) { if (e.namespace && this._core.settings.dotsData) { this._templates.splice(e.position, 0, this._templates.pop()); } }, this), 'remove.owl.carousel': $.proxy(function (e) { if (e.namespace && this._core.settings.dotsData) { this._templates.splice(e.position, 1); } }, this), 'changed.owl.carousel': $.proxy(function (e) { if (e.namespace && e.property.name == 'position') { this.draw(); } }, this), 'initialized.owl.carousel': $.proxy(function (e) { if (e.namespace && !this._initialized) { this._core.trigger('initialize', null, 'navigation'); this.initialize(); this.update(); this.draw(); this._initialized = true; this._core.trigger('initialized', null, 'navigation'); } }, this), 'refreshed.owl.carousel': $.proxy(function (e) { if (e.namespace && this._initialized) { this._core.trigger('refresh', null, 'navigation'); this.update(); this.draw(); this._core.trigger('refreshed', null, 'navigation'); } }, this)
        }; this._core.options = $.extend({}, Navigation.Defaults, this._core.options); this.$element.on(this._handlers);
    }; Navigation.Defaults = { nav: true, navText: ['<span aria-label="' + 'Previous' + '">&#x2039;</span>', '<span aria-label="' + 'Next' + '">&#x203a;</span>'], navSpeed: false, navElement: 'button type="button" role="presentation"', navContainer: false, navContainerClass: 'owl-nav', navClass: ['owl-prev', 'owl-next'], slideBy: 1, dotClass: 'owl-dot', dotsClass: 'owl-dots', dots: true, dotsEach: false, dotsData: false, dotsSpeed: false, dotsContainer: false }; Navigation.prototype.initialize = function () {
        var override, settings = this._core.settings; this._controls.$relative = (settings.navContainer ? $(settings.navContainer) : $('<div>').addClass(settings.navContainerClass).appendTo(this.$element)).addClass('disabled'); this._controls.$previous = $('<' + settings.navElement + '>').addClass(settings.navClass[0]).html(settings.navText[0]).prependTo(this._controls.$relative).on('click', $.proxy(function (e) { this.prev(settings.navSpeed); }, this)); this._controls.$next = $('<' + settings.navElement + '>').addClass(settings.navClass[1]).html(settings.navText[1]).appendTo(this._controls.$relative).on('click', $.proxy(function (e) { this.next(settings.navSpeed); }, this)); if (!settings.dotsData) { this._templates = [$('<button role="button">').addClass(settings.dotClass).append($('<span>')).prop('outerHTML')]; }
        this._controls.$absolute = (settings.dotsContainer ? $(settings.dotsContainer) : $('<div>').addClass(settings.dotsClass).appendTo(this.$element)).addClass('disabled'); this._controls.$absolute.on('click', 'button', $.proxy(function (e) { var index = $(e.target).parent().is(this._controls.$absolute) ? $(e.target).index() : $(e.target).parent().index(); e.preventDefault(); this.to(index, settings.dotsSpeed); }, this)); for (override in this._overrides) { this._core[override] = $.proxy(this[override], this); }
    }; Navigation.prototype.destroy = function () {
        var handler, control, property, override, settings; settings = this._core.settings; for (handler in this._handlers) { this.$element.off(handler, this._handlers[handler]); }
        for (control in this._controls) { if (control === '$relative' && settings.navContainer) { this._controls[control].html(''); } else { this._controls[control].remove(); } }
        for (override in this.overides) { this._core[override] = this._overrides[override]; }
        for (property in Object.getOwnPropertyNames(this)) { typeof this[property] != 'function' && (this[property] = null); }
    }; Navigation.prototype.update = function () {
        var i, j, k, lower = this._core.clones().length / 2, upper = lower + this._core.items().length, maximum = this._core.maximum(true), settings = this._core.settings, size = settings.center || settings.autoWidth || settings.dotsData ? 1 : settings.dotsEach || settings.items; if (settings.slideBy !== 'page') { settings.slideBy = Math.min(settings.slideBy, settings.items); }
        if (settings.dots || settings.slideBy == 'page') {
            this._pages = []; for (i = lower, j = 0, k = 0; i < upper; i++) {
                if (j >= size || j === 0) {
                    this._pages.push({ start: Math.min(maximum, i - lower), end: i - lower + size - 1 }); if (Math.min(maximum, i - lower) === maximum) { break; }
                    j = 0, ++k;
                }
                j += this._core.mergers(this._core.relative(i));
            }
        }
    }; Navigation.prototype.draw = function () {
        var difference, settings = this._core.settings, disabled = this._core.items().length <= settings.items, index = this._core.relative(this._core.current()), loop = settings.loop || settings.rewind; this._controls.$relative.toggleClass('disabled', !settings.nav || disabled); if (settings.nav) { this._controls.$previous.toggleClass('disabled', !loop && index <= this._core.minimum(true)); this._controls.$next.toggleClass('disabled', !loop && index >= this._core.maximum(true)); }
        this._controls.$absolute.toggleClass('disabled', !settings.dots || disabled); if (settings.dots) {
            difference = this._pages.length - this._controls.$absolute.children().length; if (settings.dotsData && difference !== 0) { this._controls.$absolute.html(this._templates.join('')); } else if (difference > 0) { this._controls.$absolute.append(new Array(difference + 1).join(this._templates[0])); } else if (difference < 0) { this._controls.$absolute.children().slice(difference).remove(); }
            this._controls.$absolute.find('.active').removeClass('active'); this._controls.$absolute.children().eq($.inArray(this.current(), this._pages)).addClass('active');
        }
    }; Navigation.prototype.onTrigger = function (event) { var settings = this._core.settings; event.page = { index: $.inArray(this.current(), this._pages), count: this._pages.length, size: settings && (settings.center || settings.autoWidth || settings.dotsData ? 1 : settings.dotsEach || settings.items) }; }; Navigation.prototype.current = function () { var current = this._core.relative(this._core.current()); return $.grep(this._pages, $.proxy(function (page, index) { return page.start <= current && page.end >= current; }, this)).pop(); }; Navigation.prototype.getPosition = function (successor) {
        var position, length, settings = this._core.settings; if (settings.slideBy == 'page') { position = $.inArray(this.current(), this._pages); length = this._pages.length; successor ? ++position : --position; position = this._pages[((position % length) + length) % length].start; } else { position = this._core.relative(this._core.current()); length = this._core.items().length; successor ? position += settings.slideBy : position -= settings.slideBy; }
        return position;
    }; Navigation.prototype.next = function (speed) { $.proxy(this._overrides.to, this._core)(this.getPosition(true), speed); }; Navigation.prototype.prev = function (speed) { $.proxy(this._overrides.to, this._core)(this.getPosition(false), speed); }; Navigation.prototype.to = function (position, speed, standard) { var length; if (!standard && this._pages.length) { length = this._pages.length; $.proxy(this._overrides.to, this._core)(this._pages[((position % length) + length) % length].start, speed); } else { $.proxy(this._overrides.to, this._core)(position, speed); } }; $.fn.owlCarousel.Constructor.Plugins.Navigation = Navigation;
})(window.Zepto || window.jQuery, window, document);; (function ($, window, document, undefined) {
    'use strict'; var Hash = function (carousel) {
        this._core = carousel; this._hashes = {}; this.$element = this._core.$element; this._handlers = {
            'initialized.owl.carousel': $.proxy(function (e) { if (e.namespace && this._core.settings.startPosition === 'URLHash') { $(window).trigger('hashchange.owl.navigation'); } }, this), 'prepared.owl.carousel': $.proxy(function (e) {
                if (e.namespace) {
                    var hash = $(e.content).find('[data-hash]').addBack('[data-hash]').attr('data-hash'); if (!hash) { return; }
                    this._hashes[hash] = e.content;
                }
            }, this), 'changed.owl.carousel': $.proxy(function (e) {
                if (e.namespace && e.property.name === 'position') {
                    var current = this._core.items(this._core.relative(this._core.current())), hash = $.map(this._hashes, function (item, hash) { return item === current ? hash : null; }).join(); if (!hash || window.location.hash.slice(1) === hash) { return; }
                    window.location.hash = hash;
                }
            }, this)
        }; this._core.options = $.extend({}, Hash.Defaults, this._core.options); this.$element.on(this._handlers); $(window).on('hashchange.owl.navigation', $.proxy(function (e) {
            var hash = window.location.hash.substring(1), items = this._core.$stage.children(), position = this._hashes[hash] && items.index(this._hashes[hash]); if (position === undefined || position === this._core.current()) { return; }
            this._core.to(this._core.relative(position), false, true);
        }, this));
    }; Hash.Defaults = { URLhashListener: false }; Hash.prototype.destroy = function () {
        var handler, property; $(window).off('hashchange.owl.navigation'); for (handler in this._handlers) { this._core.$element.off(handler, this._handlers[handler]); }
        for (property in Object.getOwnPropertyNames(this)) { typeof this[property] != 'function' && (this[property] = null); }
    }; $.fn.owlCarousel.Constructor.Plugins.Hash = Hash;
})(window.Zepto || window.jQuery, window, document);; (function ($, window, document, undefined) {
    var style = $('<support>').get(0).style, prefixes = 'Webkit Moz O ms'.split(' '), events = { transition: { end: { WebkitTransition: 'webkitTransitionEnd', MozTransition: 'transitionend', OTransition: 'oTransitionEnd', transition: 'transitionend' } }, animation: { end: { WebkitAnimation: 'webkitAnimationEnd', MozAnimation: 'animationend', OAnimation: 'oAnimationEnd', animation: 'animationend' } } }, tests = { csstransforms: function () { return !!test('transform'); }, csstransforms3d: function () { return !!test('perspective'); }, csstransitions: function () { return !!test('transition'); }, cssanimations: function () { return !!test('animation'); } }; function test(property, prefixed) { var result = false, upper = property.charAt(0).toUpperCase() + property.slice(1); $.each((property + ' ' + prefixes.join(upper + ' ') + upper).split(' '), function (i, property) { if (style[property] !== undefined) { result = prefixed ? property : true; return false; } }); return result; }
    function prefixed(property) { return test(property, true); }
    if (tests.csstransitions()) {
        $.support.transition = new String(prefixed('transition'))
        $.support.transition.end = events.transition.end[$.support.transition];
    }
    if (tests.cssanimations()) {
        $.support.animation = new String(prefixed('animation'))
        $.support.animation.end = events.animation.end[$.support.animation];
    }
    if (tests.csstransforms()) { $.support.transform = new String(prefixed('transform')); $.support.transform3d = tests.csstransforms3d(); }
})(window.Zepto || window.jQuery, window, document);
/*!
Waypoints - 4.0.1
Copyright  2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function () { "use strict"; function t(o) { if (!o) throw new Error("No options passed to Waypoint constructor"); if (!o.element) throw new Error("No element option passed to Waypoint constructor"); if (!o.handler) throw new Error("No handler option passed to Waypoint constructor"); this.key = "waypoint-" + e, this.options = t.Adapter.extend({}, t.defaults, o), this.element = this.options.element, this.adapter = new t.Adapter(this.element), this.callback = o.handler, this.axis = this.options.horizontal ? "horizontal" : "vertical", this.enabled = this.options.enabled, this.triggerPoint = null, this.group = t.Group.findOrCreate({ name: this.options.group, axis: this.axis }), this.context = t.Context.findOrCreateByElement(this.options.context), t.offsetAliases[this.options.offset] && (this.options.offset = t.offsetAliases[this.options.offset]), this.group.add(this), this.context.add(this), i[this.key] = this, e += 1 } var e = 0, i = {}; t.prototype.queueTrigger = function (t) { this.group.queueTrigger(this, t) }, t.prototype.trigger = function (t) { this.enabled && this.callback && this.callback.apply(this, t) }, t.prototype.destroy = function () { this.context.remove(this), this.group.remove(this), delete i[this.key] }, t.prototype.disable = function () { return this.enabled = !1, this }, t.prototype.enable = function () { return this.context.refresh(), this.enabled = !0, this }, t.prototype.next = function () { return this.group.next(this) }, t.prototype.previous = function () { return this.group.previous(this) }, t.invokeAll = function (t) { var e = []; for (var o in i) e.push(i[o]); for (var n = 0, r = e.length; r > n; n++)e[n][t]() }, t.destroyAll = function () { t.invokeAll("destroy") }, t.disableAll = function () { t.invokeAll("disable") }, t.enableAll = function () { t.Context.refreshAll(); for (var e in i) i[e].enabled = !0; return this }, t.refreshAll = function () { t.Context.refreshAll() }, t.viewportHeight = function () { return window.innerHeight || document.documentElement.clientHeight }, t.viewportWidth = function () { return document.documentElement.clientWidth }, t.adapters = [], t.defaults = { context: window, continuous: !0, enabled: !0, group: "default", horizontal: !1, offset: 0 }, t.offsetAliases = { "bottom-in-view": function () { return this.context.innerHeight() - this.adapter.outerHeight() }, "right-in-view": function () { return this.context.innerWidth() - this.adapter.outerWidth() } }, window.Waypoint = t }(), function () { "use strict"; function t(t) { window.setTimeout(t, 1e3 / 60) } function e(t) { this.element = t, this.Adapter = n.Adapter, this.adapter = new this.Adapter(t), this.key = "waypoint-context-" + i, this.didScroll = !1, this.didResize = !1, this.oldScroll = { x: this.adapter.scrollLeft(), y: this.adapter.scrollTop() }, this.waypoints = { vertical: {}, horizontal: {} }, t.waypointContextKey = this.key, o[t.waypointContextKey] = this, i += 1, n.windowContext || (n.windowContext = !0, n.windowContext = new e(window)), this.createThrottledScrollHandler(), this.createThrottledResizeHandler() } var i = 0, o = {}, n = window.Waypoint, r = window.onload; e.prototype.add = function (t) { var e = t.options.horizontal ? "horizontal" : "vertical"; this.waypoints[e][t.key] = t, this.refresh() }, e.prototype.checkEmpty = function () { var t = this.Adapter.isEmptyObject(this.waypoints.horizontal), e = this.Adapter.isEmptyObject(this.waypoints.vertical), i = this.element == this.element.window; t && e && !i && (this.adapter.off(".waypoints"), delete o[this.key]) }, e.prototype.createThrottledResizeHandler = function () { function t() { e.handleResize(), e.didResize = !1 } var e = this; this.adapter.on("resize.waypoints", function () { e.didResize || (e.didResize = !0, n.requestAnimationFrame(t)) }) }, e.prototype.createThrottledScrollHandler = function () { function t() { e.handleScroll(), e.didScroll = !1 } var e = this; this.adapter.on("scroll.waypoints", function () { (!e.didScroll || n.isTouch) && (e.didScroll = !0, n.requestAnimationFrame(t)) }) }, e.prototype.handleResize = function () { n.Context.refreshAll() }, e.prototype.handleScroll = function () { var t = {}, e = { horizontal: { newScroll: this.adapter.scrollLeft(), oldScroll: this.oldScroll.x, forward: "right", backward: "left" }, vertical: { newScroll: this.adapter.scrollTop(), oldScroll: this.oldScroll.y, forward: "down", backward: "up" } }; for (var i in e) { var o = e[i], n = o.newScroll > o.oldScroll, r = n ? o.forward : o.backward; for (var s in this.waypoints[i]) { var a = this.waypoints[i][s]; if (null !== a.triggerPoint) { var l = o.oldScroll < a.triggerPoint, h = o.newScroll >= a.triggerPoint, p = l && h, u = !l && !h; (p || u) && (a.queueTrigger(r), t[a.group.id] = a.group) } } } for (var c in t) t[c].flushTriggers(); this.oldScroll = { x: e.horizontal.newScroll, y: e.vertical.newScroll } }, e.prototype.innerHeight = function () { return this.element == this.element.window ? n.viewportHeight() : this.adapter.innerHeight() }, e.prototype.remove = function (t) { delete this.waypoints[t.axis][t.key], this.checkEmpty() }, e.prototype.innerWidth = function () { return this.element == this.element.window ? n.viewportWidth() : this.adapter.innerWidth() }, e.prototype.destroy = function () { var t = []; for (var e in this.waypoints) for (var i in this.waypoints[e]) t.push(this.waypoints[e][i]); for (var o = 0, n = t.length; n > o; o++)t[o].destroy() }, e.prototype.refresh = function () { var t, e = this.element == this.element.window, i = e ? void 0 : this.adapter.offset(), o = {}; this.handleScroll(), t = { horizontal: { contextOffset: e ? 0 : i.left, contextScroll: e ? 0 : this.oldScroll.x, contextDimension: this.innerWidth(), oldScroll: this.oldScroll.x, forward: "right", backward: "left", offsetProp: "left" }, vertical: { contextOffset: e ? 0 : i.top, contextScroll: e ? 0 : this.oldScroll.y, contextDimension: this.innerHeight(), oldScroll: this.oldScroll.y, forward: "down", backward: "up", offsetProp: "top" } }; for (var r in t) { var s = t[r]; for (var a in this.waypoints[r]) { var l, h, p, u, c, d = this.waypoints[r][a], f = d.options.offset, w = d.triggerPoint, y = 0, g = null == w; d.element !== d.element.window && (y = d.adapter.offset()[s.offsetProp]), "function" == typeof f ? f = f.apply(d) : "string" == typeof f && (f = parseFloat(f), d.options.offset.indexOf("%") > -1 && (f = Math.ceil(s.contextDimension * f / 100))), l = s.contextScroll - s.contextOffset, d.triggerPoint = Math.floor(y + l - f), h = w < s.oldScroll, p = d.triggerPoint >= s.oldScroll, u = h && p, c = !h && !p, !g && u ? (d.queueTrigger(s.backward), o[d.group.id] = d.group) : !g && c ? (d.queueTrigger(s.forward), o[d.group.id] = d.group) : g && s.oldScroll >= d.triggerPoint && (d.queueTrigger(s.forward), o[d.group.id] = d.group) } } return n.requestAnimationFrame(function () { for (var t in o) o[t].flushTriggers() }), this }, e.findOrCreateByElement = function (t) { return e.findByElement(t) || new e(t) }, e.refreshAll = function () { for (var t in o) o[t].refresh() }, e.findByElement = function (t) { return o[t.waypointContextKey] }, window.onload = function () { r && r(), e.refreshAll() }, n.requestAnimationFrame = function (e) { var i = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || t; i.call(window, e) }, n.Context = e }(), function () { "use strict"; function t(t, e) { return t.triggerPoint - e.triggerPoint } function e(t, e) { return e.triggerPoint - t.triggerPoint } function i(t) { this.name = t.name, this.axis = t.axis, this.id = this.name + "-" + this.axis, this.waypoints = [], this.clearTriggerQueues(), o[this.axis][this.name] = this } var o = { vertical: {}, horizontal: {} }, n = window.Waypoint; i.prototype.add = function (t) { this.waypoints.push(t) }, i.prototype.clearTriggerQueues = function () { this.triggerQueues = { up: [], down: [], left: [], right: [] } }, i.prototype.flushTriggers = function () { for (var i in this.triggerQueues) { var o = this.triggerQueues[i], n = "up" === i || "left" === i; o.sort(n ? e : t); for (var r = 0, s = o.length; s > r; r += 1) { var a = o[r]; (a.options.continuous || r === o.length - 1) && a.trigger([i]) } } this.clearTriggerQueues() }, i.prototype.next = function (e) { this.waypoints.sort(t); var i = n.Adapter.inArray(e, this.waypoints), o = i === this.waypoints.length - 1; return o ? null : this.waypoints[i + 1] }, i.prototype.previous = function (e) { this.waypoints.sort(t); var i = n.Adapter.inArray(e, this.waypoints); return i ? this.waypoints[i - 1] : null }, i.prototype.queueTrigger = function (t, e) { this.triggerQueues[e].push(t) }, i.prototype.remove = function (t) { var e = n.Adapter.inArray(t, this.waypoints); e > -1 && this.waypoints.splice(e, 1) }, i.prototype.first = function () { return this.waypoints[0] }, i.prototype.last = function () { return this.waypoints[this.waypoints.length - 1] }, i.findOrCreate = function (t) { return o[t.axis][t.name] || new i(t) }, n.Group = i }(), function () { "use strict"; function t(t) { this.$element = e(t) } var e = window.jQuery, i = window.Waypoint; e.each(["innerHeight", "innerWidth", "off", "offset", "on", "outerHeight", "outerWidth", "scrollLeft", "scrollTop"], function (e, i) { t.prototype[i] = function () { var t = Array.prototype.slice.call(arguments); return this.$element[i].apply(this.$element, t) } }), e.each(["extend", "inArray", "isEmptyObject"], function (i, o) { t[o] = e[o] }), i.adapters.push({ name: "jquery", Adapter: t }), i.Adapter = t }(), function () { "use strict"; function t(t) { return function () { var i = [], o = arguments[0]; return t.isFunction(arguments[0]) && (o = t.extend({}, arguments[1]), o.handler = arguments[0]), this.each(function () { var n = t.extend({}, o, { element: this }); "string" == typeof n.context && (n.context = t(this).closest(n.context)[0]), i.push(new e(n)) }), i } } var e = window.Waypoint; window.jQuery && (window.jQuery.fn.waypoint = t(window.jQuery)), window.Zepto && (window.Zepto.fn.waypoint = t(window.Zepto)) }();
(function () {
    'use strict'
    function noop() { }
    var Waypoint = window.Waypoint
    function Inview(options) {
        this.options = Waypoint.Adapter.extend({}, Inview.defaults, options)
        this.axis = this.options.horizontal ? 'horizontal' : 'vertical'
        this.waypoints = []
        this.element = this.options.element
        this.createWaypoints()
    }
    Inview.prototype.createWaypoints = function () {
        var configs = { vertical: [{ down: 'enter', up: 'exited', offset: '100%' }, { down: 'entered', up: 'exit', offset: 'bottom-in-view' }, { down: 'exit', up: 'entered', offset: 0 }, { down: 'exited', up: 'enter', offset: function () { return -this.adapter.outerHeight() } }], horizontal: [{ right: 'enter', left: 'exited', offset: '100%' }, { right: 'entered', left: 'exit', offset: 'right-in-view' }, { right: 'exit', left: 'entered', offset: 0 }, { right: 'exited', left: 'enter', offset: function () { return -this.adapter.outerWidth() } }] }
        for (var i = 0, end = configs[this.axis].length; i < end; i++) {
            var config = configs[this.axis][i]
            this.createWaypoint(config)
        }
    }
    Inview.prototype.createWaypoint = function (config) {
        var self = this
        this.waypoints.push(new Waypoint({ context: this.options.context, element: this.options.element, enabled: this.options.enabled, handler: (function (config) { return function (direction) { self.options[config[direction]].call(self, direction) } }(config)), offset: config.offset, horizontal: this.options.horizontal }))
    }
    Inview.prototype.destroy = function () {
        for (var i = 0, end = this.waypoints.length; i < end; i++) { this.waypoints[i].destroy() }
        this.waypoints = []
    }
    Inview.prototype.disable = function () { for (var i = 0, end = this.waypoints.length; i < end; i++) { this.waypoints[i].disable() } }
    Inview.prototype.enable = function () { for (var i = 0, end = this.waypoints.length; i < end; i++) { this.waypoints[i].enable() } }
    Inview.defaults = { context: window, enabled: true, enter: noop, entered: noop, exit: noop, exited: noop }
    Waypoint.Inview = Inview
}());
(function ($) {
    'use strict'; function safe_add(x, y) { var lsw = (x & 0xFFFF) + (y & 0xFFFF), msw = (x >> 16) + (y >> 16) + (lsw >> 16); return (msw << 16) | (lsw & 0xFFFF); }
    function bit_rol(num, cnt) { return (num << cnt) | (num >>> (32 - cnt)); }
    function md5_cmn(q, a, b, x, s, t) { return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b); }
    function md5_ff(a, b, c, d, x, s, t) { return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t); }
    function md5_gg(a, b, c, d, x, s, t) { return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t); }
    function md5_hh(a, b, c, d, x, s, t) { return md5_cmn(b ^ c ^ d, a, b, x, s, t); }
    function md5_ii(a, b, c, d, x, s, t) { return md5_cmn(c ^ (b | (~d)), a, b, x, s, t); }
    function binl_md5(x, len) {
        x[len >> 5] |= 0x80 << ((len) % 32); x[(((len + 64) >>> 9) << 4) + 14] = len; var i, olda, oldb, oldc, oldd, a = 1732584193, b = -271733879, c = -1732584194, d = 271733878; for (i = 0; i < x.length; i += 16) { olda = a; oldb = b; oldc = c; oldd = d; a = md5_ff(a, b, c, d, x[i], 7, -680876936); d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586); c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819); b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330); a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897); d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426); c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341); b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983); a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416); d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417); c = md5_ff(c, d, a, b, x[i + 10], 17, -42063); b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162); a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682); d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101); c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290); b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329); a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510); d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632); c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713); b = md5_gg(b, c, d, a, x[i], 20, -373897302); a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691); d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083); c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335); b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848); a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438); d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690); c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961); b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501); a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467); d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784); c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473); b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734); a = md5_hh(a, b, c, d, x[i + 5], 4, -378558); d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463); c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562); b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556); a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060); d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353); c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632); b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640); a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174); d = md5_hh(d, a, b, c, x[i], 11, -358537222); c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979); b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189); a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487); d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835); c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520); b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651); a = md5_ii(a, b, c, d, x[i], 6, -198630844); d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415); c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905); b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055); a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571); d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606); c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523); b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799); a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359); d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744); c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380); b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649); a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070); d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379); c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259); b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551); a = safe_add(a, olda); b = safe_add(b, oldb); c = safe_add(c, oldc); d = safe_add(d, oldd); }
        return [a, b, c, d];
    }
    function binl2rstr(input) {
        var i, output = ''; for (i = 0; i < input.length * 32; i += 8) { output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF); }
        return output;
    }
    function rstr2binl(input) {
        var i, output = []; output[(input.length >> 2) - 1] = undefined; for (i = 0; i < output.length; i += 1) { output[i] = 0; }
        for (i = 0; i < input.length * 8; i += 8) { output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32); }
        return output;
    }
    function rstr_md5(s) { return binl2rstr(binl_md5(rstr2binl(s), s.length * 8)); }
    function rstr_hmac_md5(key, data) {
        var i, bkey = rstr2binl(key), ipad = [], opad = [], hash; ipad[15] = opad[15] = undefined; if (bkey.length > 16) { bkey = binl_md5(bkey, key.length * 8); }
        for (i = 0; i < 16; i += 1) { ipad[i] = bkey[i] ^ 0x36363636; opad[i] = bkey[i] ^ 0x5C5C5C5C; }
        hash = binl_md5(ipad.concat(rstr2binl(data)), 512 + data.length * 8); return binl2rstr(binl_md5(opad.concat(hash), 512 + 128));
    }
    function rstr2hex(input) {
        var hex_tab = '0123456789abcdef', output = '', x, i; for (i = 0; i < input.length; i += 1) {
            x = input.charCodeAt(i); output += hex_tab.charAt((x >>> 4) & 0x0F) +
                hex_tab.charAt(x & 0x0F);
        }
        return output;
    }
    function str2rstr_utf8(input) { return unescape(encodeURIComponent(input)); }
    function raw_md5(s) { return rstr_md5(str2rstr_utf8(s)); }
    function hex_md5(s) { return rstr2hex(raw_md5(s)); }
    function raw_hmac_md5(k, d) { return rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d)); }
    function hex_hmac_md5(k, d) { return rstr2hex(raw_hmac_md5(k, d)); }
    $.md5 = function (string, key, raw) {
        if (!key) { if (!raw) { return hex_md5(string); } else { return raw_md5(string); } }
        if (!raw) { return hex_hmac_md5(key, string); } else { return raw_hmac_md5(key, string); }
    };
}(typeof jQuery === 'function' ? jQuery : this));
!function () { "use strict"; function t(e) { return t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, t(e) } function e(e) { var n = function (e, n) { if ("object" != t(e) || !e) return e; var r = e[Symbol.toPrimitive]; if (void 0 !== r) { var o = r.call(e, "string"); if ("object" != t(o)) return o; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(e) }(e); return "symbol" == t(n) ? n : n + "" } function n(t, n) { for (var r = 0; r < n.length; r++) { var o = n[r]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, e(o.key), o) } } function r(t) { var e, n = t.currentTarget.value; n && (e = n, new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$", "i").test(e) && (t.preventDefault(), t.stopImmediatePropagation(), window.location.href = n)) } (function () { function t() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t) } var e, o; return e = t, o = [{ key: "initialize", value: function () { var t = document.querySelector("#mlp_quicklinks_redirect_selection"); if (t) { var e = document.querySelector(".mlp-quicklinks-form__submit"); e && e.parentNode.removeChild(e), t.addEventListener("change", r) } } }], null && n(e.prototype, null), o && n(e, o), Object.defineProperty(e, "prototype", { writable: !1 }), t })().initialize() }();